/*
 TweenJS
 Visit http://createjs.com/ for documentation, updates and examples.

 Copyright (c) 2010 gskinner.com, inc.

 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the "Software"), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
 Platform.js <https://mths.be/platform>
 Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>
 Copyright 2011-2013 John-David Dalton
 Available under MIT license <https://mths.be/mit>
*/
this.createjs=this.createjs||{};createjs.extend=function(a,d){function b(){this.constructor=a}b.prototype=d.prototype;return a.prototype=new b};this.createjs=this.createjs||{};createjs.promote=function(a,d){var b=a.prototype,e=Object.getPrototypeOf&&Object.getPrototypeOf(b)||b.__proto__;if(e){b[(d+="_")+"constructor"]=e.constructor;for(var c in e)b.hasOwnProperty(c)&&"function"==typeof e[c]&&(b[d+c]=e[c])}return a};this.createjs=this.createjs||{};
createjs.deprecate=function(a,d){return function(){var b="Deprecated property or method '"+d+"'. See docs for info.";console&&(console.warn?console.warn(b):console.log(b));return a&&a.apply(this,arguments)}};this.createjs=this.createjs||{};
(function(){function a(b,e,c){this.type=b;this.currentTarget=this.target=null;this.eventPhase=0;this.bubbles=!!e;this.cancelable=!!c;this.timeStamp=(new Date).getTime();this.removed=this.immediatePropagationStopped=this.propagationStopped=this.defaultPrevented=!1}var d=a.prototype;d.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};d.stopPropagation=function(){this.propagationStopped=!0};d.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=
!0};d.remove=function(){this.removed=!0};d.clone=function(){return new a(this.type,this.bubbles,this.cancelable)};d.set=function(b){for(var e in b)this[e]=b[e];return this};d.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=a})();this.createjs=this.createjs||{};
(function(){function a(){this._captureListeners=this._listeners=null}var d=a.prototype;a.initialize=function(b){b.addEventListener=d.addEventListener;b.on=d.on;b.removeEventListener=b.off=d.removeEventListener;b.removeAllEventListeners=d.removeAllEventListeners;b.hasEventListener=d.hasEventListener;b.dispatchEvent=d.dispatchEvent;b._dispatchEvent=d._dispatchEvent;b.willTrigger=d.willTrigger};d.addEventListener=function(b,e,c){var f=c?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var g=f[b];g&&this.removeEventListener(b,e,c);(g=f[b])?g.push(e):f[b]=[e];return e};d.on=function(b,e,c,f,g,h){e.handleEvent&&(c=c||e,e=e.handleEvent);c=c||this;return this.addEventListener(b,function(l){e.call(c,l,g);f&&l.remove()},h)};d.removeEventListener=function(b,e,c){if(c=c?this._captureListeners:this._listeners){var f=c[b];if(f)for(var g=0,h=f.length;g<h;g++)if(f[g]==e){1==h?delete c[b]:f.splice(g,1);break}}};d.off=d.removeEventListener;d.removeAllEventListeners=function(b){b?
(this._listeners&&delete this._listeners[b],this._captureListeners&&delete this._captureListeners[b]):this._listeners=this._captureListeners=null};d.dispatchEvent=function(b,e,c){if("string"==typeof b){var f=this._listeners;if(!(e||f&&f[b]))return!0;b=new createjs.Event(b,e,c)}else b.target&&b.clone&&(b=b.clone());try{b.target=this}catch(g){}if(b.bubbles&&this.parent){c=this;for(e=[c];c.parent;)e.push(c=c.parent);f=e.length;for(c=f-1;0<=c&&!b.propagationStopped;c--)e[c]._dispatchEvent(b,1+(0==c));
for(c=1;c<f&&!b.propagationStopped;c++)e[c]._dispatchEvent(b,3)}else this._dispatchEvent(b,2);return!b.defaultPrevented};d.hasEventListener=function(b){var e=this._listeners,c=this._captureListeners;return!!(e&&e[b]||c&&c[b])};d.willTrigger=function(b){for(var e=this;e;){if(e.hasEventListener(b))return!0;e=e.parent}return!1};d.toString=function(){return"[EventDispatcher]"};d._dispatchEvent=function(b,e){var c,f,g=2>=e?this._captureListeners:this._listeners;if(b&&g&&(f=g[b.type])&&(c=f.length)){try{b.currentTarget=
this}catch(l){}try{b.eventPhase=e|0}catch(l){}b.removed=!1;f=f.slice();for(g=0;g<c&&!b.immediatePropagationStopped;g++){var h=f[g];h.handleEvent?h.handleEvent(b):h(b);b.removed&&(this.off(b.type,h,1==e),b.removed=!1)}}2===e&&this._dispatchEvent(b,2.1)};createjs.EventDispatcher=a})();this.createjs=this.createjs||{};
(function(){function a(){throw"Ticker cannot be instantiated.";}a.RAF_SYNCHED="synched";a.RAF="raf";a.TIMEOUT="timeout";a.timingMode=null;a.maxDelta=0;a.paused=!1;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a._addEventListener=a.addEventListener;a.addEventListener=function(){!a._inited&&a.init();return a._addEventListener.apply(a,arguments)};a._inited=!1;a._startTime=0;a._pausedTime=
0;a._ticks=0;a._pausedTicks=0;a._interval=50;a._lastTime=0;a._times=null;a._tickTimes=null;a._timerId=null;a._raf=!0;a._setInterval=function(e){a._interval=e;a._inited&&a._setupTick()};a.setInterval=createjs.deprecate(a._setInterval,"Ticker.setInterval");a._getInterval=function(){return a._interval};a.getInterval=createjs.deprecate(a._getInterval,"Ticker.getInterval");a._setFPS=function(e){a._setInterval(1E3/e)};a.setFPS=createjs.deprecate(a._setFPS,"Ticker.setFPS");a._getFPS=function(){return 1E3/
a._interval};a.getFPS=createjs.deprecate(a._getFPS,"Ticker.getFPS");try{Object.defineProperties(a,{interval:{get:a._getInterval,set:a._setInterval},framerate:{get:a._getFPS,set:a._setFPS}})}catch(e){console.log(e)}a.init=function(){a._inited||(a._inited=!0,a._times=[],a._tickTimes=[],a._startTime=a._getTime(),a._times.push(a._lastTime=0),a.interval=a._interval)};a.reset=function(){if(a._raf){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||
window.msCancelAnimationFrame;e&&e(a._timerId)}else clearTimeout(a._timerId);a.removeAllEventListeners("tick");a._timerId=a._times=a._tickTimes=null;a._startTime=a._lastTime=a._ticks=a._pausedTime=0;a._inited=!1};a.getMeasuredTickTime=function(e){var c=0,f=a._tickTimes;if(!f||1>f.length)return-1;e=Math.min(f.length,e||a._getFPS()|0);for(var g=0;g<e;g++)c+=f[g];return c/e};a.getMeasuredFPS=function(e){var c=a._times;if(!c||2>c.length)return-1;e=Math.min(c.length-1,e||a._getFPS()|0);return 1E3/((c[0]-
c[e])/e)};a.getTime=function(e){return a._startTime?a._getTime()-(e?a._pausedTime:0):-1};a.getEventTime=function(e){return a._startTime?(a._lastTime||a._startTime)-(e?a._pausedTime:0):-1};a.getTicks=function(e){return a._ticks-(e?a._pausedTicks:0)};a._handleSynch=function(){a._timerId=null;a._setupTick();a._getTime()-a._lastTime>=.97*(a._interval-1)&&a._tick()};a._handleRAF=function(){a._timerId=null;a._setupTick();a._tick()};a._handleTimeout=function(){a._timerId=null;a._setupTick();a._tick()};a._setupTick=
function(){if(null==a._timerId){var e=a.timingMode;if(e==a.RAF_SYNCHED||e==a.RAF){var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(c){a._timerId=c(e==a.RAF?a._handleRAF:a._handleSynch);a._raf=!0;return}}a._raf=!1;a._timerId=setTimeout(a._handleTimeout,a._interval)}};a._tick=function(){var e=a.paused,c=a._getTime(),f=c-a._lastTime;a._lastTime=c;a._ticks++;e&&(a._pausedTicks++,a._pausedTime+=
f);if(a.hasEventListener("tick")){var g=new createjs.Event("tick"),h=a.maxDelta;g.delta=h&&f>h?h:f;g.paused=e;g.time=c;g.runTime=c-a._pausedTime;a.dispatchEvent(g)}for(a._tickTimes.unshift(a._getTime()-c);100<a._tickTimes.length;)a._tickTimes.pop();for(a._times.unshift(c);100<a._times.length;)a._times.pop()};var d=window,b=d.performance.now||d.performance.mozNow||d.performance.msNow||d.performance.oNow||d.performance.webkitNow;a._getTime=function(){return(b&&b.call(d.performance)||(new Date).getTime())-
a._startTime};createjs.Ticker=a})();this.createjs=this.createjs||{};
(function(){function a(b){this.EventDispatcher_constructor();this.ignoreGlobalPause=!1;this.loop=0;this.bounce=this.reversed=this.useTicks=!1;this.timeScale=1;this.position=this.duration=0;this.rawPosition=-1;this._paused=!0;this._labelList=this._labels=this._parent=this._prev=this._next=null;b&&(this.useTicks=!!b.useTicks,this.ignoreGlobalPause=!!b.ignoreGlobalPause,this.loop=!0===b.loop?-1:b.loop||0,this.reversed=!!b.reversed,this.bounce=!!b.bounce,this.timeScale=b.timeScale||1,b.onChange&&this.addEventListener("change",
b.onChange),b.onComplete&&this.addEventListener("complete",b.onComplete))}var d=createjs.extend(a,createjs.EventDispatcher);d._setPaused=function(b){createjs.Tween._register(this,b);return this};d.setPaused=createjs.deprecate(d._setPaused,"AbstractTween.setPaused");d._getPaused=function(){return this._paused};d.getPaused=createjs.deprecate(d._getPaused,"AbstactTween.getPaused");d._getCurrentLabel=function(b){var e=this.getLabels();null==b&&(b=this.position);for(var c=0,f=e.length;c<f&&!(b<e[c].position);c++);
return 0===c?null:e[c-1].label};d.getCurrentLabel=createjs.deprecate(d._getCurrentLabel,"AbstractTween.getCurrentLabel");try{Object.defineProperties(d,{paused:{set:d._setPaused,get:d._getPaused},currentLabel:{get:d._getCurrentLabel}})}catch(b){}d.advance=function(b,e){this.setPosition(this.rawPosition+b*this.timeScale,e)};d.setPosition=function(b,e,c,f){var g=this.duration,h=this.loop,l=this.rawPosition,k=0;0>b&&(b=0);if(0===g){var p=!0;if(-1!==l)return p}else{var A=b/g|0;k=b-A*g;(p=-1!==h&&b>=h*
g+g)&&(b=(k=g)*(A=h)+g);if(b===l)return p;!this.reversed!==!(this.bounce&&A%2)&&(k=g-k)}this.position=k;this.rawPosition=b;this._updatePosition(c,p);p&&(this.paused=!0);f&&f(this);e||this._runActions(l,b,c,!c&&-1===l);this.dispatchEvent("change");p&&this.dispatchEvent("complete")};d.calculatePosition=function(b){var e=this.duration,c=this.loop,f=0;if(0===e)return 0;-1!==c&&b>=c*e+e?(b=e,f=c):0>b?b=0:(f=b/e|0,b-=f*e);return!this.reversed!==!(this.bounce&&f%2)?e-b:b};d.getLabels=function(){var b=this._labelList;
if(!b){b=this._labelList=[];var e=this._labels,c;for(c in e)b.push({label:c,position:e[c]});b.sort(function(f,g){return f.position-g.position})}return b};d.setLabels=function(b){this._labels=b;this._labelList=null};d.addLabel=function(b,e){this._labels||(this._labels={});this._labels[b]=e;var c=this._labelList;if(c){for(var f=0,g=c.length;f<g&&!(e<c[f].position);f++);c.splice(f,0,{label:b,position:e})}};d.gotoAndPlay=function(b){this.paused=!1;this._goto(b)};d.gotoAndStop=function(b){this.paused=
!0;this._goto(b)};d.resolve=function(b){var e=Number(b);isNaN(e)&&(e=this._labels&&this._labels[b]);return e};d.toString=function(){return"[AbstractTween]"};d.clone=function(){throw"AbstractTween can not be cloned.";};d._init=function(b){b&&b.paused||(this.paused=!1);b&&null!=b.position&&this.setPosition(b.position)};d._updatePosition=function(b,e){};d._goto=function(b){b=this.resolve(b);null!=b&&this.setPosition(b,!1,!0)};d._runActions=function(b,e,c,f){if(this._actionHead||this.tweens){var g=this.duration,
h=this.reversed,l=this.bounce,k=this.loop,p,A,z;if(0===g){var E=p=A=z=0;h=l=!1}else E=b/g|0,p=e/g|0,A=b-E*g,z=e-p*g;-1!==k&&(p>k&&(z=g,p=k),E>k&&(A=g,E=k));if(c)return this._runActionsRange(z,z,c,f);if(E!==p||A!==z||c||f){-1===E&&(E=A=0);b=b<=e;e=E;do{k=e===E?A:b?0:g;var t=e===p?z:b?g:0;!h!==!(l&&e%2)&&(k=g-k,t=g-t);if((!l||e===E||k!==t)&&this._runActionsRange(k,t,c,f||e!==E&&!l))return!0;f=!1}while(b&&++e<=p||!b&&--e>=p)}}};d._runActionsRange=function(b,e,c,f){};createjs.AbstractTween=createjs.promote(a,
"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function a(c,f){this.AbstractTween_constructor(f);this.pluginData=null;this.target=c;this.passive=!1;this._stepTail=this._stepHead=new d(null,0,0,{},null,!0);this._stepPosition=0;this._injected=this._pluginIds=this._plugins=this._actionTail=this._actionHead=null;f&&(this.pluginData=f.pluginData,f.override&&a.removeTweens(c));this.pluginData||(this.pluginData={});this._init(f)}function d(c,f,g,h,l,k){this.next=null;this.prev=c;this.t=f;this.d=g;this.props=h;this.ease=l;this.passive=k;this.index=
c?c.index+1:0}function b(c,f,g,h,l){this.next=null;this.prev=c;this.t=f;this.d=0;this.scope=g;this.funct=h;this.params=l}var e=createjs.extend(a,createjs.AbstractTween);a.IGNORE={};a._tweens=[];a._plugins=null;a._tweenHead=null;a._tweenTail=null;a.get=function(c,f){return new a(c,f)};a.tick=function(c,f){for(var g=a._tweenHead;g;){var h=g._next;f&&!g.ignoreGlobalPause||g._paused||g.advance(g.useTicks?1:c);g=h}};a.handleEvent=function(c){"tick"===c.type&&this.tick(c.delta,c.paused)};a.removeTweens=
function(c){if(c.tweenjs_count){for(var f=a._tweenHead;f;){var g=f._next;f.target===c&&a._register(f,!0);f=g}c.tweenjs_count=0}};a.removeAllTweens=function(){for(var c=a._tweenHead;c;){var f=c._next;c._paused=!0;c.target&&(c.target.tweenjs_count=0);c._next=c._prev=null;c=f}a._tweenHead=a._tweenTail=null};a.hasActiveTweens=function(c){return c?!!c.tweenjs_count:!!a._tweenHead};a._installPlugin=function(c){for(var f=c.priority=c.priority||0,g=a._plugins=a._plugins||[],h=0,l=g.length;h<l&&!(f<g[h].priority);h++);
g.splice(h,0,c)};a._register=function(c,f){var g=c.target;if(!f&&c._paused)g&&(g.tweenjs_count=g.tweenjs_count?g.tweenjs_count+1:1),(g=a._tweenTail)?(a._tweenTail=g._next=c,c._prev=g):a._tweenHead=a._tweenTail=c,!a._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",a),a._inited=!0);else if(f&&!c._paused){g&&g.tweenjs_count--;g=c._next;var h=c._prev;g?g._prev=h:a._tweenTail=h;h?h._next=g:a._tweenHead=g;c._next=c._prev=null}c._paused=f};e.wait=function(c,f){0<c&&this._addStep(+c,this._stepTail.props,
null,f);return this};e.to=function(c,f,g){if(null==f||0>f)f=0;f=this._addStep(+f,null,g);this._appendProps(c,f);return this};e.label=function(c){this.addLabel(c,this.duration);return this};e.call=function(c,f,g){return this._addAction(g||this.target,c,f||[this])};e.set=function(c,f){return this._addAction(f||this.target,this._set,[c])};e.play=function(c){return this._addAction(c||this,this._set,[{paused:!1}])};e.pause=function(c){return this._addAction(c||this,this._set,[{paused:!0}])};e.w=e.wait;
e.t=e.to;e.c=e.call;e.s=e.set;e.toString=function(){return"[Tween]"};e.clone=function(){throw"Tween can not be cloned.";};e._addPlugin=function(c){var f=this._pluginIds||(this._pluginIds={}),g=c.ID;if(g&&!f[g]){f[g]=!0;f=this._plugins||(this._plugins=[]);g=c.priority||0;for(var h=0,l=f.length;h<l;h++)if(g<f[h].priority){f.splice(h,0,c);return}f.push(c)}};e._updatePosition=function(c,f){var g=this._stepHead.next,h=this.position,l=this.duration;if(this.target&&g){for(var k=g.next;k&&k.t<=h;)g=g.next,
k=g.next;this._updateTargetProps(g,f?0===l?1:h/l:(h-g.t)/g.d,f)}this._stepPosition=g?h-g.t:0};e._updateTargetProps=function(c,f,g){if(!(this.passive=!!c.passive)){var h,l=c.prev.props,k=c.props;if(h=c.ease)f=h(f,0,1,1);h=this._plugins;var p;a:for(p in l){var A=l[p];var z=k[p];A=A!==z&&"number"===typeof A?A+(z-A)*f:1<=f?z:A;if(h){z=0;for(var E=h.length;z<E;z++){var t=h[z].change(this,c,p,A,f,g);if(t===a.IGNORE)continue a;void 0!==t&&(A=t)}}this.target[p]=A}}};e._runActionsRange=function(c,f,g,h){var l=
(g=c>f)?this._actionTail:this._actionHead,k=f,p=c;g&&(k=c,p=f);for(var A=this.position;l;){var z=l.t;if(z===f||z>p&&z<k||h&&z===c)if(l.funct.apply(l.scope,l.params),A!==this.position)return!0;l=g?l.prev:l.next}};e._appendProps=function(c,f,g){var h=this._stepHead.props,l=this.target,k=a._plugins,p,A,z=f.prev,E=z.props,t=f.props||(f.props=this._cloneProps(E)),v={};for(p in c)if(c.hasOwnProperty(p)&&(v[p]=t[p]=c[p],void 0===h[p])){var y=void 0;if(k)for(A=k.length-1;0<=A;A--){var B=k[A].init(this,p,
y);void 0!==B&&(y=B);if(y===a.IGNORE){delete t[p];delete v[p];break}}y!==a.IGNORE&&(void 0===y&&(y=l[p]),E[p]=void 0===y?null:y)}for(p in v){var w;for(c=z;(w=c)&&(c=w.prev);)if(c.props!==w.props){if(void 0!==c.props[p])break;c.props[p]=E[p]}}if(!1!==g&&(k=this._plugins))for(A=k.length-1;0<=A;A--)k[A].step(this,f,v);if(g=this._injected)this._injected=null,this._appendProps(g,f,!1)};e._injectProp=function(c,f){(this._injected||(this._injected={}))[c]=f};e._addStep=function(c,f,g,h){f=new d(this._stepTail,
this.duration,c,f,g,h||!1);this.duration+=c;return this._stepTail=this._stepTail.next=f};e._addAction=function(c,f,g){c=new b(this._actionTail,this.duration,c,f,g);this._actionTail?this._actionTail.next=c:this._actionHead=c;this._actionTail=c;return this};e._set=function(c){for(var f in c)this[f]=c[f]};e._cloneProps=function(c){var f={},g;for(g in c)f[g]=c[g];return f};createjs.Tween=createjs.promote(a,"AbstractTween")})();this.createjs=this.createjs||{};
(function(){function a(b){if(b instanceof Array||null==b&&1<arguments.length){var e=b;var c=arguments[1];b=arguments[2]}else b&&(e=b.tweens,c=b.labels);this.AbstractTween_constructor(b);this.tweens=[];e&&this.addTween.apply(this,e);this.setLabels(c);this._init(b)}var d=createjs.extend(a,createjs.AbstractTween);d.addTween=function(b){b._parent&&b._parent.removeTween(b);var e=arguments.length;if(1<e){for(var c=0;c<e;c++)this.addTween(arguments[c]);return arguments[e-1]}if(0===e)return null;this.tweens.push(b);
b._parent=this;b.paused=!0;e=b.duration;0<b.loop&&(e*=b.loop+1);e>this.duration&&(this.duration=e);0<=this.rawPosition&&b.setPosition(this.rawPosition);return b};d.removeTween=function(b){var e=arguments.length;if(1<e){for(var c=!0,f=0;f<e;f++)c=c&&this.removeTween(arguments[f]);return c}if(0===e)return!0;e=this.tweens;for(f=e.length;f--;)if(e[f]===b)return e.splice(f,1),b._parent=null,b.duration>=this.duration&&this.updateDuration(),!0;return!1};d.updateDuration=function(){for(var b=this.duration=
0,e=this.tweens.length;b<e;b++){var c=this.tweens[b],f=c.duration;0<c.loop&&(f*=c.loop+1);f>this.duration&&(this.duration=f)}};d.toString=function(){return"[Timeline]"};d.clone=function(){throw"Timeline can not be cloned.";};d._updatePosition=function(b,e){for(var c=this.position,f=0,g=this.tweens.length;f<g;f++)this.tweens[f].setPosition(c,!0,b)};d._runActionsRange=function(b,e,c,f){for(var g=this.position,h=0,l=this.tweens.length;h<l;h++)if(this.tweens[h]._runActions(b,e,c,f),g!==this.position)return!0};
createjs.Timeline=createjs.promote(a,"AbstractTween")})();this.createjs=this.createjs||{};
(function(){function a(){throw"Ease cannot be instantiated.";}a.linear=function(d){return d};a.none=a.linear;a.get=function(d){-1>d?d=-1:1<d&&(d=1);return function(b){return 0==d?b:0>d?b*(b*-d+1+d):b*((2-b)*d+(1-d))}};a.getPowIn=function(d){return function(b){return Math.pow(b,d)}};a.getPowOut=function(d){return function(b){return 1-Math.pow(1-b,d)}};a.getPowInOut=function(d){return function(b){return 1>(b*=2)?.5*Math.pow(b,d):1-.5*Math.abs(Math.pow(2-b,d))}};a.quadIn=a.getPowIn(2);a.quadOut=a.getPowOut(2);
a.quadInOut=a.getPowInOut(2);a.cubicIn=a.getPowIn(3);a.cubicOut=a.getPowOut(3);a.cubicInOut=a.getPowInOut(3);a.quartIn=a.getPowIn(4);a.quartOut=a.getPowOut(4);a.quartInOut=a.getPowInOut(4);a.quintIn=a.getPowIn(5);a.quintOut=a.getPowOut(5);a.quintInOut=a.getPowInOut(5);a.sineIn=function(d){return 1-Math.cos(d*Math.PI/2)};a.sineOut=function(d){return Math.sin(d*Math.PI/2)};a.sineInOut=function(d){return-.5*(Math.cos(Math.PI*d)-1)};a.getBackIn=function(d){return function(b){return b*b*((d+1)*b-d)}};
a.backIn=a.getBackIn(1.7);a.getBackOut=function(d){return function(b){return--b*b*((d+1)*b+d)+1}};a.backOut=a.getBackOut(1.7);a.getBackInOut=function(d){d*=1.525;return function(b){return 1>(b*=2)?.5*b*b*((d+1)*b-d):.5*((b-=2)*b*((d+1)*b+d)+2)}};a.backInOut=a.getBackInOut(1.7);a.circIn=function(d){return-(Math.sqrt(1-d*d)-1)};a.circOut=function(d){return Math.sqrt(1- --d*d)};a.circInOut=function(d){return 1>(d*=2)?-.5*(Math.sqrt(1-d*d)-1):.5*(Math.sqrt(1-(d-=2)*d)+1)};a.bounceIn=function(d){return 1-
a.bounceOut(1-d)};a.bounceOut=function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+.9375:7.5625*(d-=2.625/2.75)*d+.984375};a.bounceInOut=function(d){return.5>d?.5*a.bounceIn(2*d):.5*a.bounceOut(2*d-1)+.5};a.getElasticIn=function(d,b){var e=2*Math.PI;return function(c){if(0==c||1==c)return c;var f=b/e*Math.asin(1/d);return-(d*Math.pow(2,10*--c)*Math.sin((c-f)*e/b))}};a.elasticIn=a.getElasticIn(1,.3);a.getElasticOut=function(d,b){var e=2*Math.PI;
return function(c){return 0==c||1==c?c:d*Math.pow(2,-10*c)*Math.sin((c-b/e*Math.asin(1/d))*e/b)+1}};a.elasticOut=a.getElasticOut(1,.3);a.getElasticInOut=function(d,b){var e=2*Math.PI;return function(c){var f=b/e*Math.asin(1/d);return 1>(c*=2)?-.5*d*Math.pow(2,10*--c)*Math.sin((c-f)*e/b):d*Math.pow(2,-10*--c)*Math.sin((c-f)*e/b)*.5+1}};a.elasticInOut=a.getElasticInOut(1,.3*1.5);createjs.Ease=a})();this.createjs=this.createjs||{};
(function(){function a(){throw"MotionGuidePlugin cannot be instantiated.";}a.priority=0;a.ID="MotionGuide";a.install=function(){createjs.Tween._installPlugin(a);return createjs.Tween.IGNORE};a.init=function(d,b,e){"guide"==b&&d._addPlugin(a)};a.step=function(d,b,e){for(var c in e)if("guide"===c){var f=b.props.guide,g=a._solveGuideData(e.guide,f);f.valid=!g;var h=f.endData;d._injectProp("x",h.x);d._injectProp("y",h.y);if(g||!f.orient)break;f.startOffsetRot=(void 0===b.prev.props.rotation?d.target.rotation||
0:b.prev.props.rotation)-f.startData.rotation;if("fixed"==f.orient)f.endAbsRot=h.rotation+f.startOffsetRot,f.deltaRotation=0;else{g=void 0===e.rotation?d.target.rotation||0:e.rotation;h=g-f.endData.rotation-f.startOffsetRot;var l=h%360;f.endAbsRot=g;switch(f.orient){case "auto":f.deltaRotation=h;break;case "cw":f.deltaRotation=(l+360)%360+360*Math.abs(h/360|0);break;case "ccw":f.deltaRotation=(l-360)%360+-360*Math.abs(h/360|0)}}d._injectProp("rotation",f.endAbsRot)}};a.change=function(d,b,e,c,f,g){if((c=
b.props.guide)&&b.props!==b.prev.props&&c!==b.prev.props.guide){if("guide"===e&&!c.valid||"x"==e||"y"==e||"rotation"===e&&c.orient)return createjs.Tween.IGNORE;a._ratioToPositionData(f,c,d.target)}};a.debug=function(d,b,e){d=d.guide||d;var c=a._findPathProblems(d);c&&console.error("MotionGuidePlugin Error found: \n"+c);if(!b)return c;var f,g=d.path,h=g.length;b.save();b.lineCap="round";b.lineJoin="miter";b.beginPath();b.moveTo(g[0],g[1]);for(f=2;f<h;f+=4)b.quadraticCurveTo(g[f],g[f+1],g[f+2],g[f+
3]);b.strokeStyle="black";b.lineWidth=4.5;b.stroke();b.strokeStyle="white";b.lineWidth=3;b.stroke();b.closePath();g=e.length;if(e&&g){h={};var l={};a._solveGuideData(d,h);for(f=0;f<g;f++)h.orient="fixed",a._ratioToPositionData(e[f],h,l),b.beginPath(),b.moveTo(l.x,l.y),b.lineTo(l.x+9*Math.cos(.0174533*l.rotation),l.y+9*Math.sin(.0174533*l.rotation)),b.strokeStyle="black",b.lineWidth=4.5,b.stroke(),b.strokeStyle="red",b.lineWidth=3,b.stroke(),b.closePath()}b.restore();return c};a._solveGuideData=function(d,
b){var e;if(e=a.debug(d))return e;var c=b.path=d.path;b.orient=d.orient;b.subLines=[];b.totalLength=0;b.startOffsetRot=0;b.deltaRotation=0;b.startData={ratio:0};b.endData={ratio:1};b.animSpan=1;var f=c.length,g,h={};var l=c[0];var k=c[1];for(e=2;e<f;e+=4){var p=c[e];var A=c[e+1];var z=c[e+2];var E=c[e+3];var t={weightings:[],estLength:0,portion:0},v=l;var y=k;for(g=1;10>=g;g++)a._getParamsForCurve(l,k,p,A,z,E,g/10,!1,h),v=h.x-v,y=h.y-y,y=Math.sqrt(v*v+y*y),t.weightings.push(y),t.estLength+=y,v=h.x,
y=h.y;b.totalLength+=t.estLength;for(g=0;10>g;g++)y=t.estLength,t.weightings[g]/=y;b.subLines.push(t);l=z;k=E}y=b.totalLength;c=b.subLines.length;for(e=0;e<c;e++)b.subLines[e].portion=b.subLines[e].estLength/y;e=isNaN(d.start)?0:d.start;c=isNaN(d.end)?1:d.end;a._ratioToPositionData(e,b,b.startData);a._ratioToPositionData(c,b,b.endData);b.startData.ratio=e;b.endData.ratio=c;b.animSpan=b.endData.ratio-b.startData.ratio};a._ratioToPositionData=function(d,b,e){var c=b.subLines,f,g=0,h=d*b.animSpan+b.startData.ratio;
var l=c.length;for(f=0;f<l;f++){var k=c[f].portion;if(g+k>=h){var p=f;break}g+=k}void 0===p&&(p=l-1,g-=k);c=c[p].weightings;var A=k;l=c.length;for(f=0;f<l;f++){k=c[f]*A;if(g+k>=h)break;g+=k}p=4*p+2;l=b.path;a._getParamsForCurve(l[p-2],l[p-1],l[p],l[p+1],l[p+2],l[p+3],f/10+(h-g)/k*.1,b.orient,e);b.orient&&(e.rotation=.99999<=d&&1.00001>=d&&void 0!==b.endAbsRot?b.endAbsRot:e.rotation+(b.startOffsetRot+d*b.deltaRotation));return e};a._getParamsForCurve=function(d,b,e,c,f,g,h,l,k){var p=1-h;k.x=p*p*d+
2*p*h*e+h*h*f;k.y=p*p*b+2*p*h*c+h*h*g;l&&(k.rotation=57.2957795*Math.atan2((c-b)*p+(g-c)*h,(e-d)*p+(f-e)*h))};a._findPathProblems=function(d){var b=d.path,e=b&&b.length||0;if(6>e||(e-2)%4)return"\tCannot parse 'path' array due to invalid number of entries in path. There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\n\nOnly [ "+(e+" ] values found. Expected: "+Math.max(4*
Math.ceil((e-2)/4)+2,6));for(var c=0;c<e;c++)if(isNaN(b[c]))return"All data in path array must be numeric";b=d.start;if(isNaN(b)&&void 0!==b)return"'start' out of bounds. Expected 0 to 1, got: "+b;b=d.end;if(isNaN(b)&&void 0!==b)return"'end' out of bounds. Expected 0 to 1, got: "+b;if((d=d.orient)&&"fixed"!=d&&"auto"!=d&&"cw"!=d&&"ccw"!=d)return'Invalid orientation value. Expected ["fixed", "auto", "cw", "ccw", undefined], got: '+d};createjs.MotionGuidePlugin=a})();this.createjs=this.createjs||{};
(function(){var a=createjs.TweenJS=createjs.TweenJS||{};a.version="1.0.0";a.buildDate="Thu, 14 Sep 2017 19:47:47 GMT"})();
(function(){function a(w){w=String(w);return w.charAt(0).toUpperCase()+w.slice(1)}function d(w,u){var M=-1,J=w?w.length:0;if("number"==typeof J&&-1<J&&J<=E)for(;++M<J;)u(w[M],M,w);else e(w,u)}function b(w){w=String(w).replace(/^ +| +$/g,"");return/^(?:webOS|i(?:OS|P))/.test(w)?w:a(w)}function e(w,u){for(var M in w)v.call(w,M)&&u(w[M],M,w)}function c(w){return null==w?a(w):y.call(w).slice(8,-1)}function f(w,u){var M=null!=w?typeof w[u]:"number";return!/^(?:boolean|number|string|undefined)$/.test(M)&&
("object"==M?!!w[u]:!0)}function g(w){return String(w).replace(/([ -])(?!$)/g,"$1?")}function h(w,u){var M=null;d(w,function(J,K){M=u(M,J,K,w)});return M}function l(w){function u(T){return h(T,function(S,Q){var U=Q.pattern||g(Q);!S&&(S=RegExp("\\b"+U+" *\\d+[.\\w_]*","i").exec(w)||RegExp("\\b"+U+" *\\w+-[\\w]*","i").exec(w)||RegExp("\\b"+U+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(w))&&((S=String(Q.label&&!RegExp(U,"i").test(Q.label)?Q.label:S).split("/"))[1]&&!/[\d.]+/.test(S[0])&&(S[0]+=
" "+S[1]),Q=Q.label||Q,S=b(S[0].replace(RegExp(U,"i"),Q).replace(RegExp("; *(?:"+Q+"[_-])?","i")," ").replace(RegExp("("+Q+")[-_.]?(\\w)","i"),"$1 $2")));return S})}function M(T){return h(T,function(S,Q){return S||(RegExp(Q+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(w)||0)[1]||null})}var J=p,K=w&&"object"==typeof w&&"String"!=c(w);K&&(J=w,w=null);var R=J.navigator||{},G=R.userAgent||"";w||(w=G);var L=K?!!R.likeChrome:/\bChrome\b/.test(w)&&!/internal|\n/i.test(y.toString()),
N=K?"Object":"ScriptBridgingProxyObject",n=K?"Object":"Environment",q=K&&J.java?"JavaPackage":c(J.java),m=K?"Object":"RuntimeObject";n=(q=/\bJava/.test(q)&&J.java)&&c(J.environment)==n;var r=q?"a":"\u03b1",C=q?"b":"\u03b2",F=J.document||{},D=J.operamini||J.opera,X=t.test(X=K&&D?D["[[Class]]"]:c(D))?X:D=null,x,Z=w;K=[];var aa=null,Y=w==G;G=Y&&D&&"function"==typeof D.version&&D.version();var O=function(T){return h(T,function(S,Q){return S||RegExp("\\b"+(Q.pattern||g(Q))+"\\b","i").exec(w)&&(Q.label||
Q)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),H=function(T){return h(T,function(S,Q){return S||RegExp("\\b"+(Q.pattern||g(Q))+"\\b","i").exec(w)&&(Q.label||Q)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser",
"PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},
{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),P=u([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad",
"iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),V=function(T){return h(T,function(S,Q,U){return S||(Q[P]||Q[/^[a-z]+(?: +[a-z]+\b)*/i.exec(P)]||RegExp("\\b"+g(U)+"(?:\\b|\\w*\\d)","i").exec(w))&&U})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},
"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),I=function(T){return h(T,function(S,Q){var U=Q.pattern||g(Q);if(!S&&(S=RegExp("\\b"+U+"(?:/[\\d.]+|[ \\w.]*)","i").exec(w))){var W=S,ba=Q.label||Q,ca={"10.0":"10","6.4":"10 Technical Preview",
"6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};U&&ba&&/^Win/i.test(W)&&!/^Windows Phone /i.test(W)&&(ca=ca[/[\d.]+$/.exec(W)])&&(W="Windows "+ca);W=String(W);U&&ba&&(W=W.replace(RegExp(U,"i"),ba));S=W=b(W.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,
"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}return S})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X",
"Macintosh","Mac","Windows 98;","Windows "]);O&&(O=[O]);V&&!P&&(P=u([V]));if(x=/\bGoogle TV\b/.exec(P))P=x[0];/\bSimulator\b/i.test(w)&&(P=(P?P+" ":"")+"Simulator");"Opera Mini"==H&&/\bOPiOS\b/.test(w)&&K.push("running in Turbo/Uncompressed mode");"IE"==H&&/\blike iPhone OS\b/.test(w)?(x=l(w.replace(/like iPhone OS/,"")),V=x.manufacturer,P=x.product):/^iP/.test(P)?(H||(H="Safari"),I="iOS"+((x=/ OS ([\d_]+)/i.exec(w))?" "+x[1].replace(/_/g,"."):"")):"Konqueror"!=H||/buntu/i.test(I)?V&&"Google"!=V&&
(/Chrome/.test(H)&&!/\bMobile Safari\b/i.test(w)||/\bVita\b/.test(P))||/\bAndroid\b/.test(I)&&/^Chrome/.test(H)&&/\bVersion\//i.test(w)?(H="Android Browser",I=/\bAndroid\b/.test(I)?I:"Android"):"Silk"==H?(/\bMobi/i.test(w)||(I="Android",K.unshift("desktop mode")),/Accelerated *= *true/i.test(w)&&K.unshift("accelerated")):"PaleMoon"==H&&(x=/\bFirefox\/([\d.]+)\b/.exec(w))?K.push("identifying as Firefox "+x[1]):"Firefox"==H&&(x=/\b(Mobile|Tablet|TV)\b/i.exec(w))?(I||(I="Firefox OS"),P||(P=x[1])):!H||
(x=!/\bMinefield\b/i.test(w)&&/\b(?:Firefox|Safari)\b/.exec(H))?(H&&!P&&/[\/,]|^[^(]+?\)/.test(w.slice(w.indexOf(x+"/")+8))&&(H=null),(x=P||V||I)&&(P||V||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(I))&&(H=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(I)?I:x)+" Browser")):"Electron"==H&&(x=(/\bChrome\/([\d.]+)\b/.exec(w)||0)[1])&&K.push("Chromium "+x):I="Kubuntu";G||(G=M(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",g(H),
"(?:Firefox|Minefield|NetFront)"]));if(x="iCab"==O&&3<parseFloat(G)&&"WebKit"||/\bOpera\b/.test(H)&&(/\bOPR\b/.test(w)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(w)&&!/^(?:Trident|EdgeHTML)$/.test(O)&&"WebKit"||!O&&/\bMSIE\b/i.test(w)&&("Mac OS"==I?"Tasman":"Trident")||"WebKit"==O&&/\bPlayStation\b(?! Vita\b)/i.test(H)&&"NetFront")O=[x];"IE"==H&&(x=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(w)||0)[1])?(H+=" Mobile",I="Windows Phone "+(/\+$/.test(x)?x:x+".x"),K.unshift("desktop mode")):/\bWPDesktop\b/i.test(w)?
(H="IE Mobile",I="Windows Phone 8.x",K.unshift("desktop mode"),G||(G=(/\brv:([\d.]+)/.exec(w)||0)[1])):"IE"!=H&&"Trident"==O&&(x=/\brv:([\d.]+)/.exec(w))&&(H&&K.push("identifying as "+H+(G?" "+G:"")),H="IE",G=x[1]);if(Y){if(f(J,"global"))if(q&&(x=q.lang.System,Z=x.getProperty("os.arch"),I=I||x.getProperty("os.name")+" "+x.getProperty("os.version")),n){try{G=J.require("ringo/engine").version.join("."),H="RingoJS"}catch(T){(x=J.system)&&x.global.system==J.system&&(H="Narwhal",I||(I=x[0].os||null))}H||
(H="Rhino")}else"object"==typeof J.process&&!J.process.browser&&(x=J.process)&&("object"==typeof x.versions&&("string"==typeof x.versions.electron?(K.push("Node "+x.versions.node),H="Electron",G=x.versions.electron):"string"==typeof x.versions.nw&&(K.push("Chromium "+G,"Node "+x.versions.node),H="NW.js",G=x.versions.nw)),H||(H="Node.js",Z=x.arch,I=x.platform,G=(G=/[\d.]+/.exec(x.version))?G[0]:null));else c(x=J.runtime)==N?(H="Adobe AIR",I=x.flash.system.Capabilities.os):c(x=J.phantom)==m?(H="PhantomJS",
G=(x=x.version||null)&&x.major+"."+x.minor+"."+x.patch):"number"==typeof F.documentMode&&(x=/\bTrident\/(\d+)/i.exec(w))?(G=[G,F.documentMode],(x=+x[1]+4)!=G[1]&&(K.push("IE "+G[1]+" mode"),O&&(O[1]=""),G[1]=x),G="IE"==H?String(G[1].toFixed(1)):G[0]):"number"==typeof F.documentMode&&/^(?:Chrome|Firefox)\b/.test(H)&&(K.push("masking as "+H+" "+G),H="IE",G="11.0",O=["Trident"],I="Windows");I=I&&b(I)}G&&(x=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(G)||/(?:alpha|beta)(?: ?\d)?/i.exec(w+";"+(Y&&R.appMinorVersion))||
/\bMinefield\b/i.test(w)&&"a")&&(aa=/b/i.test(x)?"beta":"alpha",G=G.replace(RegExp(x+"\\+?$"),"")+("beta"==aa?C:r)+(/\d+\+?/.exec(x)||""));if("Fennec"==H||"Firefox"==H&&/\b(?:Android|Firefox OS)\b/.test(I))H="Firefox Mobile";else if("Maxthon"==H&&G)G=G.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(P))"Xbox 360"==P&&(I=null),"Xbox 360"==P&&/\bIEMobile\b/.test(w)&&K.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(H)&&(!H||P||/Browser|Mobi/.test(H))||"Windows CE"!=I&&!/Mobi/i.test(w))if("IE"==
H&&Y)try{null===J.external&&K.unshift("platform preview")}catch(T){K.unshift("embedded")}else(/\bBlackBerry\b/.test(P)||/\bBB10\b/.test(w))&&(x=(RegExp(P.replace(/ +/g," *")+"/([.\\d]+)","i").exec(w)||0)[1]||G)?(x=[x,/BB10/.test(w)],I=(x[1]?(P=null,V="BlackBerry"):"Device Software")+" "+x[0],G=null):this!=e&&"Wii"!=P&&(Y&&D||/Opera/.test(H)&&/\b(?:MSIE|Firefox)\b/i.test(w)||"Firefox"==H&&/\bOS X (?:\d+\.){2,}/.test(I)||"IE"==H&&(I&&!/^Win/.test(I)&&5.5<G||/\bWindows XP\b/.test(I)&&8<G||8==G&&!/\bTrident\b/.test(w)))&&
!t.test(x=l.call(e,w.replace(t,"")+";"))&&x.name&&(x="ing as "+x.name+((x=x.version)?" "+x:""),t.test(H)?(/\bIE\b/.test(x)&&"Mac OS"==I&&(I=null),x="identify"+x):(x="mask"+x,H=X?b(X.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(x)&&(I=null),Y||(G=null)),O=["Presto"],K.push(x));else H+=" Mobile";if(x=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(w)||0)[1]){x=[parseFloat(x.replace(/\.(\d)$/,".0$1")),x];if("Safari"==H&&"+"==x[1].slice(-1))H="WebKit Nightly",aa="alpha",G=x[1].slice(0,-1);else if(G==
x[1]||G==(x[2]=(/\bSafari\/([\d.]+\+?)/i.exec(w)||0)[1]))G=null;x[1]=(/\bChrome\/([\d.]+)/i.exec(w)||0)[1];537.36==x[0]&&537.36==x[2]&&28<=parseFloat(x[1])&&"WebKit"==O&&(O=["Blink"]);Y&&(L||x[1])?(O&&(O[1]="like Chrome"),x=x[1]||(x=x[0],530>x?1:532>x?2:532.05>x?3:533>x?4:534.03>x?5:534.07>x?6:534.1>x?7:534.13>x?8:534.16>x?9:534.24>x?10:534.3>x?11:535.01>x?12:535.02>x?"13+":535.07>x?15:535.11>x?16:535.19>x?17:536.05>x?18:536.1>x?19:537.01>x?20:537.11>x?"21+":537.13>x?23:537.18>x?24:537.24>x?25:537.36>
x?26:"Blink"!=O?"27":"28")):(O&&(O[1]="like Safari"),x=(x=x[0],400>x?1:500>x?2:526>x?3:533>x?4:534>x?"4+":535>x?5:537>x?6:538>x?7:601>x?8:"8"));O&&(O[1]+=" "+(x+="number"==typeof x?".x":/[.+]/.test(x)?"":"+"));"Safari"==H&&(!G||45<parseInt(G))&&(G=x)}"Opera"==H&&(x=/\bzbov|zvav$/.exec(I))?(H+=" ",K.unshift("desktop mode"),"zvav"==x?(H+="Mini",G=null):H+="Mobile",I=I.replace(RegExp(" *"+x+"$"),"")):"Safari"==H&&/\bChrome\b/.exec(O&&O[1])&&(K.unshift("desktop mode"),H="Chrome Mobile",G=null,/\bOS X\b/.test(I)?
(V="Apple",I="iOS 4.3+"):I=null);G&&0==G.indexOf(x=/[\d.]+$/.exec(I))&&-1<w.indexOf("/"+x+"-")&&(I=String(I.replace(x,"")).replace(/^ +| +$/g,""));O&&!/\b(?:Avant|Nook)\b/.test(H)&&(/Browser|Lunascape|Maxthon/.test(H)||"Safari"!=H&&/^iOS/.test(I)&&/\bSafari\b/.test(O[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(H)&&O[1])&&(x=O[O.length-1])&&K.push(x);K.length&&(K=["("+K.join("; ")+")"]);V&&P&&0>P.indexOf(V)&&K.push("on "+V);P&&K.push((/^on /.test(K[K.length-
1])?"":"on ")+P);if(I){var da=(x=/ ([\d.+]+)$/.exec(I))&&"/"==I.charAt(I.length-x[0].length-1);I={architecture:32,family:x&&!da?I.replace(x[0],""):I,version:x?x[1]:null,toString:function(){var T=this.version;return this.family+(T&&!da?" "+T:"")+(64==this.architecture?" 64-bit":"")}}}(x=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(Z))&&!/\bi686\b/i.test(Z)?(I&&(I.architecture=64,I.family=I.family.replace(RegExp(" *"+x),"")),H&&(/\bWOW64\b/i.test(w)||Y&&/\w(?:86|32)$/.test(R.cpuClass||R.platform)&&!/\bWin64; x64\b/i.test(w))&&
K.unshift("32-bit")):I&&/^OS X/.test(I.family)&&"Chrome"==H&&39<=parseFloat(G)&&(I.architecture=64);w||(w=null);J={};J.description=w;J.layout=O&&O[0];J.manufacturer=V;J.name=H;J.prerelease=aa;J.product=P;J.ua=w;J.version=H&&G;J.os=I||{architecture:null,family:null,version:null,toString:function(){return"null"}};J.parse=l;J.toString=function(){return this.description||""};J.version&&K.unshift(G);J.name&&K.unshift(H);I&&H&&(I!=String(I).split(" ")[0]||I!=H.split(" ")[0]&&!P)&&K.push(P?"("+I+")":"on "+
I);K.length&&(J.description=K.join(" "));return J}var k={"function":!0,object:!0},p=k[typeof window]&&window||this,A=k[typeof exports]&&exports;k=k[typeof module]&&module&&!module.nodeType&&module;var z=A&&k&&"object"==typeof global&&global;!z||z.global!==z&&z.window!==z&&z.self!==z||(p=z);var E=Math.pow(2,53)-1,t=/\bOpera/;z=Object.prototype;var v=z.hasOwnProperty,y=z.toString,B=l();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(p.platform=B,define(function(){return B})):A&&
k?e(B,function(w,u){A[u]=w}):p.platform=B}).call(this);var s_iScaleFactor=1,s_bIsIphone=!1,s_iOffsetX,s_iOffsetY,s_oCanvasLeft,s_oCanvasTop,s_bFocus=!0;
(function(a){(jQuery.browser=jQuery.browser||{}).mobile=/android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(ad|hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|tablet|treo|up\.(browser|link)|vodafone|wap|webos|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(a.substr(0,
4))})(navigator.userAgent||navigator.vendor||window.opera);$(window).resize(function(){sizeHandler()});function trace(a){console.log(a)}function isChrome(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}function isIpad(){var a=-1!==navigator.userAgent.toLowerCase().indexOf("ipad");return!a&&navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints?!0:a}function isMobile(){return isIpad()?!0:jQuery.browser.mobile}
function isIOS(){var a="iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";");if(-1!==navigator.userAgent.toLowerCase().indexOf("iphone"))return s_bIsIphone=!0;for(;a.length;)if(navigator.platform===a.pop())return!0;return s_bIsIphone=!1}
function getSize(a){var d=a.toLowerCase(),b=window.document,e=b.documentElement;if(void 0===window["inner"+a])a=e["client"+a];else if(window["inner"+a]!=e["client"+a]){var c=b.createElement("body");c.id="vpw-test-b";c.style.cssText="overflow:scroll";var f=b.createElement("div");f.id="vpw-test-d";f.style.cssText="position:absolute;top:-1000px";f.innerHTML="<style>@media("+d+":"+e["client"+a]+"px){body#vpw-test-b div#vpw-test-d{"+d+":7px!important}}</style>";c.appendChild(f);e.insertBefore(c,b.head);
a=7==f["offset"+a]?e["client"+a]:window["inner"+a];e.removeChild(c)}else a=window["inner"+a];return a}window.addEventListener("orientationchange",onOrientationChange);function onOrientationChange(){window.matchMedia("(orientation: portrait)").matches&&sizeHandler();window.matchMedia("(orientation: landscape)").matches&&sizeHandler()}function getIOSWindowHeight(){return document.documentElement.clientWidth/window.innerWidth*window.innerHeight}
function getHeightOfIOSToolbars(){var a=(0===window.orientation?screen.height:screen.width)-getIOSWindowHeight();return 1<a?a:0}
function sizeHandler(){window.scrollTo(0,1);if($("#canvas")){var a=null!==platform.name&&"safari"===platform.name.toLowerCase()?getIOSWindowHeight():getSize("Height");var d=getSize("Width");s_bFocus&&_checkOrientation(d,a);var b=Math.min(a/CANVAS_HEIGHT,d/CANVAS_WIDTH),e=Math.round(CANVAS_WIDTH*b);b=Math.round(CANVAS_HEIGHT*b);if(b<a){var c=a-b;b+=c;e+=CANVAS_WIDTH/CANVAS_HEIGHT*c}else e<d&&(c=d-e,e+=c,b+=CANVAS_HEIGHT/CANVAS_WIDTH*c);c=a/2-b/2;var f=d/2-e/2,g=CANVAS_WIDTH/e;if(f*g<-EDGEBOARD_X||
c*g<-EDGEBOARD_Y)b=Math.min(a/(CANVAS_HEIGHT-2*EDGEBOARD_Y),d/(CANVAS_WIDTH-2*EDGEBOARD_X)),e=Math.round(CANVAS_WIDTH*b),b=Math.round(CANVAS_HEIGHT*b),c=(a-b)/2,f=(d-e)/2,g=CANVAS_WIDTH/e;s_iOffsetX=-1*f*g;s_iOffsetY=-1*c*g;0<=c&&(s_iOffsetY=0);0<=f&&(s_iOffsetX=0);null!==s_oInterface&&s_oInterface.refreshButtonPos(s_iOffsetX,s_iOffsetY);null!==s_oMenu&&s_oMenu.refreshButtonPos(s_iOffsetX,s_iOffsetY);null!==s_oLevelMenu&&s_oLevelMenu.refreshButtonPos(s_iOffsetX,s_iOffsetY);null!==s_oLanguageMenu&&
s_oLanguageMenu.refreshButtonPos(s_iOffsetX,s_iOffsetY);s_bIsIphone&&s_oStage?(canvas=document.getElementById("canvas"),s_oStage.canvas.width=2*e,s_oStage.canvas.height=2*b,canvas.style.width=e+"px",canvas.style.height=b+"px",s_iScaleFactor=2*Math.min(e/CANVAS_WIDTH,b/CANVAS_HEIGHT),s_oStage.scaleX=s_oStage.scaleY=s_iScaleFactor):s_bMobile||isChrome()?($("#canvas").css("width",e+"px"),$("#canvas").css("height",b+"px"),s_iScaleFactor=1):s_oStage&&(s_oStage.canvas.width=e,s_oStage.canvas.height=b,s_iScaleFactor=
Math.min(e/CANVAS_WIDTH,b/CANVAS_HEIGHT),s_oStage.scaleX=s_oStage.scaleY=s_iScaleFactor);0>c||(c=(a-b)/2);$("#canvas").css("top",c+"px");$("#canvas").css("left",f+"px");fullscreenHandler()}}function createBitmap(a,d,b){var e=new createjs.Bitmap(a),c=new createjs.Shape;d&&b?c.graphics.beginFill("#fff").drawRect(0,0,d,b):c.graphics.beginFill("#ff0").drawRect(0,0,a.width,a.height);e.hitArea=c;return e}
function createSprite(a,d,b,e,c,f){a=null!==d?new createjs.Sprite(a,d):new createjs.Sprite(a);d=new createjs.Shape;d.graphics.beginFill("#000000").drawRect(-b,-e,c,f);a.hitArea=d;return a}
function _checkOrientation(a,d){s_bMobile&&ENABLE_CHECK_ORIENTATION&&(a>d?"landscape"===$(".orientation-msg-container").attr("data-orientation")?($(".orientation-msg-container").css("display","none"),s_oMain.startUpdate()):($(".orientation-msg-container").css("display","block"),s_oMain.stopUpdate()):"portrait"===$(".orientation-msg-container").attr("data-orientation")?($(".orientation-msg-container").css("display","none"),s_oMain.startUpdate()):($(".orientation-msg-container").css("display","block"),
s_oMain.stopUpdate()))}function randomFloatBetween(a,d,b){"undefined"===typeof b&&(b=2);return parseFloat(Math.min(a+Math.random()*(d-a),d).toFixed(b))}function formatTime(a){a/=1E3;var d=Math.floor(a/60);a=Math.floor(a-60*d);var b="";b=10>d?b+("0"+d+":"):b+(d+":");return 10>a?b+("0"+a):b+a}function NoClickDelay(a){this.element=a;window.Touch&&this.element.addEventListener("touchstart",this,!1)}
function shuffle(a){for(var d=a.length,b,e;0<d;)e=Math.floor(Math.random()*d),d--,b=a[d],a[d]=a[e],a[e]=b;return a}
NoClickDelay.prototype={handleEvent:function(a){switch(a.type){case "touchstart":this.onTouchStart(a);break;case "touchmove":this.onTouchMove(a);break;case "touchend":this.onTouchEnd(a)}},onTouchStart:function(a){a.preventDefault();this.moved=!1;this.element.addEventListener("touchmove",this,!1);this.element.addEventListener("touchend",this,!1)},onTouchMove:function(a){this.moved=!0},onTouchEnd:function(a){this.element.removeEventListener("touchmove",this,!1);this.element.removeEventListener("touchend",
this,!1);if(!this.moved){a=document.elementFromPoint(a.changedTouches[0].clientX,a.changedTouches[0].clientY);3==a.nodeType&&(a=a.parentNode);var d=document.createEvent("MouseEvents");d.initEvent("click",!0,!0);a.dispatchEvent(d)}}};
(function(){function a(b){var e={focus:"visible",focusin:"visible",pageshow:"visible",blur:"hidden",focusout:"hidden",pagehide:"hidden"};b=b||window.event;b.type in e?document.body.className=e[b.type]:(document.body.className=this[d]?"hidden":"visible","hidden"===document.body.className?(s_oMain.stopUpdate(),s_bFocus=!1):(s_oMain.startUpdate(),s_bFocus=!0))}var d="hidden";d in document?document.addEventListener("visibilitychange",a):(d="mozHidden")in document?document.addEventListener("mozvisibilitychange",
a):(d="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",a):(d="msHidden")in document?document.addEventListener("msvisibilitychange",a):"onfocusin"in document?document.onfocusin=document.onfocusout=a:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=a})();function ctlArcadeResume(){null!==s_oMain&&s_oMain.startUpdate()}function ctlArcadePause(){null!==s_oMain&&s_oMain.stopUpdate()}
function getParamValue(a){for(var d=window.location.search.substring(1).split("&"),b=0;b<d.length;b++){var e=d[b].split("=");if(e[0]==a)return e[1]}}function playSound(a,d,b){return!1===DISABLE_SOUND_MOBILE||!1===s_bMobile?(s_aSounds[a].play(),s_aSounds[a].volume(d),s_aSounds[a].loop(b),s_aSounds[a]):null}function stopSound(a){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[a].stop()}function setVolume(a,d){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[a].volume(d)}
function setMute(a,d){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[a].mute(d)}function between(a,d,b){var e=!1;a<b&&d>a&&d<b&&(e=!0);a>b&&d>b&&d<a&&(e=!0);if(d===a||d===b)e=!0;return e}function pointInRectangle(a,d,b){var e=!1,c=b.y,f=b.height;between(b.x,a,b.width)&&between(c,d,f)&&(e=!0);return e}
function directionNextCell(a,d){if(a.x<d.x&&a.y===d.y)return RIGHT;if(a.x>d.x&&a.y===d.y)return LEFT;if(a.x===d.x&&a.y>d.y)return UP;if(a.x===d.x&&a.y<d.y)return DOWN;if(a.x>d.x&&a.y<d.y)return DOWN_LEFT;if(a.x>d.x&&a.y>d.y)return UP_LEFT;if(a.x<d.x&&a.y>d.y)return UP_RIGHT;if(a.x<d.x&&a.y<d.y)return DOWN_RIGHT}function rotate(a,d,b){return{x:a*Math.cos(b)+d*Math.sin(b),y:a*-Math.sin(b)+d*Math.cos(b)}}
function fullscreenHandler(){ENABLE_FULLSCREEN&&screenfull.isEnabled&&(s_bFullscreen=screenfull.isFullscreen,null!==s_oInterface&&s_oInterface.resetFullscreenBut(),null!==s_oMenu&&s_oMenu.resetFullscreenBut(),null!==s_oLevelMenu&&s_oLevelMenu.resetFullscreenBut(),null!==s_oLanguageMenu&&s_oLanguageMenu.resetFullscreenBut())}
if(screenfull.isEnabled)screenfull.on("change",function(){s_bFullscreen=screenfull.isFullscreen;null!==s_oInterface&&s_oInterface.resetFullscreenBut();null!==s_oMenu&&s_oMenu.resetFullscreenBut();null!==s_oLevelMenu&&s_oLevelMenu.resetFullscreenBut();null!==s_oLanguageMenu&&s_oLanguageMenu.resetFullscreenBut()});
function CSpriteLibrary(){var a={},d,b,e,c,f,g;this.init=function(h,l,k){d={};e=b=0;c=h;f=l;g=k};this.addSprite=function(h,l){if(!a.hasOwnProperty(h)){var k=new Image;a[h]=d[h]={szPath:l,oSprite:k,bLoaded:!1};b++}};this.getSprite=function(h){return a.hasOwnProperty(h)?a[h].oSprite:null};this._onSpritesLoaded=function(){b=0;f.call(g)};this._onSpriteLoaded=function(){c.call(g);++e===b&&this._onSpritesLoaded()};this.loadSprites=function(){for(var h in d)d[h].oSprite.oSpriteLibrary=this,d[h].oSprite.szKey=
h,d[h].oSprite.onload=function(){this.oSpriteLibrary.setLoaded(this.szKey);this.oSpriteLibrary._onSpriteLoaded(this.szKey)},d[h].oSprite.onerror=function(l){var k=l.currentTarget;setTimeout(function(){d[k.szKey].oSprite.src=d[k.szKey].szPath},500)},d[h].oSprite.src=d[h].szPath};this.setLoaded=function(h){a[h].bLoaded=!0};this.isLoaded=function(h){return a[h].bLoaded};this.getNumSprites=function(){return b}}
var CANVAS_WIDTH=640,CANVAS_HEIGHT=960,CANVAS_WIDTH_HALF=.5*CANVAS_WIDTH,CANVAS_HEIGHT_HALF=.5*CANVAS_HEIGHT,EDGEBOARD_X=20,EDGEBOARD_Y=95,FPS=30,FPS_TIME=1/FPS,DISABLE_SOUND_MOBILE=!1,PRIMARY_FONT="blackplotanregular",SECONDARY_FONT="arial",STATE_LOADING=0,STATE_MENU=1,STATE_HELP=1,STATE_GAME=3,ON_MOUSE_DOWN=0,ON_MOUSE_UP=1,ON_MOUSE_OVER=2,ON_MOUSE_OUT=3,ON_DRAG_START=4,ON_DRAG_END=5,STROKE_DIMENSION=17,STROKE_DIMENSION_MARKED=7,MAX_NUM_OF_COL_AND_ROW=11,SIZE_TEXT_CELL=60,MAX_ITERATION_RANDOM_NUMBER=
1E3,TEXT_COLOR="#ffffff",TEXT_COLOR_2="#018def",SPAWN_WORDS_OFFSET_Y=-10,SHOW_SOLUTION=!1,NUM_OF_LANGUAGE=6,LANGUAGE_ID="english french german italian portoguese spanish".split(" "),COLOR_STROKE_MARKED="rgba(255,0,0,0.7)",COLOR_STROKE="rgba(92,190,248,0.5)",OFFSET_Y_GRID_LETTER=-125,OFFSET_Y_SPACE_WORDS_LIST=7,NO_DIRECTION=-1,LEFT=0,RIGHT=1,UP=2,DOWN=3,UP_LEFT=4,UP_RIGHT=5,DOWN_LEFT=6,DOWN_RIGHT=7,ALL_DIRECTION=8,CELL_SIZE={width:100,height:100},TEXT_WORD_COLOR="#2f2f2f",MAX_WORD_LENGTH=9,GRID_AREA_SIZE=
525,START_X_GRID=(CANVAS_WIDTH-GRID_AREA_SIZE)/2,START_Y_GRID=CANVAS_HEIGHT-200,ENABLE_FULLSCREEN,ENABLE_CHECK_ORIENTATION,SOUNDTRACK_VOLUME_IN_GAME=.3,DEFAULT_LANG,DEFAULT_CAT;
function CPreloader(){var a,d,b,e,c,f,g,h,l,k;this._init=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this);s_oSpriteLibrary.addSprite("progress_bar","./sprites/progress_bar.png");s_oSpriteLibrary.addSprite("200x200","./sprites/200x200.jpg");s_oSpriteLibrary.addSprite("but_start","./sprites/but_start.png");s_oSpriteLibrary.loadSprites();k=new createjs.Container;s_oStage.addChild(k)};this.unload=function(){k.removeAllChildren();l.unload()};this._onImagesLoaded=function(){};
this._onAllImagesLoaded=function(){this.attachSprites();s_oMain.preloaderReady()};this.attachSprites=function(){var p=new createjs.Shape;p.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);k.addChild(p);p=s_oSpriteLibrary.getSprite("200x200");g=createBitmap(p);g.regX=.5*p.width;g.regY=.5*p.height;g.x=CANVAS_WIDTH/2;g.y=CANVAS_HEIGHT/2-180;k.addChild(g);h=new createjs.Shape;h.graphics.beginFill("rgba(0,0,0,0.01)").drawRoundRect(g.x-100,g.y-100,200,200,10);k.addChild(h);g.mask=h;
p=s_oSpriteLibrary.getSprite("progress_bar");e=createBitmap(p);e.x=CANVAS_WIDTH/2-p.width/2;e.y=CANVAS_HEIGHT/2+50;k.addChild(e);a=p.width;d=p.height;c=new createjs.Shape;c.graphics.beginFill("rgba(0,0,0,0.01)").drawRect(e.x,e.y,1,d);k.addChild(c);e.mask=c;b=new createjs.Text("","30px "+PRIMARY_FONT,"#fff");b.x=CANVAS_WIDTH/2;b.y=CANVAS_HEIGHT/2+100;b.textBaseline="alphabetic";b.textAlign="center";k.addChild(b);p=s_oSpriteLibrary.getSprite("but_start");l=new CTextButton(CANVAS_WIDTH/2,CANVAS_HEIGHT/
2,p,TEXT_PRELOADER_CONTINUE,"Arial","#000",40,k);l.addEventListener(ON_MOUSE_UP,this._onButStartRelease,this);l.setVisible(!1);l.removeStroke();f=new createjs.Shape;f.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);k.addChild(f);createjs.Tween.get(f).to({alpha:0},500).call(function(){createjs.Tween.removeTweens(f);k.removeChild(f)})};this._onButStartRelease=function(){s_oMain._onRemovePreloader()};this.refreshLoader=function(p){b.text=p+"%";100===p&&(s_oMain._onRemovePreloader(),
b.visible=!1,e.visible=!1);c.graphics.clear();p=Math.floor(p*a/100);c.graphics.beginFill("rgba(0,0,0,0.01)").drawRect(e.x,e.y,p,d)};this._init()}
function CMain(a){var d,b=0,e=0,c=STATE_LOADING,f,g;this.initContainer=function(){s_oCanvas=document.getElementById("canvas");s_oStage=new createjs.Stage(s_oCanvas);createjs.Touch.enable(s_oStage,!0);s_bMobile=isMobile();!1===s_bMobile&&s_oStage.enableMouseOver(20);s_iPrevTime=(new Date).getTime();createjs.Ticker.addEventListener("tick",this._update);createjs.Ticker.framerate=30;navigator.userAgent.match(/Windows Phone/i)&&(DISABLE_SOUND_MOBILE=!0);s_oSpriteLibrary=new CSpriteLibrary;f=new CPreloader};
this.preloaderReady=function(){this._loadImages();!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||this._initSounds();d=!0};this.soundLoaded=function(){b++;f.refreshLoader(Math.floor(b/e*100))};this._initSounds=function(){Howler.mute(!s_bAudioActive);s_aSoundsInfo=[];s_aSoundsInfo.push({path:"./sounds/",filename:"guessed",loop:!1,volume:1,ingamename:"guessed"});s_aSoundsInfo.push({path:"./sounds/",filename:"click",loop:!1,volume:1,ingamename:"click"});s_aSoundsInfo.push({path:"./sounds/",filename:"wrong",
loop:!0,volume:1,ingamename:"wrong"});s_aSoundsInfo.push({path:"./sounds/",filename:"game_completed",loop:!1,volume:1,ingamename:"game_completed"});s_aSoundsInfo.push({path:"./sounds/",filename:"soundtrack",loop:!0,volume:1,ingamename:"soundtrack"});e+=s_aSoundsInfo.length;s_aSounds=[];for(var l=0;l<s_aSoundsInfo.length;l++)this.tryToLoadSound(s_aSoundsInfo[l],!1)};this.tryToLoadSound=function(l,k){setTimeout(function(){s_aSounds[l.ingamename]=new Howl({src:[l.path+l.filename+".mp3"],autoplay:!1,
preload:!0,loop:l.loop,volume:l.volume,onload:s_oMain.soundLoaded,onloaderror:function(p,A){for(var z=0;z<s_aSoundsInfo.length;z++)if(p===s_aSounds[s_aSoundsInfo[z].ingamename]._sounds[0]._id){s_oMain.tryToLoadSound(s_aSoundsInfo[z],!0);break}},onplayerror:function(p){for(var A=0;A<s_aSoundsInfo.length;A++)if(p===s_aSounds[s_aSoundsInfo[A].ingamename]._sounds[0]._id){s_aSounds[s_aSoundsInfo[A].ingamename].once("unlock",function(){s_aSounds[s_aSoundsInfo[A].ingamename].play();"soundtrack"===s_aSoundsInfo[A].ingamename&&
null!==s_oGame&&setVolume("soundtrack",SOUNDTRACK_VOLUME_IN_GAME)});break}}})},k?200:0)};this._loadImages=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this);s_oSpriteLibrary.addSprite("bg_menu","./sprites/bg_menu.jpg");s_oSpriteLibrary.addSprite("msg_box","./sprites/msg_box.png");s_oSpriteLibrary.addSprite("bg_game","./sprites/bg_game.jpg");s_oSpriteLibrary.addSprite("but_exit","./sprites/but_exit.png");s_oSpriteLibrary.addSprite("but_pause","./sprites/but_pause.png");
s_oSpriteLibrary.addSprite("icon_audio","./sprites/icon_audio.png");s_oSpriteLibrary.addSprite("but_play","./sprites/but_play.png");s_oSpriteLibrary.addSprite("but_restart","./sprites/but_restart.png");s_oSpriteLibrary.addSprite("but_continue","./sprites/but_continue.png");s_oSpriteLibrary.addSprite("but_level","./sprites/but_category.png");s_oSpriteLibrary.addSprite("hit_area_cell","./sprites/hit_area_cell.png");s_oSpriteLibrary.addSprite("but_yes","./sprites/but_yes.png");s_oSpriteLibrary.addSprite("arrow_right",
"./sprites/arrow_right.png");s_oSpriteLibrary.addSprite("arrow_left","./sprites/arrow_left.png");s_oSpriteLibrary.addSprite("but_info","./sprites/but_info.png");s_oSpriteLibrary.addSprite("logo_ctl","./sprites/logo_ctl.png");s_oSpriteLibrary.addSprite("but_not","./sprites/but_not.png");s_oSpriteLibrary.addSprite("game_panel","./sprites/game_panel.png");s_oSpriteLibrary.addSprite("word_panel","./sprites/word_panel.png");s_oSpriteLibrary.addSprite("but_home","./sprites/but_home.png");s_oSpriteLibrary.addSprite("img_help",
"./sprites/img_help.png");s_oSpriteLibrary.addSprite("time_board","./sprites/time_board.png");s_oSpriteLibrary.addSprite("logo_small","./sprites/logo_small.png");s_oSpriteLibrary.addSprite("but_fullscreen","./sprites/but_fullscreen.png");for(var l=0;l<NUM_OF_LANGUAGE;l++)s_oSpriteLibrary.addSprite("flag_"+l,"./sprites/flag_"+l+".png");e+=s_oSpriteLibrary.getNumSprites();s_oSpriteLibrary.loadSprites()};this._onImagesLoaded=function(){b++;f.refreshLoader(Math.floor(b/e*100))};this._onAllImagesLoaded=
function(){};this._onRemovePreloader=function(){f.unload();s_oSoundTrack=playSound("soundtrack",1,!0);s_oMain.gotoMenu()};this.gotoMenu=function(){new CMenu;c=STATE_MENU};this.gotoGame=function(l){g=new CGame(h,l);c=STATE_GAME;$(s_oMain).trigger("start_session")};this.gotoLanguageMenu=function(){new CLanguageMenu;c=STATE_MENU};this.gotoLevelMenu=function(){new CLevelMenu;c=STATE_MENU};this.stopUpdate=function(){d=!1;createjs.Ticker.paused=!0;$("#block_game").css("display","block");!1!==DISABLE_SOUND_MOBILE&&
!1!==s_bMobile||Howler.mute(!0)};this.startUpdate=function(){s_iPrevTime=(new Date).getTime();d=!0;createjs.Ticker.paused=!1;$("#block_game").css("display","none");(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)&&s_bAudioActive&&Howler.mute(!1)};this._update=function(l){if(!1!==d){var k=(new Date).getTime();s_iTimeElaps=k-s_iPrevTime;s_iCntTime+=s_iTimeElaps;s_iCntFps++;s_iPrevTime=k;1E3<=s_iCntTime&&(s_iCurFps=s_iCntFps,s_iCntTime-=1E3,s_iCntFps=0);c===STATE_GAME&&g.update();s_oStage.update(l)}};s_oMain=
this;var h=a;ENABLE_CHECK_ORIENTATION=a.check_orientation;ENABLE_FULLSCREEN=a.fullscreen;s_bAudioActive=a.audio_enable_on_startup;DEFAULT_LANG=a.default_lang;DEFAULT_CAT=a.default_category;this.initContainer()}var s_bMobile,s_bAudioActive=!0,s_iCntTime=0,s_iTimeElaps=0,s_iPrevTime=0,s_iCntFps=0,s_iCurFps=0,s_oAdsLevel=1,s_iLevelReached=1,s_oDrawLayer,s_oStage,s_oMain,s_oSpriteLibrary,s_oSoundTrack=null,s_oCanvas,s_aSounds,s_iLanguageSelected,s_aJSONWords,s_bFullscreen=!1;
function CTextButton(a,d,b,e,c,f,g,h){var l,k,p,A,z,E,t;this._init=function(v,y,B,w,u,M,J,K){l=[];k=[];u=createBitmap(B);var R=Math.ceil(J/20);z=new createjs.Text(w,"bold "+J+"px "+PRIMARY_FONT,"#000000");z.textAlign="center";z.textBaseline="alphabetic";var G=z.getBounds();z.x=B.width/2+R;z.y=Math.floor(B.height/2)+G.height/3+R;A=new createjs.Text(w,"bold "+J+"px "+PRIMARY_FONT,M);A.textAlign="center";A.textBaseline="alphabetic";G=A.getBounds();A.x=B.width/2;A.y=Math.floor(B.height/2)+G.height/3;
p=new createjs.Container;p.x=v;p.y=y;p.regX=B.width/2;p.regY=B.height/2;p.addChild(u,z,A);K.addChild(p);this._initListener()};this.unload=function(){p.off("mousedown",E);p.off("pressup",t);h.removeChild(p)};this.setVisible=function(v){p.visible=v};this._initListener=function(){E=p.on("mousedown",this.buttonDown);t=p.on("pressup",this.buttonRelease)};this.addEventListener=function(v,y,B){l[v]=y;k[v]=B};this.buttonRelease=function(){p.scaleX=1;p.scaleY=1;playSound("click",1,!1);l[ON_MOUSE_UP]&&l[ON_MOUSE_UP].call(k[ON_MOUSE_UP])};
this.buttonDown=function(){p.scaleX=.9;p.scaleY=.9;l[ON_MOUSE_DOWN]&&l[ON_MOUSE_DOWN].call(k[ON_MOUSE_DOWN])};this.setTextPosition=function(v){A.y=v;z.y=v+2};this.setPosition=function(v,y){p.x=v;p.y=y};this.setX=function(v){p.x=v};this.setY=function(v){p.y=v};this.getButtonImage=function(){return p};this.getX=function(){return p.x};this.getY=function(){return p.y};this.removeStroke=function(){z.visible=!1};this._init(a,d,b,e,c,f,g,h);return this}
function CToggle(a,d,b,e,c){var f,g,h,l=[],k,p,A;this._init=function(E,t,v,y){g=[];h=[];var B=new createjs.SpriteSheet({images:[v],frames:{width:v.width/2,height:v.height,regX:v.width/2/2,regY:v.height/2},animations:{state_true:[0],state_false:[1]}});f=y;k=createSprite(B,"state_"+f,v.width/2/2,v.height/2,v.width/2,v.height);k.mouseEnabled=!0;k.x=E;k.y=t;k.stop();s_bMobile||(k.cursor="pointer");z.addChild(k);this._initListener()};this.unload=function(){k.off("mousedown",p);k.off("pressup",A);k.mouseEnabled=
!1;z.removeChild(k)};this._initListener=function(){p=k.on("mousedown",this.buttonDown);A=k.on("pressup",this.buttonRelease)};this.addEventListener=function(E,t,v){g[E]=t;h[E]=v};this.addEventListenerWithParams=function(E,t,v,y){g[E]=t;h[E]=v;l=y};this.setActive=function(E){f=E;k.gotoAndStop("state_"+f)};this.buttonRelease=function(){k.scaleX=1;k.scaleY=1;playSound("click",1,!1);f=!f;k.gotoAndStop("state_"+f);g[ON_MOUSE_UP]&&g[ON_MOUSE_UP].call(h[ON_MOUSE_UP],l)};this.buttonDown=function(){k.scaleX=
.9;k.scaleY=.9;g[ON_MOUSE_DOWN]&&g[ON_MOUSE_DOWN].call(h[ON_MOUSE_DOWN],l)};this.setPosition=function(E,t){k.x=E;k.y=t};this.setVisible=function(E){k.visible=E};var z=c;this._init(a,d,b,e)}
function CNumToggle(a,d,b,e){var c,f,g,h,l,k,p,A,z,E=[];this._init=function(t,v,y,B){f=!1;g=[];h=[];l=new createjs.Container;l.x=t;l.y=v;B.addChild(l);t=s_oSpriteLibrary.getSprite("num_button");v={images:[t],framerate:5,frames:{width:t.width/2,height:t.height,regX:t.width/2/2,regY:t.height/2},animations:{state_true:[0],state_false:[1]}};v=new createjs.SpriteSheet(v);c=!1;k=createSprite(v,"state_"+c,t.width/2/2,t.height/2,t.width/2,t.height);k.stop();t=s_oSpriteLibrary.getSprite("ball");v={images:[t],
frames:{width:t.width/NUM_DIFFERENT_BALLS,height:t.height,regX:t.width/NUM_DIFFERENT_BALLS/2,regY:t.height/2},animations:{red:[0],green:[1],cyan:[0],violet:[1],blue:[1]}};v=new createjs.SpriteSheet(v);p=createSprite(v,"red",t.width/NUM_DIFFERENT_BALLS/2,t.height/2,t.width/NUM_DIFFERENT_BALLS,t.height);p.gotoAndStop(0);p.visible=!1;l.addChild(k,p);this._initListener()};this.unload=function(){l.off("mousedown",A);l.off("pressup",z);e.removeChild(l)};this._initListener=function(){A=l.on("mousedown",
this.buttonDown);z=l.on("pressup",this.buttonRelease)};this.addEventListener=function(t,v,y){g[t]=v;h[t]=y};this.addEventListenerWithParams=function(t,v,y,B){g[t]=v;h[t]=y;E=B};this.setActive=function(t){c=t;k.gotoAndStop("state_"+c)};this.buttonRelease=function(){f||(playSound("click",1,!1),c=!c,k.gotoAndStop("state_"+c),g[ON_MOUSE_UP]&&g[ON_MOUSE_UP].call(h[ON_MOUSE_UP],E))};this.buttonDown=function(){f||g[ON_MOUSE_DOWN]&&g[ON_MOUSE_DOWN].call(h[ON_MOUSE_DOWN],E)};this.setPosition=function(t,v){l.x=
t;l.y=v};this.getGlobalPosition=function(){return{x:l.localToGlobal(0,0).x,y:l.localToGlobal(0,0).y}};this.block=function(t){f=t};this.setExtracted=function(t,v){p.visible=t;p.gotoAndStop(v)};this.highlight=function(){k.gotoAndPlay(0)};this.stopHighlight=function(){k.gotoAndStop(1)};this._init(a,d,b,e)}
function CGfxButton(a,d,b,e){var c,f,g,h,l=[],k,p,A,z;this._init=function(t,v,y,B){c=f=1;g=[];h=[];k=createBitmap(y);k.x=t;k.y=v;k.regX=y.width/2;k.regY=y.height/2;s_bMobile||(k.cursor="pointer");E?E.addChild(k):s_oStage.addChild(k);p=!1;this._initListener()};this.unload=function(){k.off("mousedown",A);k.off("pressup",z);createjs.Tween.removeTweens(k);E?E.removeChild(k):s_oStage.removeChild(k)};this.setVisible=function(t){k.visible=t};this._initListener=function(){A=k.on("mousedown",this.buttonDown);
z=k.on("pressup",this.buttonRelease)};this.addEventListener=function(t,v,y){g[t]=v;h[t]=y};this.addEventListenerWithParams=function(t,v,y,B){g[t]=v;h[t]=y;l=B};this.buttonRelease=function(){p||(playSound("click",1,!1),k.scaleX=f,k.scaleY=c,g[ON_MOUSE_UP]&&g[ON_MOUSE_UP].call(h[ON_MOUSE_UP],l))};this.buttonDown=function(){p||(k.scaleX=.9*f,k.scaleY=.9*c,g[ON_MOUSE_DOWN]&&g[ON_MOUSE_DOWN].call(h[ON_MOUSE_DOWN],l))};this.setScale=function(t){c=f=t;k.scaleX=t;k.scaleY=t};this.setScaleX=function(t){f=
t;k.scaleX=t};this.setPosition=function(t,v){k.x=t;k.y=v};this.setX=function(t){k.x=t};this.setY=function(t){k.y=t};this.getButtonImage=function(){return k};this.getX=function(){return k.x};this.getY=function(){return k.y};this.block=function(t){p=t};this.pulseAnimation=function(){createjs.Tween.get(k,{loop:-1}).to({scaleX:.9*f,scaleY:.9*c},850,createjs.Ease.quadOut).to({scaleX:f,scaleY:c},650,createjs.Ease.quadIn)};var E=e;this._init(a,d,b,e);return this}
function CMenu(){var a,d,b,e,c,f,g,h,l,k,p,A,z=null,E=null;this._init=function(){g=createBitmap(s_oSpriteLibrary.getSprite("bg_menu"));s_oStage.addChild(g);var t=s_oSpriteLibrary.getSprite("but_play");h=new CGfxButton(CANVAS_WIDTH/2,CANVAS_HEIGHT/2+250,t);h.addEventListener(ON_MOUSE_UP,this._onButPlayRelease,this);if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)t=s_oSpriteLibrary.getSprite("icon_audio"),c=CANVAS_WIDTH-t.width/2+15,f=t.height/2+15,p=new CToggle(c,f,t,s_bAudioActive,s_oStage),p.addEventListener(ON_MOUSE_UP,
this._onAudioToggle,this);t=s_oSpriteLibrary.getSprite("but_info");b=t.width/2+15;e=t.height/2+15;l=new CGfxButton(b,e,t);l.addEventListener(ON_MOUSE_UP,this._onCredits,this);t=window.document;var v=t.documentElement;z=v.requestFullscreen||v.mozRequestFullScreen||v.webkitRequestFullScreen||v.msRequestFullscreen;E=t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(z=!1);z&&screenfull.isEnabled&&(t=s_oSpriteLibrary.getSprite("but_fullscreen"),
a=b+t.width/2+15,d=t.height/2+15,A=new CToggle(a,d,t,s_bFullscreen,s_oStage),A.addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,this));k=new createjs.Shape;k.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);s_oStage.addChild(k);createjs.Tween.get(k).to({alpha:0},1E3).call(function(){s_oStage.removeChild(k)});this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};this.unload=function(){h.unload();h=null;s_oStage.removeChild(g);g=null;if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)p.unload(),
p=null;z&&screenfull.isEnabled&&A.unload();createjs.Tween.removeAllTweens();s_oMenu=null};this.refreshButtonPos=function(t,v){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||p.setPosition(c-t,f+v);z&&screenfull.isEnabled&&A.setPosition(a+t,d+v);l.setPosition(b+t,e+v)};this._onCredits=function(){new CCreditsPanel};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this._onButPlayRelease=function(){this.unload();var t=parseInt(DEFAULT_LANG);"none"===DEFAULT_LANG||
isNaN(DEFAULT_LANG)||0>t||5<t?s_oMain.gotoLanguageMenu():(new window["CLang"+DEFAULT_LANG],"none"===DEFAULT_CAT||1>DEFAULT_CAT||DEFAULT_CAT>s_aJSONWords.categories.length?s_oMain.gotoLevelMenu():s_oMain.gotoGame(s_aJSONWords.categories[DEFAULT_CAT-1]))};this.resetFullscreenBut=function(){z&&screenfull.isEnabled&&A.setActive(s_bFullscreen)};this._onFullscreenRelease=function(){s_bFullscreen?E.call(window.document):z.call(window.document.documentElement);sizeHandler()};s_oMenu=this;this._init()}
var s_oMenu=null;
function CGame(a,d){var b,e,c,f,g,h,l,k,p,A,z,E,t,v,y,B,w,u,M,J=!0,K=!1,R,G,L,N;this._init=function(){R=!0;e=createBitmap(s_oSpriteLibrary.getSprite("bg_game"));s_oStage.addChild(e);t="";v=d.words;h=d.rows;l=d.cols;u=[];y=[];M=[];w=[];B=[];this._createGrid();G=0;c=new CInterface;this.controlWords();this.fillGridAttempts();for(var n=0;n<v.length;n++)B[n]=null;v.sort();c.spawnWords(v);c.createHelpPanel();L=s_oStage.on("pressup",this._onStageRelease);setVolume("soundtrack",.3)};this.restartLevel=function(){K=
R=!1;this.unloadGrid();y=[];M=[];w=[];u=[];for(var n=0;n<v.length;n++)B[n]=null;this._createGrid();this.clearCharGridCell();this.deleteAllLineDraw();this.fillGridAttempts();G=0;this.time();c.createFade();c.refreshButtonPos(s_iOffsetX,s_iOffsetY);c.destroyAllLineDrawWordsGuessed()};this.unloadGrid=function(){for(var n=0;n<h;n++)for(var q=0;q<l;q++)u[n][q].unload();u=null;s_oStage.removeChild(f)};this.deleteAllLineDraw=function(){for(var n=0;n<w.length;n++)s_oStage.removeChild(B[n]),B[n]=null};this.setPause=
function(n){R=n};this.refreshPositionContainerGrid=function(n){f.y=b.y+n;this.setRectCells()};this._createGrid=function(){f=new createjs.Container;s_oStage.addChild(f);A=parseInt(GRID_AREA_SIZE/l);p=parseInt(GRID_AREA_SIZE/h);z=A/2;E=p/2;for(var n=0;n<v.length;n++)y.push("");for(var q=n=0;q<h;q++){u[q]=[];for(var m=0;m<l;m++)u[q][m]=new CWordCell(q,m,START_X_GRID+m*A+z,START_Y_GRID+q*p+E,f,"hide",GRID_AREA_SIZE/l/CELL_SIZE.width,n),n++}f.x=0;f.y=-f.getBounds().height-10;n=s_oSpriteLibrary.getSprite("game_panel");
n=createBitmap(n);n.x=35;n.y=f.getBounds().height+220;f.addChild(n);f.setChildIndex(n,0);b={x:f.x,y:f.y};this.setRectCells()};this.onContinue=function(){this.unload();setVolume("soundtrack",1);s_oMain.gotoLevelMenu();$(s_oMain).trigger("end_level",1);$(s_oMain).trigger("end_session")};this.fillGridAttempts=function(){var n=0;do{var q=this.fillGrid();n++}while(!1===q&&1E3>n);q||(c.createFailGridPanel(),R=!0)};this.setRectCells=function(){for(var n=0;n<h;n++)for(var q=0;q<l;q++)u[n][q].setRecOffset({x:f.x,
y:f.y})};this._onExitHelp=function(){this.setPause(!1);$(s_oMain).trigger("start_level",1);c.unloadHelpPanel()};this.controlWords=function(){};this.orderWordsDescendant=function(){do{var n=!1;for(var q=0;q<v.length-1;q++)v[q].length<v[q+1].length&&(n=v[q],v[q]=v[q+1],v[q+1]=n,n=!0)}while(n)};this.onExit=function(){s_oGame.unload();s_oMain.gotoMenu();$(s_oMain).trigger("end_level",1);$(s_oMain).trigger("end_session");$(s_oMain).trigger("show_interlevel_ad");setVolume("soundtrack",1)};this.unload=function(){c.unload();
s_oStage.off("pressup",L);s_oStage.off("pressmove",N);for(var n=0;n<h;n++)for(var q=0;q<l;q++)u[n][q].unload();u=null;createjs.Tween.removeAllTweens();s_oStage.removeAllChildren()};this.onCellSelected=function(n){if(J){J=!1;M.push(n);n.setActive(!0);t+=n.getChar();k=ALL_DIRECTION;if(null===B[w.length]){var q=new createjs.Shape;q.graphics.setStrokeStyle(STROKE_DIMENSION,"round");q.graphics.beginStroke(COLOR_STROKE);q.graphics.moveTo(n.getX(),n.getY());q.graphics.lineTo(n.getX(),n.getY()-2);B[w.length]=
q;B[w.length].mouseEnabled=!1;f.addChild(B[w.length])}N=s_oStage.on("pressmove",this._onPressMove)}};this.drawLine=function(n,q){B[w.length].graphics.clear();B[w.length].graphics.setStrokeStyle(STROKE_DIMENSION,"round","round");B[w.length].graphics.beginStroke(COLOR_STROKE);B[w.length].graphics.moveTo(M[0].getX(),M[0].getY());B[w.length].graphics.lineTo(n,q)};this.fillGrid=function(){this.clearCharGridCell();var n=[LEFT,RIGHT,UP,DOWN,UP_LEFT,UP_RIGHT,DOWN_LEFT,DOWN_RIGHT];if(!this.placeFirstWordInRandomPos(v[0],
n))return!1;for(var q,m=1;m<v.length;m++){var r=[];n=shuffle(n);for(var C=!1,F=0;F<n.length;F++){q=n[F];switch(q){case LEFT:q=this.searchAFreePosition(placeWordsLeft,v[m],u);q.success&&(r.push(q),C=!0);break;case RIGHT:q=this.searchAFreePosition(placeWordsRight,v[m],u,l);q.success&&(r.push(q),C=!0);break;case UP:q=this.searchAFreePosition(placeWordsUp,v[m],u);q.success&&(r.push(q),C=!0);break;case DOWN:q=this.searchAFreePosition(placeWordsDown,v[m],u,h);q.success&&(r.push(q),C=!0);break;case UP_LEFT:q=
this.searchAFreePosition(placeWordsUpLeft,v[m],u);q.success&&(r.push(q),C=!0);break;case UP_RIGHT:q=this.searchAFreePosition(placeWordsUpRight,v[m],u,l);q.success&&(r.push(q),C=!0);break;case DOWN_LEFT:q=this.searchAFreePosition(placeWordsDownLeft,v[m],u,h);q.success&&(r.push(q),C=!0);break;case DOWN_RIGHT:q=this.searchAFreePosition(placeWordsDownRight,v[m],u,h,l),q.success&&(r.push(q),C=!0)}if(F===n.length-1&&!C)return!1}this.searchWordWithMinWeight(r)}for(n=0;n<h;n++)for(m=0;m<l;m++)""===u[n][m].getChar()&&
u[n][m].setRandomChar(Math.floor(Math.random()*s_aJSONWords.alphabet.length));return!0};this.searchWordWithMinWeight=function(n){for(var q=n[0].list[0].weight,m=n[0].list[0],r=0;r<n.length;r++)for(var C=0;C<n[r].list.length;C++)q>n[r].list[C].weight&&(m=n[r].list[C],q=n[r].list[C].weight);this.insertWordOnGrid(m)};this.insertWordOnGrid=function(n){for(var q=this.getRandomColor(),m=0;m<n.list_cell.length;m++){var r=n.list_cell[m];u[r.r][r.c].changeCellText(r["char"]);SHOW_SOLUTION&&u[r.r][r.c].changeTextColor(q)}};
this.getRandomColor=function(){return"rgba("+(Math.floor(127*Math.random()+128)-128)+","+(Math.floor(127*Math.random()+128)-128)+","+(Math.floor(127*Math.random()+128)-128)+",1)"};this.searchAFreePosition=function(n,q){for(var m=[],r=!1,C=0;C<u.length;C++)for(var F=0;F<u[C].length;F++){var D=n(q,C,F,u);D.success&&(m.push(D),r=!0)}return{list:m,success:r}};this.clearCharGridCell=function(){for(var n=0;n<u.length;n++)for(var q=0;q<u[n].length;q++)u[n][q].changeCellText("")};this.placeFirstWordInRandomPos=
function(n,q){var m=Math.floor(Math.random()*h),r=Math.floor(Math.random()*l),C=0;q=shuffle(q);for(var F,D=0;D<q.length;D++)switch(F=q[D],F){case LEFT:if(-1<r-n.length){for(D=r;D>r-n.length;D--)u[m][D].changeCellText(n.charAt(C)),C++;return!0}break;case RIGHT:if(r+n.length<l+1){for(D=r;D<r+n.length;D++)u[m][D].changeCellText(n.charAt(C)),C++;return!0}break;case UP:if(-1<m-n.length){for(D=m;D>m-n.length;D--)u[D][r].changeCellText(n.charAt(C)),C++;return!0}break;case DOWN:if(m+n.length<h+1){for(D=m;D<
m+n.length;D++)u[D][r].changeCellText(n.charAt(C)),C++;return!0}break;case UP_LEFT:if(F=r,-1<m-n.length&&0<r-n.length){for(D=m;D>m-n.length;D--)u[D][F].changeCellText(n.charAt(C)),F--,C++;return!0}case UP_RIGHT:F=r;if(-1<m-n.length&&r+n.length<l){for(D=m;D>m-n.length;D--)u[D][F].changeCellText(n.charAt(C)),F++,C++;return!0}break;case DOWN_LEFT:F=r;if(m+n.length<h+1&&0<r-n.length){for(D=m;D<m+n.length;D++)u[D][F].changeCellText(n.charAt(C)),F--,C++;return!0}break;case DOWN_RIGHT:if(F=r,m+n.length<
h+1&&r+n.length<l){for(D=m;D<m+n.length;D++)u[D][F].changeCellText(n.charAt(C)),F++,C++;return!0}}return!1};this._onPressMove=function(n){s_oGame.lineDrawing(n.stageX/s_iScaleFactor-f.x,n.stageY/s_iScaleFactor-f.y);if(null!==B[w.length]){var q=B[w.length].graphics.command.x+f.x;var m=B[w.length].graphics.command.y+f.y-2}else q=n.stageX/s_iScaleFactor,m=n.stageY/s_iScaleFactor;for(var r=0;r<h;r++)for(var C=0;C<l;C++)if(s_oGame.dirByMouse(n.stageX/s_iScaleFactor,n.stageY/s_iScaleFactor,r,C),!1===u[r][C].isActive()&&
pointInRectangle(q,m,u[r][C].getRectPos())){s_oGame.onCellOver(u[r][C]);break}};this.dirByMouse=function(n,q,m,r){pointInRectangle(n,q,u[m][r].getRectPos())&&(k=s_oGame.directionCell(M[0],u[m][r]))};this.onCellOver=function(n){J||(g={r:n.getRow(),c:n.getCol()},M.push(n))};this.lineDrawing=function(n,q){if(null!==B[w.length])switch(k){case LEFT:case RIGHT:case UP:case DOWN:case UP_LEFT:case UP_RIGHT:case DOWN_LEFT:case DOWN_RIGHT:var m=this.constrainLineDrawAngle(M[0].getX(),M[0].getY(),n,q);this.drawLine(m.x,
m.y-2);break;case ALL_DIRECTION:this.drawLine(n,q)}};this.directionCell=function(n,q){if("undefined"!==n){var m={x:n.getX(),y:n.getY()},r={x:q.getX(),y:q.getY()};return directionNextCell(m,r)}};this.constrainLineDrawAngle=function(n,q,m,r){m-=n;var C=r-q;r=Math.sqrt(m*m+C*C);m=Math.atan2(C,m)/Math.PI*180;m=m%360+180;22.5>=m||337.5<=m?m=0:67.5>=m?m=45:112.5>=m?m=90:157.5>=m?m=135:202.5>=m?m=180:247.5>=m?m=225:292.5>=m?m=270:337.5>m&&(m=315);m-=180;return{x:r*Math.cos(m*Math.PI/180)+n,y:r*Math.sin(m*
Math.PI/180)+q}};this._onStageRelease=function(){s_oStage.off("pressmove",N);J||(J=!0,s_oGame._onCheckWord())};this.deleteALineDraw=function(n){B[n].graphics.clear();s_oStage.removeChild(B[n]);B[n]=null};this._onCheckWord=function(){if(void 0===g)this.deleteALineDraw(w.length),this._clearMatrix();else{var n=this.checkWord();if(2>t.length)this.deleteALineDraw(w.length),this._clearMatrix(),playSound("wrong",1,!1);else{for(var q,m=-1,r=0;r<v.length;r++)if(v[r]===t){m=1;q=r;break}if(-1===m)this._clearMatrix(),
this.deleteALineDraw(w.length),playSound("wrong",1,!1);else{m=!1;for(r=0;r<w.length;r++)if(w[r]===t){m=!0;this.deleteALineDraw(w.length);playSound("wrong",1,!1);break}m||(this.drawLine(n.x,n.y),B[w.length].graphics.endStroke(),w.push(t),c.drawLineOnWord(q),this.checkFinishWordList(),playSound("guessed",1,!1));this._clearMatrix()}}}};this.checkFinishWordList=function(){w.length===v.length&&(c.createWinPanel(Math.floor(BONUS_TIME/60-G/60)),playSound("game_completed",1,!1),K=!0)};this.checkWord=function(){var n=
B[w.length].graphics.command,q=M[0].getRow(),m=M[0].getCol(),r=M[0].getX()+f.x,C=M[0].getY()+f.y;switch(k){case LEFT:for(var F=m;F>g.c-1;F--)for(m=n.x;m<r;m+=.07*CELL_SIZE.width)if(!1===u[q][F].isActive()&&pointInRectangle(m,C,u[q][F].getRectPos())){t+=u[q][F].getChar();u[q][F].setActive(!0);var D={x:u[q][F].getX(),y:u[q][F].getY()};break}break;case RIGHT:for(F=m;F<g.c+1;F++)for(m=n.x;m>r;m-=.07*CELL_SIZE.width)if(!1===u[q][F].isActive()&&pointInRectangle(m,C,u[q][F].getRectPos())){t+=u[q][F].getChar();
u[q][F].setActive(!0);D={x:u[q][F].getX(),y:u[q][F].getY()};break}break;case UP:for(;q>g.r-1;q--)for(F=n.y+f.y;F<C;F+=.07*CELL_SIZE.height)if(!1===u[q][m].isActive()&&pointInRectangle(r,F,u[q][m].getRectPos())){t+=u[q][m].getChar();u[q][m].setActive(!0);D={x:u[q][m].getX(),y:u[q][m].getY()};break}break;case DOWN:for(;q<g.r+1;q++)for(F=n.y+f.y;F>C;F-=.07*CELL_SIZE.height)if(!1===u[q][m].isActive()&&pointInRectangle(r,F,u[q][m].getRectPos())){t+=u[q][m].getChar();u[q][m].setActive(!0);D={x:u[q][m].getX(),
y:u[q][m].getY()};break}break;case UP_LEFT:for(r=m;q>g.r-1;q--){m=n.x;for(F=n.y+f.y;F<C;F+=.07*CELL_SIZE.height){if(!1===u[q][r].isActive()&&pointInRectangle(m,F,u[q][r].getRectPos())){t+=u[q][r].getChar();u[q][r].setActive(!0);D={x:u[q][r].getX(),y:u[q][r].getY()};break}m+=.07*CELL_SIZE.width}r--;if(0>r)break}break;case UP_RIGHT:for(r=m;q>g.r-1;q--){m=n.x;for(F=n.y+f.y;F<C;F+=.07*CELL_SIZE.height){if(!1===u[q][r].isActive()&&pointInRectangle(m,F,u[q][r].getRectPos())){t+=u[q][r].getChar();u[q][r].setActive(!0);
D={x:u[q][r].getX(),y:u[q][r].getY()};break}m-=.07*CELL_SIZE.width}r++;if(r>l-1)break}break;case DOWN_RIGHT:for(r=m;q<g.r+1;q++){m=n.x;for(F=n.y+f.y;F>C;F-=.07*CELL_SIZE.height){if(!1===u[q][r].isActive()&&pointInRectangle(m,F,u[q][r].getRectPos())){t+=u[q][r].getChar();u[q][r].setActive(!0);D={x:u[q][r].getX(),y:u[q][r].getY()};break}m-=.07*CELL_SIZE.width}r++;if(r>l-1)break}break;case DOWN_LEFT:for(r=m;q<g.r+1;q++){m=n.x;for(F=n.y+f.y;F>C;F-=.07*CELL_SIZE.height){if(!1===u[q][r].isActive()&&pointInRectangle(m,
F,u[q][r].getRectPos())){t+=u[q][r].getChar();u[q][r].setActive(!0);D={x:u[q][r].getX(),y:u[q][r].getY()};break}m+=.07*CELL_SIZE.width}r--;if(0>r)break}}return D};this._clearMatrix=function(){for(var n=0;n<h;n++)for(var q=0;q<l;q++)u[n][q].setActive(!1);M=[];J=!0;t=""};this.time=function(){G+=FPS_TIME;c.refreshTime(Math.floor(G/3600)%99,Math.floor(G/60)%60,Math.floor(G)%60)};this.update=function(){!1===R&&(K||this.time(),c.refreshFPSText(Math.floor(createjs.Ticker.getMeasuredFPS())))};s_oGame=this;
BONUS_TIME=a.bonus_time;NUM_LEVELS_FOR_ADS=a.num_levels_for_ads;this._init()}var s_oGame;
function CAreYouSurePanel(a){var d,b,e,c,f,g;this._init=function(){c=new createjs.Container;c.alpha=0;c.visible=!1;h.addChild(c);f=createBitmap(s_oSpriteLibrary.getSprite("bg_game"));c.on("click",function(){});c.addChild(f);var l=s_oSpriteLibrary.getSprite("logo_small");g=new CLogo(.5*l.width+15,.5*l.height+15,l,c);l=s_oSpriteLibrary.getSprite("msg_box");d=createBitmap(l);d.x=CANVAS_WIDTH_HALF;d.y=CANVAS_HEIGHT_HALF;d.regX=.5*l.width;d.regY=.5*l.height;c.addChild(d);new CTLText(c,CANVAS_WIDTH/2-200,
320,400,160,80,"center",TEXT_COLOR,PRIMARY_FONT,1,0,0,TEXT_ARE_SURE,!0,!0,!0,!1);b=new CGfxButton(CANVAS_WIDTH/2+150,.5*CANVAS_HEIGHT+110,s_oSpriteLibrary.getSprite("but_yes"),c);b.addEventListener(ON_MOUSE_UP,this._onButYes,this);e=new CGfxButton(CANVAS_WIDTH/2-150,.5*CANVAS_HEIGHT+110,s_oSpriteLibrary.getSprite("but_not"),c);e.addEventListener(ON_MOUSE_UP,this._onButNo,this);this.refreshPosLogo(s_iOffsetX,s_iOffsetY)};this.show=function(){s_oGame.setPause(!0);c.visible=!0;createjs.Tween.get(c).to({alpha:1},
300,createjs.quartOut).call(function(){createjs.Ticker.paused=!0})};this.refreshPosLogo=function(l,k){var p=g.getStartPos();g.setPosition(p.x+l,p.y+k)};this._onButYes=function(){s_oGame.setPause(!1);createjs.Ticker.paused=!1;s_oGame.onExit();c.removeAllEventListeners()};this.unload=function(){createjs.Tween.get(c).to({alpha:0},300,createjs.quartOut).call(function(){h.removeChild(c)})};this._onButNo=function(){createjs.Ticker.paused=!1;s_oGame.setPause(!1);s_oInterface.unloadAreYouSure();c.removeAllEventListeners()};
var h=a;this._init()}
function CInterface(){var a,d,b,e,c,f,g,h,l,k,p,A,z,E,t,v,y,B=null,w,u,M,J,K,R,G=null,L,N,n=null,q=null;this._init=function(){b=0;e=115;v=new createjs.Container;s_oStage.addChild(v);v.x=b;v.y=e;var m=s_oSpriteLibrary.getSprite("word_panel");K=createBitmap(m);K.x=.1*m.width-20;K.y=.5*-m.height+20;v.addChild(K);u=[];L=[];var r=s_oSpriteLibrary.getSprite("but_exit");g=m=CANVAS_WIDTH-r.width/2-15;h=r.height/2+15;t=new CGfxButton(g,h,r);t.addEventListener(ON_MOUSE_UP,this._onExit,this);r=s_oSpriteLibrary.getSprite("but_pause");
p=m-=r.width+15;A=r.height/2+15;E=new CGfxButton(p,A,r);E.addEventListener(ON_MOUSE_UP,this._onButPauseRelease,this);!1===DISABLE_SOUND_MOBILE||!1===s_bMobile?(r=s_oSpriteLibrary.getSprite("icon_audio"),l=m-=r.width/2+15,k=r.height/2+15,z=new CToggle(l,k,r,s_bAudioActive,s_oStage),z.addEventListener(ON_MOUSE_UP,this._onAudioToggle,this),r=s_oSpriteLibrary.getSprite("but_fullscreen"),a=l-r.width/2-10):(r=s_oSpriteLibrary.getSprite("but_fullscreen"),a=p-r.width/2-15);d=r.height/2+15;m=window.document;
var C=m.documentElement;n=C.requestFullscreen||C.mozRequestFullScreen||C.webkitRequestFullScreen||C.msRequestFullscreen;q=m.exitFullscreen||m.mozCancelFullScreen||m.webkitExitFullscreen||m.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(n=!1);n&&screenfull.isEnabled&&(N=new CToggle(a,d,r,s_bFullscreen,s_oStage),N.addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,this));c=CANVAS_WIDTH_HALF-50;f=CANVAS_HEIGHT_HALF-450;y=this.createText(c,f,"FPS:",20,"left","middle",400);m=s_oSpriteLibrary.getSprite("time_board");
J=new CTimeBoard(m,15,15);this.createFade();this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};this.createFade=function(){var m=new createjs.Shape;m.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);m.alpha=1;s_oStage.addChild(m);createjs.Tween.get(m).to({alpha:0},1E3,createjs.Ease.cubicOut).call(function(){s_oStage.removeChild(m)})};this.destroyAllLineDrawWordsGuessed=function(){for(var m=0;m<L.length;m++)v.removeChild(L[m]);L=[]};this.createHelpPanel=function(){var m=s_oSpriteLibrary.getSprite("msg_box");
R=new CHelpPanel(m)};this.refreshButtonPos=function(m,r){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||z.setPosition(l-m,k+r);n&&screenfull.isEnabled&&N.setPosition(a-m,d+r);E.setPosition(p-m,A+r);t.setPosition(g-m,h+r);y.y=f+r;v.y=e+r;var C=J.getStartPosition();J.setPosition(C.x+m,C.y+r);null!==B&&B.refreshPosLogo(m,r);null!==G&&G.refreshPosLogo(m,r);s_oGame.refreshPositionContainerGrid(r)};this.unloadHelpPanel=function(){R.unload()};this.createText=function(m,r,C,F,D,X,x){C=new createjs.Text(C,F+"px "+
PRIMARY_FONT,TEXT_COLOR);C.x=m;C.y=r;C.textAlign=D;C.textBaseline=X;C.lineWidth=x;return C};this.spawnWords=function(m){for(var r=2*EDGEBOARD_X+15,C=r,F=SPAWN_WORDS_OFFSET_Y,D=0;D<m.length;D++)u.push(new createjs.Text(m[D]," 20px "+SECONDARY_FONT,TEXT_COLOR)),u[D].x=C,u[D].y=F,u[D].textAlign="left",u[D].textBaseline="middle",u[D].lineWidth=400,u[D].x+u[D].getBounds().width>CANVAS_WIDTH-r&&(C=r,F+=u[D].getBounds().height+OFFSET_Y_SPACE_WORDS_LIST,u[D].x=C,u[D].y=F),v.addChild(u[D]),C+=u[D].getBounds().width+
15,C>CANVAS_WIDTH-r-u[D].getBounds().width&&(C=r,F+=u[D].getBounds().height+OFFSET_Y_SPACE_WORDS_LIST);v.x=b};this.drawLineOnWord=function(m){var r=new createjs.Shape;r.graphics.setStrokeStyle(STROKE_DIMENSION_MARKED,"round","round");r.graphics.beginStroke(COLOR_STROKE_MARKED);r.graphics.moveTo(u[m].x,u[m].y);r.graphics.lineTo(u[m].x+u[m].getBounds().width,u[m].y);r.graphics.closePath();L.push(r);v.addChild(r)};this.refreshFPSText=function(m){y.text="FPS:"+m};this.createWinPanel=function(m){var r=
s_oSpriteLibrary.getSprite("msg_box");w=new CEndPanel(r);w.show(m)};this._onButReturnToMenuRelease=function(){s_oGame.onExit()};this._onButPauseRelease=function(){B=new CPause};this.numLevel=function(m){};this.unloadPause=function(){B.unload();B=null};this.createFailGridPanel=function(){var m=s_oSpriteLibrary.getSprite("msg_box");M=new CFailGenerateGrid(m)};this.unloadFailPanel=function(){M.unload();M=null};this.unload=function(){if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)z.unload(),z=null;n&&screenfull.isEnabled&&
N.unload();t.unload();t=null;E.unload();s_oInterface=E=null};this.refreshTime=function(m,r,C){m=m.toString();r=r.toString();C=C.toString();m=this.checkIfAddZero(m);r=this.checkIfAddZero(r);C=this.checkIfAddZero(C);J.refresh(m+":"+r+":"+C)};this.checkIfAddZero=function(m){var r=m;2>r.length&&(r="0"+m);return r};this._onExit=function(){G=new CAreYouSurePanel(s_oStage);G.show()};this.unloadAreYouSure=function(){G.unload();G=null};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=
!s_bAudioActive};this.resetFullscreenBut=function(){n&&screenfull.isEnabled&&N.setActive(s_bFullscreen)};this._onFullscreenRelease=function(){s_bFullscreen?q.call(window.document):n.call(window.document.documentElement);sizeHandler()};s_oInterface=this;this._init();return this}var s_oInterface=null;
function CCreditsPanel(){var a,d,b,e,c,f,g,h,l;this._init=function(){h=new createjs.Container;s_oStage.addChild(h);var k=s_oSpriteLibrary.getSprite("msg_box");f=new createjs.Shape;f.graphics.beginFill("#000").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);f.alpha=.5;l=f.on("click",this._onLogoButRelease);f.cursor="pointer";h.addChild(f);d=createBitmap(k);d.x=CANVAS_WIDTH_HALF;d.y=CANVAS_HEIGHT_HALF;d.regX=.5*k.width;d.regY=.5*k.height;h.addChild(d);k=s_oSpriteLibrary.getSprite("but_not");a=.5*CANVAS_WIDTH+
210;e=new CGfxButton(a,330,k,h);e.setScale(.4);e.addEventListener(ON_MOUSE_UP,this.unload,this);c=new createjs.Text(TEXT_CREDITS_DEVELOPED,"42px "+PRIMARY_FONT,TEXT_COLOR);c.textAlign="center";c.textBaseline="alphabetic";c.x=CANVAS_WIDTH_HALF;c.y=400;h.addChild(c);k=s_oSpriteLibrary.getSprite("logo_ctl");b=createBitmap(k);b.regX=k.width/2;b.regY=k.height/2;b.x=CANVAS_WIDTH_HALF;b.y=c.y+80;h.addChild(b);g=new createjs.Text("www.codethislab.com","40px "+PRIMARY_FONT,TEXT_COLOR);g.textAlign="center";
g.textBaseline="alphabetic";g.x=CANVAS_WIDTH_HALF;g.y=c.y+260;h.addChild(g)};this.unload=function(){f.off("click",l);e.unload();e=null;playSound("click",1,!1);s_oStage.removeChild(h)};this._onLogoButRelease=function(){window.open("http://www.codethislab.com/index.php?&l=en","_blank")};this._init()}
function CEndPanel(a){var d,b,e,c,f,g,h,l;this._init=function(k){l=new createjs.Shape;l.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);l.alpha=0;s_oStage.addChild(l);c=new createjs.Container;c.alpha=1;c.visible=!1;c.y=CANVAS_HEIGHT;d=createBitmap(k);d.x=CANVAS_WIDTH_HALF;d.y=CANVAS_HEIGHT_HALF;d.regX=.5*k.width;d.regY=.5*k.height;c.addChild(d);b=new CTLText(c,CANVAS_WIDTH/2-240,CANVAS_HEIGHT_HALF-180,480,50,50,"center","#fff",PRIMARY_FONT,1,0,0," ",!0,!0,!1,!1);e=new CTLText(c,
CANVAS_WIDTH/2-240,CANVAS_HEIGHT_HALF-70,480,46,46,"center","#fff",PRIMARY_FONT,1,0,0," ",!0,!0,!1,!1);k=s_oSpriteLibrary.getSprite("but_restart");g=new CGfxButton(.5*CANVAS_WIDTH-180,.5*CANVAS_HEIGHT+110,k,c);g.addEventListener(ON_MOUSE_DOWN,this._onRestart,this);g.pulseAnimation();k=s_oSpriteLibrary.getSprite("but_home");f=new CGfxButton(.5*CANVAS_WIDTH+180,.5*CANVAS_HEIGHT+110,k,c);f.addEventListener(ON_MOUSE_DOWN,this._onExit,this);k=s_oSpriteLibrary.getSprite("but_continue");h=new CGfxButton(.5*
CANVAS_WIDTH,.5*CANVAS_HEIGHT+110,k,c);h.addEventListener(ON_MOUSE_DOWN,this._onContinue,this);s_oStage.addChild(c)};this.unload=function(){f&&(f.unload(),f=null);g&&(g.unload(),g=null);l.removeAllEventListeners();s_oStage.removeChild(c,l)};this.show=function(k){b.refreshText(TEXT_WIN);e.refreshText(TEXT_TOTAL_SCORE+": "+k);c.visible=!0;createjs.Tween.get(l).to({alpha:.5},500,createjs.Ease.cubicOut);createjs.Tween.get(c).wait(250).to({y:0},1250,createjs.Ease.bounceOut).call(function(){s_oAdsLevel===
NUM_LEVELS_FOR_ADS?($(s_oMain).trigger("show_interlevel_ad"),s_oAdsLevel=1):s_oAdsLevel++});$(s_oMain).trigger("save_score",k);$(s_oMain).trigger("share_event",k)};this._onContinue=function(){this.createFade(this.onUnloadContinue)};this.createFade=function(k){var p=new createjs.Shape;p.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);p.alpha=0;s_oStage.addChild(p);var A=this;createjs.Tween.get(p).to({alpha:1},750,createjs.Ease.cubicOut).call(function(){s_oStage.removeChild(p);
k(A)})};this._onRestart=function(){this.createFade(this.onUnloadRestart)};this.onUnloadRestart=function(k){k.unload();s_oGame.restartLevel()};this.onUnloadContinue=function(k){k.unload();s_oGame.unload();s_oMain.gotoLevelMenu();$(s_oMain).trigger("end_level",1);$(s_oMain).trigger("end_session");$(s_oMain).trigger("show_interlevel_ad");setVolume("soundtrack",1)};this.onUnloadExit=function(k){k.unload();s_oGame.onExit()};this._onExit=function(){this.createFade(this.onUnloadExit)};this._init(a);return this}
var NUM_ROWS_PAGE_LEVEL=5,NUM_COLS_PAGE_LEVEL=2;
function CLevelMenu(){var a,d,b,e,c,f,g,h,l,k,p,A,z,E,t,v,y,B=null,w=null,u,M,J,K,R=null,G=null;this._init=function(){p=0;u=new createjs.Container;s_oStage.addChild(u);var L=createBitmap(s_oSpriteLibrary.getSprite("bg_game"));u.addChild(L);L=s_oSpriteLibrary.getSprite("logo_small");J=new CLogo(.5*L.width+15,.5*L.height+15,L,s_oStage);new CTLText(s_oStage,CANVAS_WIDTH/2-250,CANVAS_HEIGHT_HALF-270,500,70,70,"center",TEXT_COLOR_2,PRIMARY_FONT,1,0,0,TEXT_SELECT_CATEGORY,!0,!0,!1,!1);L=s_oSpriteLibrary.getSprite("but_exit");
l=CANVAS_WIDTH-L.height/2-15;k=L.height/2+15;v=new CGfxButton(l,k,L,s_oStage);v.addEventListener(ON_MOUSE_UP,this._onExit,this);A=L.height;!1===DISABLE_SOUND_MOBILE||!1===s_bMobile?(g=v.getX()-L.width-15,h=L.height/2+15,y=new CToggle(g,h,s_oSpriteLibrary.getSprite("icon_audio"),s_bAudioActive,s_oStage),y.addEventListener(ON_MOUSE_UP,this._onAudioToggle,this),L=s_oSpriteLibrary.getSprite("but_fullscreen"),a=g-L.width/2-10):(L=s_oSpriteLibrary.getSprite("but_fullscreen"),a=v.getX()-L.width/2-15);d=
L.height/2+15;var N=window.document,n=N.documentElement;R=n.requestFullscreen||n.mozRequestFullScreen||n.webkitRequestFullScreen||n.msRequestFullscreen;G=N.exitFullscreen||N.mozCancelFullScreen||N.webkitExitFullscreen||N.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(R=!1);R&&screenfull.isEnabled&&(K=new CToggle(a,d,L,s_bFullscreen,s_oStage),K.addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,this));this._checkBoundLimits();E=[];L=Math.floor((CANVAS_WIDTH+2*EDGEBOARD_X)/NUM_COLS_PAGE_LEVEL)/2;for(n=
N=0;n<NUM_COLS_PAGE_LEVEL;n++)E.push(N),N+=2*L;t=[];this._createNewLevelPage(0,s_aJSONWords.categories.length);if(1<t.length){for(L=1;L<t.length;L++)t[L].visible=!1;c=CANVAS_WIDTH-80;f=CANVAS_HEIGHT-80;B=new CGfxButton(c,f,s_oSpriteLibrary.getSprite("arrow_right"),s_oStage);B.addEventListener(ON_MOUSE_UP,this._onRight,this);b=80;e=CANVAS_HEIGHT-80;w=new CGfxButton(b,e,s_oSpriteLibrary.getSprite("arrow_left"),s_oStage);w.addEventListener(ON_MOUSE_UP,this._onLeft,this)}M=new createjs.Shape;M.graphics.beginFill("black").drawRect(0,
0,CANVAS_WIDTH,CANVAS_HEIGHT);s_oStage.addChild(M);createjs.Tween.get(M).to({alpha:0},1E3).call(function(){s_oStage.removeChild(M);M=null});this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};this.unload=function(){for(var L=0;L<z.length;L++)z[L].unload();if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)y.unload(),y=null;R&&screenfull.isEnabled&&K.unload();v.unload();v=null;null!==w&&(w.unload(),B.unload());s_oLevelMenu=null;s_oStage.removeAllChildren()};this.refreshButtonPos=function(L,N){v.setPosition(l-
L,k+N);!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||y.setPosition(g-L,N+h);R&&screenfull.isEnabled&&K.setPosition(a-L,d+N);null!==w&&(B.setPosition(c-L,f-N),w.setPosition(b+L,e-N));var n=J.getStartPos();J.setPosition(n.x+L,n.y+N)};this._checkBoundLimits=function(){for(var L=s_oSpriteLibrary.getSprite("but_level"),N=0,n=CANVAS_HEIGHT-2*EDGEBOARD_Y-2*A,q=0;N<n;)N+=L.height+20,q++;NUM_ROWS_PAGE_LEVEL>q&&(NUM_ROWS_PAGE_LEVEL=q);n=N=0;q=CANVAS_WIDTH-2*EDGEBOARD_X;for(L=s_oSpriteLibrary.getSprite("but_level");n<
q;)n+=L.width/2+5,N++;NUM_COLS_PAGE_LEVEL>N&&(NUM_COLS_PAGE_LEVEL=N)};this._createNewLevelPage=function(L,N){if(L!==N){var n=new createjs.Container;u.addChild(n);t.push(n);z=[];for(var q=0,m=-200,r=1,C=!1,F=s_oSpriteLibrary.getSprite("but_level"),D=L;D<N;D++){var X=new CLevelBut(E[q]+F.width/2,m+F.height/2,s_aJSONWords.categories[D].cat_name,F,!0,n);X.addEventListenerWithParams(ON_MOUSE_UP,this._onButLevelRelease,this,D);z.push(X);q++;if(q===E.length&&(q=0,m+=F.height+20,r++,r>NUM_ROWS_PAGE_LEVEL)){C=
!0;break}}n.x=CANVAS_WIDTH/2;n.y=520;n.regX=n.getBounds().width/2;C&&this._createNewLevelPage(D+1,N)}};this._onRight=function(){t[p].visible=!1;p++;p>=t.length&&(p=0);t[p].visible=!0};this._onLeft=function(){t[p].visible=!1;p--;0>p&&(p=t.length-1);t[p].visible=!0};this._onButLevelRelease=function(L){s_oMain.gotoGame(s_aJSONWords.categories[L])};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this._onExit=function(){this.unload();var L=parseInt(DEFAULT_LANG);
"none"===DEFAULT_LANG||isNaN(DEFAULT_LANG)||0>L||5<L?s_oMain.gotoLanguageMenu():s_oMain.gotoMenu()};this.resetFullscreenBut=function(){R&&screenfull.isEnabled&&K.setActive(s_bFullscreen)};this._onFullscreenRelease=function(){s_bFullscreen?G.call(window.document):R.call(window.document.documentElement);sizeHandler()};s_oLevelMenu=this;this._init()}var s_oLevelMenu=null;
function CLevelBut(a,d,b,e,c,f){var g,h,l,k=[],p=[],A,z,E,t;this._init=function(y,B,w,u,M){h=[];l=[];z=new createjs.Container;v.addChild(z);A=createBitmap(u);A.regX=.5*u.width;A.regY=.5*u.height;A.mouseEnabled=M;A.x=y;A.y=B;g=!0;s_bMobile||(z.cursor="pointer");z.addChild(A);k.push(A);new CTLText(z,y-u.width/2,B-u.height/2,u.width,u.height,24,"center",TEXT_COLOR,PRIMARY_FONT,1,0,0,w,!0,!0,!1,!1);this._initListener()};this.unload=function(){z.off("mousedown",E);z.off("pressup",t);z.removeChild(A)};
this._initListener=function(){E=z.on("mousedown",this.buttonDown);t=z.on("pressup",this.buttonRelease)};this.viewBut=function(y){z.addChild(y)};this.addEventListener=function(y,B,w){h[y]=B;l[y]=w};this.addEventListenerWithParams=function(y,B,w,u){h[y]=B;l[y]=w;p=u};this.ifClickable=function(){return!0===z.mouseEnabled?1:0};this.setActive=function(y,B){g=B;k[y].gotoAndStop("state_"+g);k[y].mouseEnabled=!0};this.buttonRelease=function(){g&&h[ON_MOUSE_UP]&&h[ON_MOUSE_UP].call(l[ON_MOUSE_UP],p)};this.buttonDown=
function(){h[ON_MOUSE_DOWN]&&h[ON_MOUSE_DOWN].call(l[ON_MOUSE_DOWN],p)};this.setPosition=function(y,B){z.x=y;z.y=B};this.setVisible=function(y){z.visible=y};var v=f;this._init(a,d,b,e,c,f)}
function CWordCell(a,d,b,e,c,f,g,h){var l,k,p,A,z,E=!1,t,v=s_aJSONWords.alphabet,y,B,w;this._init=function(u,M,J,K,R,G,L){l=u;k=M;p=G;z=L;t=R;A=null;y=new createjs.Text("",SIZE_TEXT_CELL+"px "+SECONDARY_FONT,TEXT_WORD_COLOR);y.x=J;y.y=K+5;y.textAlign="center";y.textBaseline="alphabet";y.lineWidth=500;y.scaleX=y.scaleY=p;c.addChild(y);u=s_oSpriteLibrary.getSprite("hit_area_cell");B=new CGfxButton(J,K,u,c);B.addEventListener(ON_MOUSE_DOWN,this._onCellClicked,this);B.regX=u.width/2;B.regY=u.height/2;
c.addChild(B.getButtonImage())};this.isActive=function(){return E};this.changeCellState=function(u){(void 0).gotoAndStop("selected_"+u)};this.getID=function(){return z};this.changeCellText=function(u){y.text=u};this.checkInPlace=function(u){return""===y.text||y.text===u?!0:!1};this.getChar=function(){return y.text};this.setRecOffset=function(u){w=new createjs.Rectangle(u.x+B.getX()-25,u.y+B.getY()-25,u.x+B.getX()+5,u.y+B.getY()+5)};this.setRandomChar=function(u){""===y.text&&(y.text=v[u])};this._onCellClicked=
function(){s_oGame.onCellSelected(this,l,k)};this.setActive=function(u){E=u};this.getX=function(){return b};this.getY=function(){return e};this.getValue=function(){return t};this.getState=function(){return A};this.changeTextColor=function(u){y.color=u};this.getRotation=function(){return(void 0).rotation};this.getRow=function(){return l};this.getCol=function(){return k};this.getRectPos=function(){return w};this.unload=function(){B.unload();B=null;c.removeChild(void 0)};this._init(a,d,b,e,f,g,h);return this}
function CPause(){var a,d,b,e,c,f;this._init=function(){a=new createjs.Container;a.alpha=0;d=createBitmap(s_oSpriteLibrary.getSprite("bg_game"));a.addChild(d);var g=s_oSpriteLibrary.getSprite("msg_box");b=createBitmap(g);b.x=CANVAS_WIDTH_HALF;b.y=CANVAS_HEIGHT_HALF;b.regX=.5*g.width;b.regY=.5*g.height;a.addChild(b);g=s_oSpriteLibrary.getSprite("logo_small");e=new CLogo(.5*g.width+15,.5*g.height+15,g,a);f=a.on("click",function(){});new CTLText(a,CANVAS_WIDTH/2-250,CANVAS_HEIGHT_HALF-160,500,70,70,
"center",TEXT_COLOR,PRIMARY_FONT,1,0,0,TEXT_PAUSE,!0,!0,!1,!1);s_oStage.addChild(a);g=s_oSpriteLibrary.getSprite("but_continue");c=new CGfxButton(.5*CANVAS_WIDTH,.5*CANVAS_HEIGHT+70,g,a);c.addEventListener(ON_MOUSE_UP,this._onLeavePause,this);this.onPause(!0);createjs.Tween.get(a).to({alpha:1},300,createjs.quartOut).call(function(){createjs.Ticker.paused=!0});this.refreshPosLogo(s_iOffsetX,s_iOffsetY)};this.onPause=function(g){s_oGame.setPause(g)};this.unload=function(){a.off("click",f);s_oStage.removeChild(a)};
this.refreshPosLogo=function(g,h){var l=e.getStartPos();e.setPosition(l.x+g,l.y+h)};this._onLeavePause=function(){createjs.Ticker.paused=!1;createjs.Tween.removeTweens(a);var g=this;createjs.Tween.get(a).to({alpha:0},300,createjs.quartIn).call(function(){g.onPause(!1);c.unload();s_oInterface.unloadPause()})};this._init();return this}
function CLanguageMenu(){var a,d,b,e,c,f,g,h,l,k,p,A,z,E=null,t=null;this._init=function(){A=[];g=createBitmap(s_oSpriteLibrary.getSprite("bg_game"));s_oStage.addChild(g);var v=s_oSpriteLibrary.getSprite("logo_small");p=new CLogo(.5*v.width+15,.5*v.height+15,v,s_oStage);new CTLText(s_oStage,CANVAS_WIDTH/2-250,.5*CANVAS_HEIGHT-280,500,65,65,"center",TEXT_COLOR_2,PRIMARY_FONT,1,0,0,TEXT_SELECT_LANG,!0,!0,!1,!1);v=180;for(var y=194,B=0;B<NUM_OF_LANGUAGE;B++,v+=285){0===B%2&&(v=180,y+=162);var w=s_oSpriteLibrary.getSprite("flag_"+
B);A.push(this.createFlagButton(v,y,w,B))}v=s_oSpriteLibrary.getSprite("but_exit");b=CANVAS_WIDTH-v.height/2-15;e=v.height/2+15;k=new CGfxButton(b,e,v,s_oStage);k.addEventListener(ON_MOUSE_UP,this._onExit,this);!1===DISABLE_SOUND_MOBILE||!1===s_bMobile?(c=k.getX()-v.width-15,f=v.height/2+15,l=new CToggle(c,f,s_oSpriteLibrary.getSprite("icon_audio"),s_bAudioActive,s_oStage),l.addEventListener(ON_MOUSE_UP,this._onAudioToggle,this),v=s_oSpriteLibrary.getSprite("but_fullscreen"),a=c-v.width/2-15):(v=
s_oSpriteLibrary.getSprite("but_fullscreen"),a=b-v.width/2-15);d=v.height/2+15;y=window.document;B=y.documentElement;E=B.requestFullscreen||B.mozRequestFullScreen||B.webkitRequestFullScreen||B.msRequestFullscreen;t=y.exitFullscreen||y.mozCancelFullScreen||y.webkitExitFullscreen||y.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(E=!1);E&&screenfull.isEnabled&&(z=new CToggle(a,d,v,s_bFullscreen,s_oStage),z.addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,this));h=new createjs.Shape;h.graphics.beginFill("black").drawRect(0,
0,CANVAS_WIDTH,CANVAS_HEIGHT);s_oStage.addChild(h);createjs.Tween.get(h).to({alpha:0},1E3).call(function(){s_oStage.removeChild(h);h=null});this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};this.createFlagButton=function(v,y,B,w){v=new CGfxButton(v,y,B,s_oStage);v.addEventListenerWithParams(ON_MOUSE_UP,this._onButPlayRelease,this,w);return v};this.unload=function(){for(var v=0;v<NUM_OF_LANGUAGE;v++)A[v].unload();A=null;if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)l.unload(),l=null;E&&screenfull.isEnabled&&
z.unload();k.unload();k=null;s_oStage.removeAllChildren();s_oLanguageMenu=null};this.refreshButtonPos=function(v,y){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||l.setPosition(c-v,f+y);E&&screenfull.isEnabled&&z.setPosition(a-v,d+y);k.setPosition(b-v,y+e);var B=p.getStartPos();p.setPosition(B.x+v,B.y+y)};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this._onExit=function(){this.unload();s_oMain.gotoMenu()};this._onButPlayRelease=function(v){this.unload();
new window["CLang"+v];"none"===DEFAULT_CAT||1>DEFAULT_CAT||DEFAULT_CAT>s_aJSONWords.categories.length?s_oMain.gotoLevelMenu():s_oMain.gotoGame(s_aJSONWords.categories[DEFAULT_CAT-1])};this.resetFullscreenBut=function(){E&&screenfull.isEnabled&&z.setActive(s_bFullscreen)};this._onFullscreenRelease=function(){s_bFullscreen?t.call(window.document):E.call(window.document.documentElement);sizeHandler()};s_oLanguageMenu=this;this._init()}var s_oLanguageMenu=null;
function CFailGenerateGrid(a){var d,b,e,c,f;this._init=function(g){f=new createjs.Container;s_oStage.addChild(f);b=new createjs.Shape;b.graphics.beginFill("#000").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);b.alpha=.5;c=b.on("click",function(){});b.cursor="pointer";f.addChild(b);d=createBitmap(g);d.x=CANVAS_WIDTH_HALF;d.y=CANVAS_HEIGHT_HALF;d.regX=.5*g.width;d.regY=.5*g.height;f.addChild(d);new CTLText(f,CANVAS_WIDTH/2-240,330,480,120,28,"center","#fff",PRIMARY_FONT,1,0,0,TEXT_FAIL_GENERATION_MATRIX,
!0,!0,!0,!1);e=new CGfxButton(CANVAS_WIDTH/2,.5*CANVAS_HEIGHT+100,s_oSpriteLibrary.getSprite("but_restart"),f);e.addEventListener(ON_MOUSE_UP,this._onPressButRestart,this)};this.unload=function(){b.off("click",c);e.unload();e=null;playSound("click",1,!1);s_oStage.removeChild(f)};this._onPressButRestart=function(){s_oInterface.unloadFailPanel();s_oGame.restartLevel()};this._init(a);return this}
function CTimeBoard(a,d,b){var e,c,f,g;this._init=function(h,l,k){e={x:l,y:k};c=new createjs.Container;c.x=e.x;c.y=e.y;f=createBitmap(h);f.x=0;f.y=0;f.regX=0;f.regY=0;c.addChild(f);s_oStage.addChild(c);g=new CTLText(c,60,6,170,34,34,"left",TEXT_COLOR,PRIMARY_FONT,1,0,0,"00:00:00",!0,!0,!1,!1)};this.getStartPosition=function(){return e};this.setPosition=function(h,l){c.x=h;c.y=l};this.unload=function(){s_oStage.removeChild(c)};this.refresh=function(h){g.refreshText(h)};this._init(a,d,b);return this}
function CHelpPanel(a){var d,b,e,c,f,g=!1;this._init=function(h){d=createBitmap(h);d.x=.5*CANVAS_WIDTH;d.y=.5*CANVAS_HEIGHT;d.regX=.5*h.width;d.regY=.5*h.height;b=new createjs.Container;e=new createjs.Shape;e.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);e.alpha=.5;b.addChild(e);b.addChild(d);s_oStage.addChild(b);this.page1(b);b.on("pressup",function(){s_oHelpPanel._onExitHelp()},null,!0);s_bMobile||(b.cursor="pointer")};this.page1=function(h){new CTLText(h,CANVAS_WIDTH/2-240,
.5*CANVAS_HEIGHT-180,480,44,44,"center","#fff",PRIMARY_FONT,1,0,0,TEXT_SUMMARY,!0,!0,!1,!1);new CTLText(h,CANVAS_WIDTH/2-240,.5*CANVAS_HEIGHT-100,480,100,26,"center",TEXT_COLOR,SECONDARY_FONT,1,0,0,TEXT_HELP,!0,!0,!0,!1);var l=s_oSpriteLibrary.getSprite("img_help");f=createBitmap(l);f.x=CANVAS_WIDTH_HALF-100;f.y=CANVAS_HEIGHT_HALF+108;f.regX=.5*l.width;f.regY=.5*l.height;h.addChild(f);createjs.Tween.get(h).to({alpha:1},300,createjs.Ease.cubicOut);l=s_oSpriteLibrary.getSprite("but_continue");c=new CGfxButton(.5*
CANVAS_WIDTH+180,.5*CANVAS_HEIGHT+110,l,h);c.addEventListener(ON_MOUSE_UP,this._onExitHelp,this);c.pulseAnimation();s_oStage.addChild(h)};this.unload=function(){s_oStage.removeChild(b);s_oHelpPanel=null;c.unload();c=null};this._onExitHelp=function(){g||(b.removeAllEventListeners(),g=!0,createjs.Tween.get(b).to({alpha:0},300,createjs.Ease.cubicOut).call(function(){s_oGame._onExitHelp()}))};s_oHelpPanel=this;this._init(a)}var s_oHelpPanel=null;
function CLogo(a,d,b,e){var c,f;this._init=function(h,l,k){c={x:h,y:l};f=createBitmap(k);f.x=c.x;f.y=c.y;f.regX=.5*k.width;f.regY=.5*k.height;g.addChild(f)};this.setPosition=function(h,l){f.x=h;f.y=l};this.getStartPos=function(){return c};this.unload=function(){g.removeChild(f)};var g=e;this._init(a,d,b);return this}
function placeWordsLeft(a,d,b,e){var c=[],f=0,g=0,h=!1,l=b-a.length;if(0>l)return{success:!1};for(;b>l;b--)if(void 0!==e[d]&&void 0!==e[d][b])if(""===e[d][b].getChar()||a.charAt(f)===e[d][b].getChar()){var k="";a.charAt(f)!==e[d][b].getChar()?g++:k=e[d][b].getChar();c.push({r:d,c:b,"char":a.charAt(f),char_compare:k});f++;a.length===f&&(h=!0)}else return{success:!1};else return{success:!1};return{list_cell:c,weight:g,success:h}}
function placeWordsRight(a,d,b,e,c){var f=[],g=0,h=0,l=!1,k=b+a.length;if(k>c)return{success:!1};for(;b<k;b++)if(void 0!==e[d]&&void 0!==e[d][b])if(""===e[d][b].getChar()||a.charAt(g)===e[d][b].getChar())c="",a.charAt(g)!==e[d][b].getChar()?h++:c=e[d][b].getChar(),f.push({r:d,c:b,"char":a.charAt(g),char_compare:c}),g++,a.length===g&&(l=!0);else return{success:!1};else return{success:!1};return{list_cell:f,weight:h,success:l}}
function placeWordsUp(a,d,b,e){var c=[],f=0,g=0,h=!1,l=d-a.length;if(0>l)return{success:!1};for(;d>l;d--)if(void 0!==e[d]&&void 0!==e[d][b])if(""===e[d][b].getChar()||a.charAt(f)===e[d][b].getChar()){var k="";a.charAt(f)!==e[d][b].getChar()?g++:k=e[d][b].getChar();c.push({r:d,c:b,"char":a.charAt(f),char_compare:k});f++;a.length===f&&(h=!0)}else return{success:!1};else return{success:!1};return{list_cell:c,weight:g,success:h}}
function placeWordsDown(a,d,b,e,c){var f=[],g=0,h=0,l=!1,k=d+a.length;if(k>c)return{success:!1};for(;d<k;d++)if(void 0!==e[d]&&void 0!==e[d][b])if(""===e[d][b].getChar()||a.charAt(g)===e[d][b].getChar())c="",a.charAt(g)!==e[d][b].getChar()?h++:c=e[d][b].getChar(),f.push({r:d,c:b,"char":a.charAt(g),char_compare:c}),g++,a.length===g&&(l=!0);else return{success:!1};else return{success:!1};return{list_cell:f,weight:h,success:l}}
function placeWordsUpLeft(a,d,b,e){var c=[],f=0,g=0,h=!1,l=d-a.length,k=b-a.length;if(0>l&&0>k)return{success:!1};for(;d>l;d--)if(void 0!==e[d]&&void 0!==e[d][b])if(""===e[d][b].getChar()||a.charAt(f)===e[d][b].getChar())k="",a.charAt(f)!==e[d][b].getChar()?g++:k=e[d][b].getChar(),c.push({r:d,c:b,"char":a.charAt(f),char_compare:k}),f++,b--,a.length===f&&(h=!0);else return{success:!1};else return{success:!1};return{list_cell:c,weight:g,success:h}}
function placeWordsUpRight(a,d,b,e,c){var f=[],g=0,h=0,l=!1,k=d-a.length,p=b+a.length;if(0>k&&p>c)return{success:!1};for(;d>k;d--)if(void 0!==e[d]&&void 0!==e[d][b])if(""===e[d][b].getChar()||a.charAt(g)===e[d][b].getChar())c="",a.charAt(g)!==e[d][b].getChar()?h++:c=e[d][b].getChar(),f.push({r:d,c:b,"char":a.charAt(g),char_compare:c}),g++,b++,a.length===g&&(l=!0);else return{success:!1};else return{success:!1};return{list_cell:f,weight:h,success:l}}
function placeWordsDownLeft(a,d,b,e,c){var f=[],g=0,h=0,l=!1,k=d+a.length,p=b-a.length;if(k>c&&0>p)return{success:!1};for(;d<k;d++)if(void 0!==e[d]&&void 0!==e[d][b])if(""===e[d][b].getChar()||a.charAt(g)===e[d][b].getChar())c="",a.charAt(g)!==e[d][b].getChar()?h++:c=e[d][b].getChar(),f.push({r:d,c:b,"char":a.charAt(g),char_compare:c}),g++,b--,a.length===g&&(l=!0);else return{success:!1};else return{success:!1};return{list_cell:f,weight:h,success:l}}
function placeWordsDownRight(a,d,b,e,c,f){var g=[],h=0,l=0,k=!1,p=d+a.length,A=b+a.length;if(p>c&&A>f)return{success:!1};for(;d<p;d++)if(void 0!==e[d]&&void 0!==e[d][b])if(""===e[d][b].getChar()||a.charAt(h)===e[d][b].getChar())c="",a.charAt(h)!==e[d][b].getChar()?l++:c=e[d][b].getChar(),g.push({r:d,c:b,"char":a.charAt(h),char_compare:c}),h++,b++,a.length===h&&(k=!0);else return{success:!1};else return{success:!1};return{list_cell:g,weight:l,success:k}}
CTLText.prototype={constructor:CTLText,__autofit:function(){if(this._bFitText){for(var a=this._iFontSize;(this._oText.getBounds().height>this._iHeight-2*this._iPaddingV||this._oText.getBounds().width>this._iWidth-2*this._iPaddingH)&&!(a--,this._oText.font=a+"px "+this._szFont,this._oText.lineHeight=Math.round(a*this._fLineHeightFactor),this.__updateY(),this.__verticalAlign(),8>a););this._iFontSize=a}},__verticalAlign:function(){if(this._bVerticalAlign){var a=this._oText.getBounds().height;this._oText.y-=
(a-this._iHeight)/2+this._iPaddingV}},__updateY:function(){this._oText.y=this._y+this._iPaddingV;switch(this._oText.textBaseline){case "middle":this._oText.y+=this._oText.lineHeight/2+(this._iFontSize*this._fLineHeightFactor-this._iFontSize)}},__createText:function(a){this._bDebug&&(this._oDebugShape=new createjs.Shape,this._oDebugShape.graphics.beginFill("rgba(255,0,0,0.5)").drawRect(this._x,this._y,this._iWidth,this._iHeight),this._oContainer.addChild(this._oDebugShape));this._oText=new createjs.Text(a,
this._iFontSize+"px "+this._szFont,this._szColor);this._oText.textBaseline="middle";this._oText.lineHeight=Math.round(this._iFontSize*this._fLineHeightFactor);this._oText.textAlign=this._szAlign;this._oText.lineWidth=this._bMultiline?this._iWidth-2*this._iPaddingH:null;switch(this._szAlign){case "center":this._oText.x=this._x+this._iWidth/2;break;case "left":this._oText.x=this._x+this._iPaddingH;break;case "right":this._oText.x=this._x+this._iWidth-this._iPaddingH}this._oContainer.addChild(this._oText);
this.refreshText(a)},setVerticalAlign:function(a){this._bVerticalAlign=a},setOutline:function(a){null!==this._oText&&(this._oText.outline=a)},setShadow:function(a,d,b,e){null!==this._oText&&(this._oText.shadow=new createjs.Shadow(a,d,b,e))},setColor:function(a){this._oText.color=a},setAlpha:function(a){this._oText.alpha=a},setY:function(a){this._oText.y=a},removeTweens:function(){createjs.Tween.removeTweens(this._oText)},getText:function(){return this._oText},getY:function(){return this._y},getFontSize:function(){return this._iFontSize},
refreshText:function(a){""===a&&(a=" ");null===this._oText&&this.__createText(a);this._oText.text=a;this._oText.font=this._iFontSize+"px "+this._szFont;this._oText.lineHeight=Math.round(this._iFontSize*this._fLineHeightFactor);this.__autofit();this.__updateY();this.__verticalAlign()}};
function CTLText(a,d,b,e,c,f,g,h,l,k,p,A,z,E,t,v,y){this._oContainer=a;this._x=d;this._y=b;this._iWidth=e;this._iHeight=c;this._bMultiline=v;this._iFontSize=f;this._szAlign=g;this._szColor=h;this._szFont=l;this._iPaddingH=p;this._iPaddingV=A;this._bVerticalAlign=t;this._bFitText=E;this._bDebug=y;this._oDebugShape=null;this._fLineHeightFactor=k;this._oText=null;z&&this.__createText(z)}
function CLang0(){s_aJSONWords={alphabet:"abcdefghijklmnopqrstuvwxyz".split(""),categories:[{cat_name:"Fruits",words:"mandarin plantain apricot avocado berries banana tomato citrus durian lychee papaya guava kiwi lime pear pome".split(" "),rows:10,cols:10},{cat_name:"Vegetables",words:"broccoli celeriac cucumber arugula parsnip shallot potato capers chives fennel ginger pepper pickle sorrel turnip".split(" "),rows:10,cols:10},{cat_name:"Computer",words:"processor document download homepage internet monitor restore webpage select column header online output server cells zip".split(" "),
rows:10,cols:10},{cat_name:"Music",words:"classical accordion saxophone composer baritone trombone modulate staccato accent lyrics melody rhythm banjo cello viola bass".split(" "),rows:10,cols:10},{cat_name:"Countries",words:"argentina guatemala tunisia vietnam turkey canada france haiti libya italy japan spain africa romania portugal togo".split(" "),rows:10,cols:10},{cat_name:"Animals",words:"alligator kangaroo rabbit spider eagle camel shark snake zebra bird goat seal deer rat dog ant fox".split(" "),
rows:10,cols:10}]}}
function CLang1(){s_aJSONWords={alphabet:"abcdefghijklmnopqrstuvwxyz".split(""),categories:[{cat_name:"Fruit",words:"mandarin plantain abricot avocat baies banane tomate citrus durian litchi papaye goyave kiwi lime poire pome".split(" "),rows:10,cols:10},{cat_name:"Vegetables",words:"brocoli poireau concombre roquette panais oignon salade capres civette fenouil gingembre poivre cornichon oseille navet".split(" "),rows:10,cols:10},{cat_name:"Computer",words:"cpu document download homepage internet monitor restore webpage choisir column header online output server cellules zip".split(" "),rows:10,
cols:10},{cat_name:"Musique",words:"classique accordeon saxophone composer baryton trombone moduler staccato accent paroles chant rythme banjo cello violet basse".split(" "),rows:10,cols:10},{cat_name:"Patrie",words:"argentina tunisia vietnam turquie canada france haiti libye italie japon espagne afrique roumanie portugal togo".split(" "),rows:10,cols:10},{cat_name:"Animaux",words:"alligator kangourou lapin araignee aigle chameau requin serpent z\u00e8bre oiseau chevre sceau cerf rat chien fourmi renard".split(" "),
rows:10,cols:10}]}}
function CLang2(){s_aJSONWords={alphabet:"abcdefghijklmnopqrstuvwxyz".split(""),categories:[{cat_name:"Frucht",words:"mandarine wegerich aprikose avocado beeren banane tomate zitrus durian litschi papaya guave kiwi kalk birne samen".split(" "),rows:10,cols:10},{cat_name:"Pflanze",words:"brokkoli sellerie gurke steckrube rucola pastinake schalotten kartoffel kapern knoblauch fenchel ingwer pfeffer gurke fuchs rube".split(" "),rows:10,cols:10},{cat_name:"Computer",words:"cpu dokument download homepage internet monitor restore webseite wahlen spalte header online ausgang server zellen zip".split(" "),rows:10,
cols:10},{cat_name:"Musik",words:"klassisch akkordeon saxophon komponist bariton posaune staccato akzent text melodie rhythmus banjo cello viola bass".split(" "),rows:10,cols:10},{cat_name:"Staat",words:"germania guatemala tunesien vietnam pute kanada haiti libyen italien japan spanien afrika rumanien portugal togo".split(" "),rows:10,cols:10},{cat_name:"Tiere",words:"alligator kanguru kaninchen spinne adler kamel hai schlange zebra vogel ziege siegel hirsche ratte hund ameise fuchs".split(" "),rows:10,
cols:10}]}}
function CLang3(){s_aJSONWords={alphabet:"abcdefghijklmnopqrstuvwyz".split(""),categories:[{cat_name:"Frutti",words:"mandarino pesca albicocca avocado bacca banana pomodoro agrumi durian litchi papaya guava kiwi lime pera".split(" "),rows:10,cols:10},{cat_name:"Vegetali",words:"broccoli porro cetriolo rapa rucola pastinaca scalogno patata capperi cipolla finocchio zenzero pepe salamoia acetosa".split(" "),rows:10,cols:10},{cat_name:"Computer",words:"cpu documento download homepage internet monitor restore webpage selezione colonna header online output server celle zip".split(" "),rows:10,
cols:10},{cat_name:"Musica",words:"classico accordi sassofono composer baritono trombone modulare staccato tono testo melodia ritmo banjo chitarra viola basso".split(" "),rows:10,cols:10},{cat_name:"Paesi",words:"argentina guatemala tunisia vietnam turchia canada francia haiti libia italia giappone spagna africa romania portogallo togo".split(" "),rows:10,cols:10},{cat_name:"Animali",words:"alligatore canguro coniglio ragno aquila cammello squalo serpente zebra uccello capra foca cervo topo cane formica volpe".split(" "),
rows:10,cols:10}]}}
function CLang4(){s_aJSONWords={alphabet:"abcdefghijklmnopqrstuvwxyz".split(""),categories:[{cat_name:"Fruta",words:"tangerina banana damasco abacate frutos banana tomate citrus durian lichia papaya goiaba kiwi cal pera pome".split(" "),rows:10,cols:10},{cat_name:"Vegetais",words:"brocolis aipo pepino nabo r\u00facula parsnip cebola batata alcaparras cebolinha funcho ginger pimenta picles azeda cole".split(" "),rows:10,cols:10},{cat_name:"Computador",words:"cpu documento download homepage internet monitor restore web selecionar coluna header online output server celulas zip".split(" "),rows:10,
cols:10},{cat_name:"Musica",words:"classica acordeao saxofone compositor baritono trombone modular staccato sotaque letras melodia ritmo banjo cello viola bass".split(" "),rows:10,cols:10},{cat_name:"Pa\u00edses",words:"argentina guatemala tunisia vietnam turkey canada fran\u00e7a haiti l\u00edbia italia japao espanha africa romenia portugal togo".split(" "),rows:10,cols:10},{cat_name:"Animais",words:"jacare canguru coelho spider aguia camelo tubarao cobra zebra passaro cabra selo veado rato cao formiga fox".split(" "),
rows:10,cols:10}]}}
function CLang5(){s_aJSONWords={alphabet:"abcdefghijklmnopqrstuvwxyz".split(""),categories:[{cat_name:"Fruta",words:"mandarina platano melo aguacate bayas banana tomate c\u00edtricos durian lichi papaya guayaba kiwi limonero pera pepita".split(" "),rows:10,cols:10},{cat_name:"Vegetales",words:"brocoli apio pepino nabo r\u00facula pastinaca chalota papa alcaparras cebollino hinojo jengibre pimienta salmuera acedera nabo".split(" "),rows:10,cols:10},{cat_name:"Computadora",words:"cpu documento descarga homepage internet monitor restore webpage elegir columna header online output server celda zip".split(" "),rows:10,
cols:10},{cat_name:"Musica",words:"clasica acordeon saxofon compositor baritono trombon modular staccato acento letras melodia ritmo banjo cello viola bajos".split(" "),rows:10,cols:10},{cat_name:"Paises",words:"argentina guatemala tunez vietnam pavo canada francia haiti libia italia japon espana africa rumania portugal togo".split(" "),rows:10,cols:10},{cat_name:"Animales",words:"cocodrilo canguro conejo arana aguila camello tiburon serpiente cebra ave cabra sello ciervo rata can hormiga zorro".split(" "),
rows:10,cols:10}]}};