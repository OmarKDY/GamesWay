/*
 TweenJS
 Visit http://createjs.com/ for documentation, updates and examples.

 Copyright (c) 2010 gskinner.com, inc.

 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the "Software"), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
 Platform.js <https://mths.be/platform>
 Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>
 Copyright 2011-2013 John-David Dalton
 Available under MIT license <https://mths.be/mit>
*/
this.createjs=this.createjs||{};createjs.extend=function(a,b){function c(){this.constructor=a}c.prototype=b.prototype;return a.prototype=new c};this.createjs=this.createjs||{};createjs.promote=function(a,b){var c=a.prototype,d=Object.getPrototypeOf&&Object.getPrototypeOf(c)||c.__proto__;if(d){c[(b+="_")+"constructor"]=d.constructor;for(var e in d)c.hasOwnProperty(e)&&"function"==typeof d[e]&&(c[b+e]=d[e])}return a};this.createjs=this.createjs||{};
createjs.deprecate=function(a,b){return function(){var c="Deprecated property or method '"+b+"'. See docs for info.";console&&(console.warn?console.warn(c):console.log(c));return a&&a.apply(this,arguments)}};this.createjs=this.createjs||{};
(function(){function a(a,d,e){this.type=a;this.currentTarget=this.target=null;this.eventPhase=0;this.bubbles=!!d;this.cancelable=!!e;this.timeStamp=(new Date).getTime();this.removed=this.immediatePropagationStopped=this.propagationStopped=this.defaultPrevented=!1}var b=a.prototype;b.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};b.stopPropagation=function(){this.propagationStopped=!0};b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=
!0};b.remove=function(){this.removed=!0};b.clone=function(){return new a(this.type,this.bubbles,this.cancelable)};b.set=function(a){for(var c in a)this[c]=a[c];return this};b.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=a})();this.createjs=this.createjs||{};
(function(){function a(){this._captureListeners=this._listeners=null}var b=a.prototype;a.initialize=function(a){a.addEventListener=b.addEventListener;a.on=b.on;a.removeEventListener=a.off=b.removeEventListener;a.removeAllEventListeners=b.removeAllEventListeners;a.hasEventListener=b.hasEventListener;a.dispatchEvent=b.dispatchEvent;a._dispatchEvent=b._dispatchEvent;a.willTrigger=b.willTrigger};b.addEventListener=function(a,d,e){var c=e?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var b=c[a];b&&this.removeEventListener(a,d,e);(b=c[a])?b.push(d):c[a]=[d];return d};b.on=function(a,d,e,b,h,k){d.handleEvent&&(e=e||d,d=d.handleEvent);e=e||this;return this.addEventListener(a,function(a){d.call(e,a,h);b&&a.remove()},k)};b.removeEventListener=function(a,d,e){if(e=e?this._captureListeners:this._listeners){var c=e[a];if(c)for(var b=0,k=c.length;b<k;b++)if(c[b]==d){1==k?delete e[a]:c.splice(b,1);break}}};b.off=b.removeEventListener;b.removeAllEventListeners=function(a){a?
(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};b.dispatchEvent=function(a,d,e){if("string"==typeof a){var c=this._listeners;if(!(d||c&&c[a]))return!0;a=new createjs.Event(a,d,e)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(h){}if(a.bubbles&&this.parent){e=this;for(d=[e];e.parent;)d.push(e=e.parent);c=d.length;for(e=c-1;0<=e&&!a.propagationStopped;e--)d[e]._dispatchEvent(a,1+(0==e));
for(e=1;e<c&&!a.propagationStopped;e++)d[e]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return!a.defaultPrevented};b.hasEventListener=function(a){var c=this._listeners,e=this._captureListeners;return!!(c&&c[a]||e&&e[a])};b.willTrigger=function(a){for(var c=this;c;){if(c.hasEventListener(a))return!0;c=c.parent}return!1};b.toString=function(){return"[EventDispatcher]"};b._dispatchEvent=function(a,b){var c,d,h=2>=b?this._captureListeners:this._listeners;if(a&&h&&(d=h[a.type])&&(c=d.length)){try{a.currentTarget=
this}catch(g){}try{a.eventPhase=b|0}catch(g){}a.removed=!1;d=d.slice();for(h=0;h<c&&!a.immediatePropagationStopped;h++){var k=d[h];k.handleEvent?k.handleEvent(a):k(a);a.removed&&(this.off(a.type,k,1==b),a.removed=!1)}}2===b&&this._dispatchEvent(a,2.1)};createjs.EventDispatcher=a})();this.createjs=this.createjs||{};
(function(){function a(){throw"Ticker cannot be instantiated.";}a.RAF_SYNCHED="synched";a.RAF="raf";a.TIMEOUT="timeout";a.timingMode=null;a.maxDelta=0;a.paused=!1;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a._addEventListener=a.addEventListener;a.addEventListener=function(){!a._inited&&a.init();return a._addEventListener.apply(a,arguments)};a._inited=!1;a._startTime=0;a._pausedTime=
0;a._ticks=0;a._pausedTicks=0;a._interval=50;a._lastTime=0;a._times=null;a._tickTimes=null;a._timerId=null;a._raf=!0;a._setInterval=function(c){a._interval=c;a._inited&&a._setupTick()};a.setInterval=createjs.deprecate(a._setInterval,"Ticker.setInterval");a._getInterval=function(){return a._interval};a.getInterval=createjs.deprecate(a._getInterval,"Ticker.getInterval");a._setFPS=function(c){a._setInterval(1E3/c)};a.setFPS=createjs.deprecate(a._setFPS,"Ticker.setFPS");a._getFPS=function(){return 1E3/
a._interval};a.getFPS=createjs.deprecate(a._getFPS,"Ticker.getFPS");try{Object.defineProperties(a,{interval:{get:a._getInterval,set:a._setInterval},framerate:{get:a._getFPS,set:a._setFPS}})}catch(d){console.log(d)}a.init=function(){a._inited||(a._inited=!0,a._times=[],a._tickTimes=[],a._startTime=a._getTime(),a._times.push(a._lastTime=0),a.interval=a._interval)};a.reset=function(){if(a._raf){var c=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||
window.msCancelAnimationFrame;c&&c(a._timerId)}else clearTimeout(a._timerId);a.removeAllEventListeners("tick");a._timerId=a._times=a._tickTimes=null;a._startTime=a._lastTime=a._ticks=a._pausedTime=0;a._inited=!1};a.getMeasuredTickTime=function(c){var e=0,b=a._tickTimes;if(!b||1>b.length)return-1;c=Math.min(b.length,c||a._getFPS()|0);for(var d=0;d<c;d++)e+=b[d];return e/c};a.getMeasuredFPS=function(c){var b=a._times;if(!b||2>b.length)return-1;c=Math.min(b.length-1,c||a._getFPS()|0);return 1E3/((b[0]-
b[c])/c)};a.getTime=function(c){return a._startTime?a._getTime()-(c?a._pausedTime:0):-1};a.getEventTime=function(c){return a._startTime?(a._lastTime||a._startTime)-(c?a._pausedTime:0):-1};a.getTicks=function(c){return a._ticks-(c?a._pausedTicks:0)};a._handleSynch=function(){a._timerId=null;a._setupTick();a._getTime()-a._lastTime>=.97*(a._interval-1)&&a._tick()};a._handleRAF=function(){a._timerId=null;a._setupTick();a._tick()};a._handleTimeout=function(){a._timerId=null;a._setupTick();a._tick()};a._setupTick=
function(){if(null==a._timerId){var c=a.timingMode;if(c==a.RAF_SYNCHED||c==a.RAF){var b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(b){a._timerId=b(c==a.RAF?a._handleRAF:a._handleSynch);a._raf=!0;return}}a._raf=!1;a._timerId=setTimeout(a._handleTimeout,a._interval)}};a._tick=function(){var c=a.paused,b=a._getTime(),f=b-a._lastTime;a._lastTime=b;a._ticks++;c&&(a._pausedTicks++,a._pausedTime+=
f);if(a.hasEventListener("tick")){var h=new createjs.Event("tick"),k=a.maxDelta;h.delta=k&&f>k?k:f;h.paused=c;h.time=b;h.runTime=b-a._pausedTime;a.dispatchEvent(h)}for(a._tickTimes.unshift(a._getTime()-b);100<a._tickTimes.length;)a._tickTimes.pop();for(a._times.unshift(b);100<a._times.length;)a._times.pop()};var b=window,c=b.performance.now||b.performance.mozNow||b.performance.msNow||b.performance.oNow||b.performance.webkitNow;a._getTime=function(){return(c&&c.call(b.performance)||(new Date).getTime())-
a._startTime};createjs.Ticker=a})();this.createjs=this.createjs||{};
(function(){function a(a){this.EventDispatcher_constructor();this.ignoreGlobalPause=!1;this.loop=0;this.bounce=this.reversed=this.useTicks=!1;this.timeScale=1;this.position=this.duration=0;this.rawPosition=-1;this._paused=!0;this._labelList=this._labels=this._parent=this._prev=this._next=null;a&&(this.useTicks=!!a.useTicks,this.ignoreGlobalPause=!!a.ignoreGlobalPause,this.loop=!0===a.loop?-1:a.loop||0,this.reversed=!!a.reversed,this.bounce=!!a.bounce,this.timeScale=a.timeScale||1,a.onChange&&this.addEventListener("change",
a.onChange),a.onComplete&&this.addEventListener("complete",a.onComplete))}var b=createjs.extend(a,createjs.EventDispatcher);b._setPaused=function(a){createjs.Tween._register(this,a);return this};b.setPaused=createjs.deprecate(b._setPaused,"AbstractTween.setPaused");b._getPaused=function(){return this._paused};b.getPaused=createjs.deprecate(b._getPaused,"AbstactTween.getPaused");b._getCurrentLabel=function(a){var c=this.getLabels();null==a&&(a=this.position);for(var b=0,f=c.length;b<f&&!(a<c[b].position);b++);
return 0===b?null:c[b-1].label};b.getCurrentLabel=createjs.deprecate(b._getCurrentLabel,"AbstractTween.getCurrentLabel");try{Object.defineProperties(b,{paused:{set:b._setPaused,get:b._getPaused},currentLabel:{get:b._getCurrentLabel}})}catch(c){}b.advance=function(a,b){this.setPosition(this.rawPosition+a*this.timeScale,b)};b.setPosition=function(a,b,e,f){var c=this.duration,d=this.loop,g=this.rawPosition,p=0;0>a&&(a=0);if(0===c){var l=!0;if(-1!==g)return l}else{var m=a/c|0;p=a-m*c;(l=-1!==d&&a>=d*
c+c)&&(a=(p=c)*(m=d)+c);if(a===g)return l;!this.reversed!==!(this.bounce&&m%2)&&(p=c-p)}this.position=p;this.rawPosition=a;this._updatePosition(e,l);l&&(this.paused=!0);f&&f(this);b||this._runActions(g,a,e,!e&&-1===g);this.dispatchEvent("change");l&&this.dispatchEvent("complete")};b.calculatePosition=function(a){var c=this.duration,b=this.loop,f=0;if(0===c)return 0;-1!==b&&a>=b*c+c?(a=c,f=b):0>a?a=0:(f=a/c|0,a-=f*c);return!this.reversed!==!(this.bounce&&f%2)?c-a:a};b.getLabels=function(){var a=this._labelList;
if(!a){a=this._labelList=[];var b=this._labels,e;for(e in b)a.push({label:e,position:b[e]});a.sort(function(a,c){return a.position-c.position})}return a};b.setLabels=function(a){this._labels=a;this._labelList=null};b.addLabel=function(a,b){this._labels||(this._labels={});this._labels[a]=b;var c=this._labelList;if(c){for(var d=0,h=c.length;d<h&&!(b<c[d].position);d++);c.splice(d,0,{label:a,position:b})}};b.gotoAndPlay=function(a){this.paused=!1;this._goto(a)};b.gotoAndStop=function(a){this.paused=
!0;this._goto(a)};b.resolve=function(a){var c=Number(a);isNaN(c)&&(c=this._labels&&this._labels[a]);return c};b.toString=function(){return"[AbstractTween]"};b.clone=function(){throw"AbstractTween can not be cloned.";};b._init=function(a){a&&a.paused||(this.paused=!1);a&&null!=a.position&&this.setPosition(a.position)};b._updatePosition=function(a,b){};b._goto=function(a){a=this.resolve(a);null!=a&&this.setPosition(a,!1,!0)};b._runActions=function(a,b,e,f){if(this._actionHead||this.tweens){var c=this.duration,
d=this.reversed,g=this.bounce,p=this.loop,l,m,q;if(0===c){var u=l=m=q=0;d=g=!1}else u=a/c|0,l=b/c|0,m=a-u*c,q=b-l*c;-1!==p&&(l>p&&(q=c,l=p),u>p&&(m=c,u=p));if(e)return this._runActionsRange(q,q,e,f);if(u!==l||m!==q||e||f){-1===u&&(u=m=0);a=a<=b;b=u;do{p=b===u?m:a?0:c;var x=b===l?q:a?c:0;!d!==!(g&&b%2)&&(p=c-p,x=c-x);if((!g||b===u||p!==x)&&this._runActionsRange(p,x,e,f||b!==u&&!g))return!0;f=!1}while(a&&++b<=l||!a&&--b>=l)}}};b._runActionsRange=function(a,b,e,f){};createjs.AbstractTween=createjs.promote(a,
"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function a(c,d){this.AbstractTween_constructor(d);this.pluginData=null;this.target=c;this.passive=!1;this._stepTail=this._stepHead=new b(null,0,0,{},null,!0);this._stepPosition=0;this._injected=this._pluginIds=this._plugins=this._actionTail=this._actionHead=null;d&&(this.pluginData=d.pluginData,d.override&&a.removeTweens(c));this.pluginData||(this.pluginData={});this._init(d)}function b(a,c,b,d,g,p){this.next=null;this.prev=a;this.t=c;this.d=b;this.props=d;this.ease=g;this.passive=p;this.index=
a?a.index+1:0}function c(a,c,b,d,g){this.next=null;this.prev=a;this.t=c;this.d=0;this.scope=b;this.funct=d;this.params=g}var d=createjs.extend(a,createjs.AbstractTween);a.IGNORE={};a._tweens=[];a._plugins=null;a._tweenHead=null;a._tweenTail=null;a.get=function(c,b){return new a(c,b)};a.tick=function(c,b){for(var e=a._tweenHead;e;){var d=e._next;b&&!e.ignoreGlobalPause||e._paused||e.advance(e.useTicks?1:c);e=d}};a.handleEvent=function(a){"tick"===a.type&&this.tick(a.delta,a.paused)};a.removeTweens=
function(c){if(c.tweenjs_count){for(var b=a._tweenHead;b;){var e=b._next;b.target===c&&a._register(b,!0);b=e}c.tweenjs_count=0}};a.removeAllTweens=function(){for(var b=a._tweenHead;b;){var c=b._next;b._paused=!0;b.target&&(b.target.tweenjs_count=0);b._next=b._prev=null;b=c}a._tweenHead=a._tweenTail=null};a.hasActiveTweens=function(b){return b?!!b.tweenjs_count:!!a._tweenHead};a._installPlugin=function(b){for(var c=b.priority=b.priority||0,d=a._plugins=a._plugins||[],e=0,g=d.length;e<g&&!(c<d[e].priority);e++);
d.splice(e,0,b)};a._register=function(b,c){var d=b.target;if(!c&&b._paused)d&&(d.tweenjs_count=d.tweenjs_count?d.tweenjs_count+1:1),(d=a._tweenTail)?(a._tweenTail=d._next=b,b._prev=d):a._tweenHead=a._tweenTail=b,!a._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",a),a._inited=!0);else if(c&&!b._paused){d&&d.tweenjs_count--;d=b._next;var e=b._prev;d?d._prev=e:a._tweenTail=e;e?e._next=d:a._tweenHead=d;b._next=b._prev=null}b._paused=c};d.wait=function(a,b){0<a&&this._addStep(+a,this._stepTail.props,
null,b);return this};d.to=function(a,b,c){if(null==b||0>b)b=0;b=this._addStep(+b,null,c);this._appendProps(a,b);return this};d.label=function(a){this.addLabel(a,this.duration);return this};d.call=function(a,b,c){return this._addAction(c||this.target,a,b||[this])};d.set=function(a,b){return this._addAction(b||this.target,this._set,[a])};d.play=function(a){return this._addAction(a||this,this._set,[{paused:!1}])};d.pause=function(a){return this._addAction(a||this,this._set,[{paused:!0}])};d.w=d.wait;
d.t=d.to;d.c=d.call;d.s=d.set;d.toString=function(){return"[Tween]"};d.clone=function(){throw"Tween can not be cloned.";};d._addPlugin=function(a){var b=this._pluginIds||(this._pluginIds={}),c=a.ID;if(c&&!b[c]){b[c]=!0;b=this._plugins||(this._plugins=[]);c=a.priority||0;for(var d=0,e=b.length;d<e;d++)if(c<b[d].priority){b.splice(d,0,a);return}b.push(a)}};d._updatePosition=function(a,b){var c=this._stepHead.next,d=this.position,e=this.duration;if(this.target&&c){for(var f=c.next;f&&f.t<=d;)c=c.next,
f=c.next;this._updateTargetProps(c,b?0===e?1:d/e:(d-c.t)/c.d,b)}this._stepPosition=c?d-c.t:0};d._updateTargetProps=function(b,c,d){if(!(this.passive=!!b.passive)){var e,f=b.prev.props,h=b.props;if(e=b.ease)c=e(c,0,1,1);e=this._plugins;var l;a:for(l in f){var m=f[l];var q=h[l];m=m!==q&&"number"===typeof m?m+(q-m)*c:1<=c?q:m;if(e){q=0;for(var u=e.length;q<u;q++){var x=e[q].change(this,b,l,m,c,d);if(x===a.IGNORE)continue a;void 0!==x&&(m=x)}}this.target[l]=m}}};d._runActionsRange=function(a,b,c,d){var e=
(c=a>b)?this._actionTail:this._actionHead,f=b,h=a;c&&(f=a,h=b);for(var k=this.position;e;){var q=e.t;if(q===b||q>h&&q<f||d&&q===a)if(e.funct.apply(e.scope,e.params),k!==this.position)return!0;e=c?e.prev:e.next}};d._appendProps=function(b,c,d){var e=this._stepHead.props,f=this.target,h=a._plugins,l,m,q=c.prev,u=q.props,x=c.props||(c.props=this._cloneProps(u)),t={};for(l in b)if(b.hasOwnProperty(l)&&(t[l]=x[l]=b[l],void 0===e[l])){var y=void 0;if(h)for(m=h.length-1;0<=m;m--){var r=h[m].init(this,l,
y);void 0!==r&&(y=r);if(y===a.IGNORE){delete x[l];delete t[l];break}}y!==a.IGNORE&&(void 0===y&&(y=f[l]),u[l]=void 0===y?null:y)}for(l in t){var B;for(b=q;(B=b)&&(b=B.prev);)if(b.props!==B.props){if(void 0!==b.props[l])break;b.props[l]=u[l]}}if(!1!==d&&(h=this._plugins))for(m=h.length-1;0<=m;m--)h[m].step(this,c,t);if(d=this._injected)this._injected=null,this._appendProps(d,c,!1)};d._injectProp=function(a,b){(this._injected||(this._injected={}))[a]=b};d._addStep=function(a,c,d,k){c=new b(this._stepTail,
this.duration,a,c,d,k||!1);this.duration+=a;return this._stepTail=this._stepTail.next=c};d._addAction=function(a,b,d){a=new c(this._actionTail,this.duration,a,b,d);this._actionTail?this._actionTail.next=a:this._actionHead=a;this._actionTail=a;return this};d._set=function(a){for(var b in a)this[b]=a[b]};d._cloneProps=function(a){var b={},c;for(c in a)b[c]=a[c];return b};createjs.Tween=createjs.promote(a,"AbstractTween")})();this.createjs=this.createjs||{};
(function(){function a(a){if(a instanceof Array||null==a&&1<arguments.length){var b=a;var c=arguments[1];a=arguments[2]}else a&&(b=a.tweens,c=a.labels);this.AbstractTween_constructor(a);this.tweens=[];b&&this.addTween.apply(this,b);this.setLabels(c);this._init(a)}var b=createjs.extend(a,createjs.AbstractTween);b.addTween=function(a){a._parent&&a._parent.removeTween(a);var b=arguments.length;if(1<b){for(var c=0;c<b;c++)this.addTween(arguments[c]);return arguments[b-1]}if(0===b)return null;this.tweens.push(a);
a._parent=this;a.paused=!0;b=a.duration;0<a.loop&&(b*=a.loop+1);b>this.duration&&(this.duration=b);0<=this.rawPosition&&a.setPosition(this.rawPosition);return a};b.removeTween=function(a){var b=arguments.length;if(1<b){for(var c=!0,f=0;f<b;f++)c=c&&this.removeTween(arguments[f]);return c}if(0===b)return!0;b=this.tweens;for(f=b.length;f--;)if(b[f]===a)return b.splice(f,1),a._parent=null,a.duration>=this.duration&&this.updateDuration(),!0;return!1};b.updateDuration=function(){for(var a=this.duration=
0,b=this.tweens.length;a<b;a++){var e=this.tweens[a],f=e.duration;0<e.loop&&(f*=e.loop+1);f>this.duration&&(this.duration=f)}};b.toString=function(){return"[Timeline]"};b.clone=function(){throw"Timeline can not be cloned.";};b._updatePosition=function(a,b){for(var c=this.position,d=0,h=this.tweens.length;d<h;d++)this.tweens[d].setPosition(c,!0,a)};b._runActionsRange=function(a,b,e,f){for(var c=this.position,d=0,g=this.tweens.length;d<g;d++)if(this.tweens[d]._runActions(a,b,e,f),c!==this.position)return!0};
createjs.Timeline=createjs.promote(a,"AbstractTween")})();this.createjs=this.createjs||{};
(function(){function a(){throw"Ease cannot be instantiated.";}a.linear=function(a){return a};a.none=a.linear;a.get=function(a){-1>a?a=-1:1<a&&(a=1);return function(b){return 0==a?b:0>a?b*(b*-a+1+a):b*((2-b)*a+(1-a))}};a.getPowIn=function(a){return function(b){return Math.pow(b,a)}};a.getPowOut=function(a){return function(b){return 1-Math.pow(1-b,a)}};a.getPowInOut=function(a){return function(b){return 1>(b*=2)?.5*Math.pow(b,a):1-.5*Math.abs(Math.pow(2-b,a))}};a.quadIn=a.getPowIn(2);a.quadOut=a.getPowOut(2);
a.quadInOut=a.getPowInOut(2);a.cubicIn=a.getPowIn(3);a.cubicOut=a.getPowOut(3);a.cubicInOut=a.getPowInOut(3);a.quartIn=a.getPowIn(4);a.quartOut=a.getPowOut(4);a.quartInOut=a.getPowInOut(4);a.quintIn=a.getPowIn(5);a.quintOut=a.getPowOut(5);a.quintInOut=a.getPowInOut(5);a.sineIn=function(a){return 1-Math.cos(a*Math.PI/2)};a.sineOut=function(a){return Math.sin(a*Math.PI/2)};a.sineInOut=function(a){return-.5*(Math.cos(Math.PI*a)-1)};a.getBackIn=function(a){return function(b){return b*b*((a+1)*b-a)}};
a.backIn=a.getBackIn(1.7);a.getBackOut=function(a){return function(b){return--b*b*((a+1)*b+a)+1}};a.backOut=a.getBackOut(1.7);a.getBackInOut=function(a){a*=1.525;return function(b){return 1>(b*=2)?.5*b*b*((a+1)*b-a):.5*((b-=2)*b*((a+1)*b+a)+2)}};a.backInOut=a.getBackInOut(1.7);a.circIn=function(a){return-(Math.sqrt(1-a*a)-1)};a.circOut=function(a){return Math.sqrt(1- --a*a)};a.circInOut=function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)};a.bounceIn=function(b){return 1-
a.bounceOut(1-b)};a.bounceOut=function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375};a.bounceInOut=function(b){return.5>b?.5*a.bounceIn(2*b):.5*a.bounceOut(2*b-1)+.5};a.getElasticIn=function(a,c){var b=2*Math.PI;return function(d){if(0==d||1==d)return d;var e=c/b*Math.asin(1/a);return-(a*Math.pow(2,10*--d)*Math.sin((d-e)*b/c))}};a.elasticIn=a.getElasticIn(1,.3);a.getElasticOut=function(a,c){var b=2*Math.PI;
return function(d){return 0==d||1==d?d:a*Math.pow(2,-10*d)*Math.sin((d-c/b*Math.asin(1/a))*b/c)+1}};a.elasticOut=a.getElasticOut(1,.3);a.getElasticInOut=function(a,c){var b=2*Math.PI;return function(d){var e=c/b*Math.asin(1/a);return 1>(d*=2)?-.5*a*Math.pow(2,10*--d)*Math.sin((d-e)*b/c):a*Math.pow(2,-10*--d)*Math.sin((d-e)*b/c)*.5+1}};a.elasticInOut=a.getElasticInOut(1,.3*1.5);createjs.Ease=a})();this.createjs=this.createjs||{};
(function(){function a(){throw"MotionGuidePlugin cannot be instantiated.";}a.priority=0;a.ID="MotionGuide";a.install=function(){createjs.Tween._installPlugin(a);return createjs.Tween.IGNORE};a.init=function(b,c,d){"guide"==c&&b._addPlugin(a)};a.step=function(b,c,d){for(var e in d)if("guide"===e){var f=c.props.guide,h=a._solveGuideData(d.guide,f);f.valid=!h;var k=f.endData;b._injectProp("x",k.x);b._injectProp("y",k.y);if(h||!f.orient)break;f.startOffsetRot=(void 0===c.prev.props.rotation?b.target.rotation||
0:c.prev.props.rotation)-f.startData.rotation;if("fixed"==f.orient)f.endAbsRot=k.rotation+f.startOffsetRot,f.deltaRotation=0;else{h=void 0===d.rotation?b.target.rotation||0:d.rotation;k=h-f.endData.rotation-f.startOffsetRot;var g=k%360;f.endAbsRot=h;switch(f.orient){case "auto":f.deltaRotation=k;break;case "cw":f.deltaRotation=(g+360)%360+360*Math.abs(k/360|0);break;case "ccw":f.deltaRotation=(g-360)%360+-360*Math.abs(k/360|0)}}b._injectProp("rotation",f.endAbsRot)}};a.change=function(b,c,d,e,f,h){if((e=
c.props.guide)&&c.props!==c.prev.props&&e!==c.prev.props.guide){if("guide"===d&&!e.valid||"x"==d||"y"==d||"rotation"===d&&e.orient)return createjs.Tween.IGNORE;a._ratioToPositionData(f,e,b.target)}};a.debug=function(b,c,d){b=b.guide||b;var e=a._findPathProblems(b);e&&console.error("MotionGuidePlugin Error found: \n"+e);if(!c)return e;var f,h=b.path,k=h.length;c.save();c.lineCap="round";c.lineJoin="miter";c.beginPath();c.moveTo(h[0],h[1]);for(f=2;f<k;f+=4)c.quadraticCurveTo(h[f],h[f+1],h[f+2],h[f+
3]);c.strokeStyle="black";c.lineWidth=4.5;c.stroke();c.strokeStyle="white";c.lineWidth=3;c.stroke();c.closePath();h=d.length;if(d&&h){k={};var g={};a._solveGuideData(b,k);for(f=0;f<h;f++)k.orient="fixed",a._ratioToPositionData(d[f],k,g),c.beginPath(),c.moveTo(g.x,g.y),c.lineTo(g.x+9*Math.cos(.0174533*g.rotation),g.y+9*Math.sin(.0174533*g.rotation)),c.strokeStyle="black",c.lineWidth=4.5,c.stroke(),c.strokeStyle="red",c.lineWidth=3,c.stroke(),c.closePath()}c.restore();return e};a._solveGuideData=function(b,
c){var d;if(d=a.debug(b))return d;var e=c.path=b.path;c.orient=b.orient;c.subLines=[];c.totalLength=0;c.startOffsetRot=0;c.deltaRotation=0;c.startData={ratio:0};c.endData={ratio:1};c.animSpan=1;var f=e.length,h,k={};var g=e[0];var p=e[1];for(d=2;d<f;d+=4){var l=e[d];var m=e[d+1];var q=e[d+2];var u=e[d+3];var x={weightings:[],estLength:0,portion:0},t=g;var y=p;for(h=1;10>=h;h++)a._getParamsForCurve(g,p,l,m,q,u,h/10,!1,k),t=k.x-t,y=k.y-y,y=Math.sqrt(t*t+y*y),x.weightings.push(y),x.estLength+=y,t=k.x,
y=k.y;c.totalLength+=x.estLength;for(h=0;10>h;h++)y=x.estLength,x.weightings[h]/=y;c.subLines.push(x);g=q;p=u}y=c.totalLength;e=c.subLines.length;for(d=0;d<e;d++)c.subLines[d].portion=c.subLines[d].estLength/y;d=isNaN(b.start)?0:b.start;e=isNaN(b.end)?1:b.end;a._ratioToPositionData(d,c,c.startData);a._ratioToPositionData(e,c,c.endData);c.startData.ratio=d;c.endData.ratio=e;c.animSpan=c.endData.ratio-c.startData.ratio};a._ratioToPositionData=function(b,c,d){var e=c.subLines,f,h=0,k=b*c.animSpan+c.startData.ratio;
var g=e.length;for(f=0;f<g;f++){var p=e[f].portion;if(h+p>=k){var l=f;break}h+=p}void 0===l&&(l=g-1,h-=p);e=e[l].weightings;var m=p;g=e.length;for(f=0;f<g;f++){p=e[f]*m;if(h+p>=k)break;h+=p}l=4*l+2;g=c.path;a._getParamsForCurve(g[l-2],g[l-1],g[l],g[l+1],g[l+2],g[l+3],f/10+(k-h)/p*.1,c.orient,d);c.orient&&(d.rotation=.99999<=b&&1.00001>=b&&void 0!==c.endAbsRot?c.endAbsRot:d.rotation+(c.startOffsetRot+b*c.deltaRotation));return d};a._getParamsForCurve=function(a,c,d,e,f,h,k,g,p){var b=1-k;p.x=b*b*a+
2*b*k*d+k*k*f;p.y=b*b*c+2*b*k*e+k*k*h;g&&(p.rotation=57.2957795*Math.atan2((e-c)*b+(h-e)*k,(d-a)*b+(f-d)*k))};a._findPathProblems=function(a){var b=a.path,d=b&&b.length||0;if(6>d||(d-2)%4)return"\tCannot parse 'path' array due to invalid number of entries in path. There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\n\nOnly [ "+(d+" ] values found. Expected: "+Math.max(4*
Math.ceil((d-2)/4)+2,6));for(var e=0;e<d;e++)if(isNaN(b[e]))return"All data in path array must be numeric";b=a.start;if(isNaN(b)&&void 0!==b)return"'start' out of bounds. Expected 0 to 1, got: "+b;b=a.end;if(isNaN(b)&&void 0!==b)return"'end' out of bounds. Expected 0 to 1, got: "+b;if((a=a.orient)&&"fixed"!=a&&"auto"!=a&&"cw"!=a&&"ccw"!=a)return'Invalid orientation value. Expected ["fixed", "auto", "cw", "ccw", undefined], got: '+a};createjs.MotionGuidePlugin=a})();this.createjs=this.createjs||{};
(function(){var a=createjs.TweenJS=createjs.TweenJS||{};a.version="1.0.0";a.buildDate="Thu, 14 Sep 2017 19:47:47 GMT"})();
(function(){function a(a){a=String(a);return a.charAt(0).toUpperCase()+a.slice(1)}function b(a,b){var c=-1,e=a?a.length:0;if("number"==typeof e&&-1<e&&e<=u)for(;++c<e;)b(a[c],c,a);else d(a,b)}function c(b){b=String(b).replace(/^ +| +$/g,"");return/^(?:webOS|i(?:OS|P))/.test(b)?b:a(b)}function d(a,b){for(var c in a)t.call(a,c)&&b(a[c],c,a)}function e(b){return null==b?a(b):y.call(b).slice(8,-1)}function f(a,b){var c=null!=a?typeof a[b]:"number";return!/^(?:boolean|number|string|undefined)$/.test(c)&&
("object"==c?!!a[b]:!0)}function h(a){return String(a).replace(/([ -])(?!$)/g,"$1?")}function k(a,c){var d=null;b(a,function(b,e){d=c(d,b,e,a)});return d}function g(a){function b(b){return k(b,function(b,d){var e=d.pattern||h(d);!b&&(b=RegExp("\\b"+e+" *\\d+[.\\w_]*","i").exec(a)||RegExp("\\b"+e+" *\\w+-[\\w]*","i").exec(a)||RegExp("\\b"+e+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(a))&&((b=String(d.label&&!RegExp(e,"i").test(d.label)?d.label:b).split("/"))[1]&&!/[\d.]+/.test(b[0])&&(b[0]+=
" "+b[1]),d=d.label||d,b=c(b[0].replace(RegExp(e,"i"),d).replace(RegExp("; *(?:"+d+"[_-])?","i")," ").replace(RegExp("("+d+")[-_.]?(\\w)","i"),"$1 $2")));return b})}function p(b){return k(b,function(b,c){return b||(RegExp(c+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(a)||0)[1]||null})}var m=l,t=a&&"object"==typeof a&&"String"!=e(a);t&&(m=a,a=null);var q=m.navigator||{},r=q.userAgent||"";a||(a=r);var u=t?!!q.likeChrome:/\bChrome\b/.test(a)&&!/internal|\n/i.test(y.toString()),
B=t?"Object":"ScriptBridgingProxyObject",O=t?"Object":"Environment",K=t&&m.java?"JavaPackage":e(m.java),U=t?"Object":"RuntimeObject";O=(K=/\bJava/.test(K)&&m.java)&&e(m.environment)==O;var V=K?"a":"\u03b1",W=K?"b":"\u03b2",P=m.document||{},H=m.operamini||m.opera,L=x.test(L=t&&H?H["[[Class]]"]:e(H))?L:H=null,n,M=a;t=[];var N=null,I=a==r;r=I&&H&&"function"==typeof H.version&&H.version();var z=function(b){return k(b,function(b,c){return b||RegExp("\\b"+(c.pattern||h(c))+"\\b","i").exec(a)&&(c.label||
c)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),v=function(b){return k(b,function(b,c){return b||RegExp("\\b"+(c.pattern||h(c))+"\\b","i").exec(a)&&(c.label||c)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser",
"PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},
{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),A=b([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad",
"iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),E=function(b){return k(b,function(b,c,d){return b||(c[A]||c[/^[a-z]+(?: +[a-z]+\b)*/i.exec(A)]||RegExp("\\b"+h(d)+"(?:\\b|\\w*\\d)","i").exec(a))&&d})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},
"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),w=function(b){return k(b,function(b,d){var e=d.pattern||h(d);if(!b&&(b=RegExp("\\b"+e+"(?:/[\\d.]+|[ \\w.]*)","i").exec(a))){var f=b,g=d.label||d,k={"10.0":"10","6.4":"10 Technical Preview",
"6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};e&&g&&/^Win/i.test(f)&&!/^Windows Phone /i.test(f)&&(k=k[/[\d.]+$/.exec(f)])&&(f="Windows "+k);f=String(f);e&&g&&(f=f.replace(RegExp(e,"i"),g));b=f=c(f.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/,
" $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}return b})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac",
"Windows 98;","Windows "]);z&&(z=[z]);E&&!A&&(A=b([E]));if(n=/\bGoogle TV\b/.exec(A))A=n[0];/\bSimulator\b/i.test(a)&&(A=(A?A+" ":"")+"Simulator");"Opera Mini"==v&&/\bOPiOS\b/.test(a)&&t.push("running in Turbo/Uncompressed mode");"IE"==v&&/\blike iPhone OS\b/.test(a)?(n=g(a.replace(/like iPhone OS/,"")),E=n.manufacturer,A=n.product):/^iP/.test(A)?(v||(v="Safari"),w="iOS"+((n=/ OS ([\d_]+)/i.exec(a))?" "+n[1].replace(/_/g,"."):"")):"Konqueror"!=v||/buntu/i.test(w)?E&&"Google"!=E&&(/Chrome/.test(v)&&
!/\bMobile Safari\b/i.test(a)||/\bVita\b/.test(A))||/\bAndroid\b/.test(w)&&/^Chrome/.test(v)&&/\bVersion\//i.test(a)?(v="Android Browser",w=/\bAndroid\b/.test(w)?w:"Android"):"Silk"==v?(/\bMobi/i.test(a)||(w="Android",t.unshift("desktop mode")),/Accelerated *= *true/i.test(a)&&t.unshift("accelerated")):"PaleMoon"==v&&(n=/\bFirefox\/([\d.]+)\b/.exec(a))?t.push("identifying as Firefox "+n[1]):"Firefox"==v&&(n=/\b(Mobile|Tablet|TV)\b/i.exec(a))?(w||(w="Firefox OS"),A||(A=n[1])):!v||(n=!/\bMinefield\b/i.test(a)&&
/\b(?:Firefox|Safari)\b/.exec(v))?(v&&!A&&/[\/,]|^[^(]+?\)/.test(a.slice(a.indexOf(n+"/")+8))&&(v=null),(n=A||E||w)&&(A||E||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(w))&&(v=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(w)?w:n)+" Browser")):"Electron"==v&&(n=(/\bChrome\/([\d.]+)\b/.exec(a)||0)[1])&&t.push("Chromium "+n):w="Kubuntu";r||(r=p(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",h(v),"(?:Firefox|Minefield|NetFront)"]));
if(n="iCab"==z&&3<parseFloat(r)&&"WebKit"||/\bOpera\b/.test(v)&&(/\bOPR\b/.test(a)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(a)&&!/^(?:Trident|EdgeHTML)$/.test(z)&&"WebKit"||!z&&/\bMSIE\b/i.test(a)&&("Mac OS"==w?"Tasman":"Trident")||"WebKit"==z&&/\bPlayStation\b(?! Vita\b)/i.test(v)&&"NetFront")z=[n];"IE"==v&&(n=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(a)||0)[1])?(v+=" Mobile",w="Windows Phone "+(/\+$/.test(n)?n:n+".x"),t.unshift("desktop mode")):/\bWPDesktop\b/i.test(a)?(v="IE Mobile",w="Windows Phone 8.x",
t.unshift("desktop mode"),r||(r=(/\brv:([\d.]+)/.exec(a)||0)[1])):"IE"!=v&&"Trident"==z&&(n=/\brv:([\d.]+)/.exec(a))&&(v&&t.push("identifying as "+v+(r?" "+r:"")),v="IE",r=n[1]);if(I){if(f(m,"global"))if(K&&(n=K.lang.System,M=n.getProperty("os.arch"),w=w||n.getProperty("os.name")+" "+n.getProperty("os.version")),O){try{r=m.require("ringo/engine").version.join("."),v="RingoJS"}catch(T){(n=m.system)&&n.global.system==m.system&&(v="Narwhal",w||(w=n[0].os||null))}v||(v="Rhino")}else"object"==typeof m.process&&
!m.process.browser&&(n=m.process)&&("object"==typeof n.versions&&("string"==typeof n.versions.electron?(t.push("Node "+n.versions.node),v="Electron",r=n.versions.electron):"string"==typeof n.versions.nw&&(t.push("Chromium "+r,"Node "+n.versions.node),v="NW.js",r=n.versions.nw)),v||(v="Node.js",M=n.arch,w=n.platform,r=(r=/[\d.]+/.exec(n.version))?r[0]:null));else e(n=m.runtime)==B?(v="Adobe AIR",w=n.flash.system.Capabilities.os):e(n=m.phantom)==U?(v="PhantomJS",r=(n=n.version||null)&&n.major+"."+n.minor+
"."+n.patch):"number"==typeof P.documentMode&&(n=/\bTrident\/(\d+)/i.exec(a))?(r=[r,P.documentMode],(n=+n[1]+4)!=r[1]&&(t.push("IE "+r[1]+" mode"),z&&(z[1]=""),r[1]=n),r="IE"==v?String(r[1].toFixed(1)):r[0]):"number"==typeof P.documentMode&&/^(?:Chrome|Firefox)\b/.test(v)&&(t.push("masking as "+v+" "+r),v="IE",r="11.0",z=["Trident"],w="Windows");w=w&&c(w)}r&&(n=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(r)||/(?:alpha|beta)(?: ?\d)?/i.exec(a+";"+(I&&q.appMinorVersion))||/\bMinefield\b/i.test(a)&&
"a")&&(N=/b/i.test(n)?"beta":"alpha",r=r.replace(RegExp(n+"\\+?$"),"")+("beta"==N?W:V)+(/\d+\+?/.exec(n)||""));if("Fennec"==v||"Firefox"==v&&/\b(?:Android|Firefox OS)\b/.test(w))v="Firefox Mobile";else if("Maxthon"==v&&r)r=r.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(A))"Xbox 360"==A&&(w=null),"Xbox 360"==A&&/\bIEMobile\b/.test(a)&&t.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(v)&&(!v||A||/Browser|Mobi/.test(v))||"Windows CE"!=w&&!/Mobi/i.test(a))if("IE"==v&&I)try{null===m.external&&
t.unshift("platform preview")}catch(T){t.unshift("embedded")}else(/\bBlackBerry\b/.test(A)||/\bBB10\b/.test(a))&&(n=(RegExp(A.replace(/ +/g," *")+"/([.\\d]+)","i").exec(a)||0)[1]||r)?(n=[n,/BB10/.test(a)],w=(n[1]?(A=null,E="BlackBerry"):"Device Software")+" "+n[0],r=null):this!=d&&"Wii"!=A&&(I&&H||/Opera/.test(v)&&/\b(?:MSIE|Firefox)\b/i.test(a)||"Firefox"==v&&/\bOS X (?:\d+\.){2,}/.test(w)||"IE"==v&&(w&&!/^Win/.test(w)&&5.5<r||/\bWindows XP\b/.test(w)&&8<r||8==r&&!/\bTrident\b/.test(a)))&&!x.test(n=
g.call(d,a.replace(x,"")+";"))&&n.name&&(n="ing as "+n.name+((n=n.version)?" "+n:""),x.test(v)?(/\bIE\b/.test(n)&&"Mac OS"==w&&(w=null),n="identify"+n):(n="mask"+n,v=L?c(L.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(n)&&(w=null),I||(r=null)),z=["Presto"],t.push(n));else v+=" Mobile";if(n=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(a)||0)[1]){n=[parseFloat(n.replace(/\.(\d)$/,".0$1")),n];if("Safari"==v&&"+"==n[1].slice(-1))v="WebKit Nightly",N="alpha",r=n[1].slice(0,-1);else if(r==n[1]||r==(n[2]=
(/\bSafari\/([\d.]+\+?)/i.exec(a)||0)[1]))r=null;n[1]=(/\bChrome\/([\d.]+)/i.exec(a)||0)[1];537.36==n[0]&&537.36==n[2]&&28<=parseFloat(n[1])&&"WebKit"==z&&(z=["Blink"]);I&&(u||n[1])?(z&&(z[1]="like Chrome"),n=n[1]||(n=n[0],530>n?1:532>n?2:532.05>n?3:533>n?4:534.03>n?5:534.07>n?6:534.1>n?7:534.13>n?8:534.16>n?9:534.24>n?10:534.3>n?11:535.01>n?12:535.02>n?"13+":535.07>n?15:535.11>n?16:535.19>n?17:536.05>n?18:536.1>n?19:537.01>n?20:537.11>n?"21+":537.13>n?23:537.18>n?24:537.24>n?25:537.36>n?26:"Blink"!=
z?"27":"28")):(z&&(z[1]="like Safari"),n=(n=n[0],400>n?1:500>n?2:526>n?3:533>n?4:534>n?"4+":535>n?5:537>n?6:538>n?7:601>n?8:"8"));z&&(z[1]+=" "+(n+="number"==typeof n?".x":/[.+]/.test(n)?"":"+"));"Safari"==v&&(!r||45<parseInt(r))&&(r=n)}"Opera"==v&&(n=/\bzbov|zvav$/.exec(w))?(v+=" ",t.unshift("desktop mode"),"zvav"==n?(v+="Mini",r=null):v+="Mobile",w=w.replace(RegExp(" *"+n+"$"),"")):"Safari"==v&&/\bChrome\b/.exec(z&&z[1])&&(t.unshift("desktop mode"),v="Chrome Mobile",r=null,/\bOS X\b/.test(w)?(E=
"Apple",w="iOS 4.3+"):w=null);r&&0==r.indexOf(n=/[\d.]+$/.exec(w))&&-1<a.indexOf("/"+n+"-")&&(w=String(w.replace(n,"")).replace(/^ +| +$/g,""));z&&!/\b(?:Avant|Nook)\b/.test(v)&&(/Browser|Lunascape|Maxthon/.test(v)||"Safari"!=v&&/^iOS/.test(w)&&/\bSafari\b/.test(z[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(v)&&z[1])&&(n=z[z.length-1])&&t.push(n);t.length&&(t=["("+t.join("; ")+")"]);E&&A&&0>A.indexOf(E)&&t.push("on "+E);A&&t.push((/^on /.test(t[t.length-
1])?"":"on ")+A);if(w){var S=(n=/ ([\d.+]+)$/.exec(w))&&"/"==w.charAt(w.length-n[0].length-1);w={architecture:32,family:n&&!S?w.replace(n[0],""):w,version:n?n[1]:null,toString:function(){var a=this.version;return this.family+(a&&!S?" "+a:"")+(64==this.architecture?" 64-bit":"")}}}(n=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(M))&&!/\bi686\b/i.test(M)?(w&&(w.architecture=64,w.family=w.family.replace(RegExp(" *"+n),"")),v&&(/\bWOW64\b/i.test(a)||I&&/\w(?:86|32)$/.test(q.cpuClass||q.platform)&&!/\bWin64; x64\b/i.test(a))&&
t.unshift("32-bit")):w&&/^OS X/.test(w.family)&&"Chrome"==v&&39<=parseFloat(r)&&(w.architecture=64);a||(a=null);m={};m.description=a;m.layout=z&&z[0];m.manufacturer=E;m.name=v;m.prerelease=N;m.product=A;m.ua=a;m.version=v&&r;m.os=w||{architecture:null,family:null,version:null,toString:function(){return"null"}};m.parse=g;m.toString=function(){return this.description||""};m.version&&t.unshift(r);m.name&&t.unshift(v);w&&v&&(w!=String(w).split(" ")[0]||w!=v.split(" ")[0]&&!A)&&t.push(A?"("+w+")":"on "+
w);t.length&&(m.description=t.join(" "));return m}var p={"function":!0,object:!0},l=p[typeof window]&&window||this,m=p[typeof exports]&&exports;p=p[typeof module]&&module&&!module.nodeType&&module;var q=m&&p&&"object"==typeof global&&global;!q||q.global!==q&&q.window!==q&&q.self!==q||(l=q);var u=Math.pow(2,53)-1,x=/\bOpera/;q=Object.prototype;var t=q.hasOwnProperty,y=q.toString,r=g();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(l.platform=r,define(function(){return r})):m&&
p?d(r,function(a,b){m[b]=a}):l.platform=r}).call(this);
(function(){var a="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},b="undefined"!==typeof module&&module.exports,c="undefined"!==typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,d=function(){for(var b,c=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),
"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],d=0,e=c.length,f={};d<e;d++)if((b=c[d])&&b[1]in a){for(d=0;d<b.length;d++)f[c[0][d]]=b[d];return f}return!1}(),e={change:d.fullscreenchange,error:d.fullscreenerror},f={request:function(b){var e=d.requestFullscreen;b=b||a.documentElement;if(/5\.1[.\d]* Safari/.test(navigator.userAgent))b[e]();
else b[e](c&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){a[d.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},onchange:function(a){this.on("change",a)},onerror:function(a){this.on("error",a)},on:function(b,c){var d=e[b];d&&a.addEventListener(d,c,!1)},off:function(b,c){var d=e[b];d&&a.removeEventListener(d,c,!1)},raw:d};d?(Object.defineProperties(f,{isFullscreen:{get:function(){return!!a[d.fullscreenElement]}},element:{enumerable:!0,get:function(){return a[d.fullscreenElement]}},
enabled:{enumerable:!0,get:function(){return!!a[d.fullscreenEnabled]}}}),b?module.exports=f:window.screenfull=f):b?module.exports=!1:window.screenfull=!1})();var s_iScaleFactor=1,s_iOffsetX,s_iOffsetY,s_bIsIphone=!1,s_bIsRetina;
(function(a){(jQuery.browser=jQuery.browser||{}).mobile=/android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(ad|hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|tablet|treo|up\.(browser|link)|vodafone|wap|webos|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(a.substr(0,
4))})(navigator.userAgent||navigator.vendor||window.opera);$(window).resize(function(){sizeHandler()});function trace(a){console.log(a)}
function getSize(a){var b=a.toLowerCase(),c=window.document,d=c.documentElement;if(void 0===window["inner"+a])a=d["client"+a];else if(window["inner"+a]!=d["client"+a]){var e=c.createElement("body");e.id="vpw-test-b";e.style.cssText="overflow:scroll";var f=c.createElement("div");f.id="vpw-test-d";f.style.cssText="position:absolute;top:-1000px";f.innerHTML="<style>@media("+b+":"+d["client"+a]+"px){body#vpw-test-b div#vpw-test-d{"+b+":7px!important}}</style>";e.appendChild(f);d.insertBefore(e,c.head);
a=7==f["offset"+a]?d["client"+a]:window["inner"+a];d.removeChild(e)}else a=window["inner"+a];return a}window.addEventListener("orientationchange",onOrientationChange);function onOrientationChange(){window.matchMedia("(orientation: portrait)").matches&&sizeHandler();window.matchMedia("(orientation: landscape)").matches&&sizeHandler()}
function isIOS(){isRetina();for(var a="iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";");a.length;)if(navigator.platform===a.pop())return s_bIsIphone=!0;return s_bIsIphone=!1}function isRetina(){s_bIsRetina=matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches?!0:!1}function getIOSWindowHeight(){return document.documentElement.clientWidth/window.innerWidth*window.innerHeight}
function getHeightOfIOSToolbars(){var a=(0===window.orientation?screen.height:screen.width)-getIOSWindowHeight();return 1<a?a:0}
function sizeHandler(){window.scrollTo(0,1);if($("#canvas")){var a="safari"===platform.name.toLowerCase()?getIOSWindowHeight():getSize("Height");var b=getSize("Width");_checkOrientation(b,a);var c=Math.min(a/CANVAS_HEIGHT,b/CANVAS_WIDTH),d=CANVAS_WIDTH*c;c*=CANVAS_HEIGHT;if(c<a){var e=a-c;c+=e;d+=CANVAS_WIDTH/CANVAS_HEIGHT*e}else d<b&&(e=b-d,d+=e,c+=CANVAS_HEIGHT/CANVAS_WIDTH*e);e=a/2-c/2;var f=b/2-d/2,h=CANVAS_WIDTH/d;if(f*h<-EDGEBOARD_X||e*h<-EDGEBOARD_Y)c=Math.min(a/(CANVAS_HEIGHT-2*EDGEBOARD_Y),
b/(CANVAS_WIDTH-2*EDGEBOARD_X)),d=CANVAS_WIDTH*c,c*=CANVAS_HEIGHT,e=(a-c)/2,f=(b-d)/2,h=CANVAS_WIDTH/d;s_iOffsetX=-1*f*h;s_iOffsetY=-1*e*h;0<=e&&(s_iOffsetY=0);0<=f&&(s_iOffsetX=0);null!==s_oInterface&&s_oInterface.refreshButtonPos(s_iOffsetX,s_iOffsetY);null!==s_oMenu&&s_oMenu.refreshButtonPos(s_iOffsetX,s_iOffsetY);s_bIsRetina?(canvas=document.getElementById("canvas"),s_oStage.canvas.width=2*d,s_oStage.canvas.height=2*c,canvas.style.width=d+"px",canvas.style.height=c+"px",s_oStage.scaleX=s_oStage.scaleY=
2*Math.min(d/CANVAS_WIDTH,c/CANVAS_HEIGHT)):s_bMobile?($("#canvas").css("width",d+"px"),$("#canvas").css("height",c+"px")):(s_oStage.canvas.width=d,s_oStage.canvas.height=c,s_iScaleFactor=Math.min(d/CANVAS_WIDTH,c/CANVAS_HEIGHT),s_oStage.scaleX=s_oStage.scaleY=s_iScaleFactor);0>e||(e=(a-c)/2);$("#canvas").css("top",e+"px");$("#canvas").css("left",f+"px");fullscreenHandler()}}
function _checkOrientation(a,b){s_bMobile&&ENABLE_CHECK_ORIENTATION&&(a>b?"landscape"===$(".orientation-msg-container").attr("data-orientation")?($(".orientation-msg-container").css("display","none"),s_oMain.startUpdate()):($(".orientation-msg-container").css("display","block"),s_oMain.stopUpdate()):"portrait"===$(".orientation-msg-container").attr("data-orientation")?($(".orientation-msg-container").css("display","none"),s_oMain.startUpdate()):($(".orientation-msg-container").css("display","block"),
s_oMain.stopUpdate()))}function playSound(a,b,c){return!1===DISABLE_SOUND_MOBILE||!1===s_bMobile?(s_aSounds[a].play(),s_aSounds[a].volume(b),s_aSounds[a].loop(c),s_aSounds[a]):null}function stopSound(a){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[a].stop()}function setVolume(a,b){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[a].volume(b)}function setMute(a,b){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[a].mute(b)}
function createBitmap(a,b,c){var d=new createjs.Bitmap(a),e=new createjs.Shape;b&&c?e.graphics.beginFill("#fff").drawRect(0,0,b,c):e.graphics.beginFill("#ff0").drawRect(0,0,a.width,a.height);d.hitArea=e;return d}function createSprite(a,b,c,d,e,f){a=null!==b?new createjs.Sprite(a,b):new createjs.Sprite(a);b=new createjs.Shape;b.graphics.beginFill("#000000").drawRect(-c,-d,e,f);a.hitArea=b;return a}function pad(a,b,c){a+="";return a.length>=b?a:Array(b-a.length+1).join(c||"0")+a}
function randomFloatBetween(a,b,c){"undefined"===typeof c&&(c=2);return parseFloat(Math.min(a+Math.random()*(b-a),b).toFixed(c))}function rotateVector2D(a,b){var c=b.getX()*Math.cos(a)+b.getY()*Math.sin(a),d=b.getX()*-Math.sin(a)+b.getY()*Math.cos(a);b.set(c,d)}function tweenVectorsOnX(a,b,c){return a+c*(b-a)}function shuffle(a){for(var b=a.length,c,d;0!==b;)d=Math.floor(Math.random()*b),--b,c=a[b],a[b]=a[d],a[d]=c;return a}
function bubbleSort(a){do{var b=!1;for(var c=0;c<a.length-1;c++)a[c]>a[c+1]&&(b=a[c],a[c]=a[c+1],a[c+1]=b,b=!0)}while(b)}function compare(a,b){return a.index>b.index?-1:a.index<b.index?1:0}function easeLinear(a,b,c,d){return c*a/d+b}function easeInQuad(a,b,c,d){return c*(a/=d)*a+b}function easeInSine(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b}function easeInCubic(a,b,c,d){return c*(a/=d)*a*a+b}
function getTrajectoryPoint(a,b){var c=new createjs.Point,d=(1-a)*(1-a),e=a*a;c.x=d*b.start.x+2*(1-a)*a*b.traj.x+e*b.end.x;c.y=d*b.start.y+2*(1-a)*a*b.traj.y+e*b.end.y;return c}function formatTime(a){a/=1E3;var b=Math.floor(a/60);a=parseFloat(a-60*b).toFixed(1);var c="";c=10>b?c+("0"+b+":"):c+(b+":");return 10>a?c+("0"+a):c+a}function degreesToRadians(a){return a*Math.PI/180}function checkRectCollision(a,b){var c=getBounds(a,.9);var d=getBounds(b,.98);return calculateIntersection(c,d)}
function calculateIntersection(a,b){var c,d,e,f;var h=a.x+(c=a.width/2);var k=a.y+(d=a.height/2);var g=b.x+(e=b.width/2);var p=b.y+(f=b.height/2);h=Math.abs(h-g)-(c+e);k=Math.abs(k-p)-(d+f);return 0>h&&0>k?(h=Math.min(Math.min(a.width,b.width),-h),k=Math.min(Math.min(a.height,b.height),-k),{x:Math.max(a.x,b.x),y:Math.max(a.y,b.y),width:h,height:k,rect1:a,rect2:b}):null}
function getBounds(a,b){var c={x:Infinity,y:Infinity,width:0,height:0};if(a instanceof createjs.Container){c.x2=-Infinity;c.y2=-Infinity;var d=a.children,e=d.length,f;for(f=0;f<e;f++){var h=getBounds(d[f],1);h.x<c.x&&(c.x=h.x);h.y<c.y&&(c.y=h.y);h.x+h.width>c.x2&&(c.x2=h.x+h.width);h.y+h.height>c.y2&&(c.y2=h.y+h.height)}Infinity==c.x&&(c.x=0);Infinity==c.y&&(c.y=0);Infinity==c.x2&&(c.x2=0);Infinity==c.y2&&(c.y2=0);c.width=c.x2-c.x;c.height=c.y2-c.y;delete c.x2;delete c.y2}else{if(a instanceof createjs.Bitmap){e=
a.sourceRect||a.image;f=e.width*b;var k=e.height*b}else if(a instanceof createjs.Sprite)if(a.spriteSheet._frames&&a.spriteSheet._frames[a.currentFrame]&&a.spriteSheet._frames[a.currentFrame].image){e=a.spriteSheet.getFrame(a.currentFrame);f=e.rect.width;k=e.rect.height;d=e.regX;var g=e.regY}else c.x=a.x||0,c.y=a.y||0;else c.x=a.x||0,c.y=a.y||0;d=d||0;f=f||0;g=g||0;k=k||0;c.regX=d;c.regY=g;e=a.localToGlobal(0-d,0-g);h=a.localToGlobal(f-d,k-g);f=a.localToGlobal(f-d,0-g);d=a.localToGlobal(0-d,k-g);c.x=
Math.min(Math.min(Math.min(e.x,h.x),f.x),d.x);c.y=Math.min(Math.min(Math.min(e.y,h.y),f.y),d.y);c.width=Math.max(Math.max(Math.max(e.x,h.x),f.x),d.x)-c.x;c.height=Math.max(Math.max(Math.max(e.y,h.y),f.y),d.y)-c.y}return c}function NoClickDelay(a){this.element=a;window.Touch&&this.element.addEventListener("touchstart",this,!1)}function shuffle(a){for(var b=a.length,c,d;0<b;)d=Math.floor(Math.random()*b),b--,c=a[b],a[b]=a[d],a[d]=c;return a}
NoClickDelay.prototype={handleEvent:function(a){switch(a.type){case "touchstart":this.onTouchStart(a);break;case "touchmove":this.onTouchMove(a);break;case "touchend":this.onTouchEnd(a)}},onTouchStart:function(a){a.preventDefault();this.moved=!1;this.element.addEventListener("touchmove",this,!1);this.element.addEventListener("touchend",this,!1)},onTouchMove:function(a){this.moved=!0},onTouchEnd:function(a){this.element.removeEventListener("touchmove",this,!1);this.element.removeEventListener("touchend",
this,!1);if(!this.moved){a=document.elementFromPoint(a.changedTouches[0].clientX,a.changedTouches[0].clientY);3==a.nodeType&&(a=a.parentNode);var b=document.createEvent("MouseEvents");b.initEvent("click",!0,!0);a.dispatchEvent(b)}}};
(function(){function a(a){var c={focus:"visible",focusin:"visible",pageshow:"visible",blur:"hidden",focusout:"hidden",pagehide:"hidden"};a=a||window.event;a.type in c?document.body.className=c[a.type]:(document.body.className=this[b]?"hidden":"visible","hidden"===document.body.className?s_oMain.stopUpdate():s_oMain.startUpdate())}var b="hidden";b in document?document.addEventListener("visibilitychange",a):(b="mozHidden")in document?document.addEventListener("mozvisibilitychange",a):(b="webkitHidden")in
document?document.addEventListener("webkitvisibilitychange",a):(b="msHidden")in document?document.addEventListener("msvisibilitychange",a):"onfocusin"in document?document.onfocusin=document.onfocusout=a:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=a})();function ctlArcadeResume(){null!==s_oMain&&s_oMain.startUpdate()}function ctlArcadePause(){null!==s_oMain&&s_oMain.stopUpdate()}
function getParamValue(a){for(var b=window.location.search.substring(1).split("&"),c=0;c<b.length;c++){var d=b[c].split("=");if(d[0]==a)return d[1]}}function saveItem(a,b){s_bStorageAvailable&&localStorage.setItem(a,b)}function getItem(a){return s_bStorageAvailable?localStorage.getItem(a):null}
function fullscreenHandler(){ENABLE_FULLSCREEN&&screenfull.enabled&&(s_bFullscreen=screenfull.isFullscreen,null!==s_oInterface&&s_oInterface.resetFullscreenBut(),null!==s_oMenu&&s_oMenu.resetFullscreenBut(),null!==s_oLevelMenu&&s_oLevelMenu.resetFullscreenBut())}if(screenfull.enabled)screenfull.on("change",function(){s_bFullscreen=screenfull.isFullscreen;null!==s_oInterface&&s_oInterface.resetFullscreenBut();null!==s_oMenu&&s_oMenu.resetFullscreenBut();null!==s_oLevelMenu&&s_oLevelMenu.resetFullscreenBut()});
function CSpriteLibrary(){var a={},b,c,d,e,f,h;this.init=function(a,g,p){b={};d=c=0;e=a;f=g;h=p};this.addSprite=function(d,e){if(a.hasOwnProperty(d))return!1;var f=new Image;a[d]=b[d]={szPath:e,oSprite:f,bLoaded:!1};c++;return!0};this.getSprite=function(b){return a.hasOwnProperty(b)?a[b].oSprite:null};this._onSpritesLoaded=function(){c=0;f.call(h)};this._onSpriteLoaded=function(){e.call(h);++d===c&&this._onSpritesLoaded()};this.loadSprites=function(){for(var a in b)b[a].oSprite.oSpriteLibrary=this,
b[a].oSprite.szKey=a,b[a].oSprite.onload=function(){this.oSpriteLibrary.setLoaded(this.szKey);this.oSpriteLibrary._onSpriteLoaded(this.szKey)},b[a].oSprite.onerror=function(a){var c=a.currentTarget;setTimeout(function(){b[c.szKey].oSprite.src=b[c.szKey].szPath},500)},b[a].oSprite.src=b[a].szPath};this.setLoaded=function(b){a[b].bLoaded=!0};this.isLoaded=function(b){return a[b].bLoaded};this.getNumSprites=function(){return c}}
var CANVAS_WIDTH=768,CANVAS_HEIGHT=1400,EDGEBOARD_X=40,EDGEBOARD_Y=260,PIECE_WIDTH=81,PIECE_HEIGHT=69,BALL_WIDTH_HEIGHT=20,BUT_LEVEL_WIDTH=95,BUT_LEVEL_HEIGHT=84,NUM_ROWS_PAGE_LEVEL,NUM_COLS_PAGE_LEVEL,NUM_PIECES,NUM_ROWS,NUM_COLS,s_bFirstPlay=!0,PRIMARY_FONT="comfortaabold",FPS=30,FPS_TIME=1E3/FPS,DISABLE_SOUND_MOBILE=!1,ENABLE_FULLSCREEN=!0,STATE_LOADING=0,STATE_MENU=1,STATE_HELP=1,STATE_GAME=3,ON_MOUSE_DOWN=0,ON_MOUSE_UP=1,ON_MOUSE_OVER=2,ON_MOUSE_OUT=3,ON_DRAG_START=4,ON_DRAG_END=5,START_SCORE,
SOUNDTRACK_VOLUME_IN_GAME=.3,iFirstRowPos={x:CANVAS_WIDTH/2-324,y:CANVAS_HEIGHT/2+150};TEXT_GAMEOVER="CONGRATULATION! YOU WON!";TEXT_GAMEOVER_LOSE="YOU LOST!";TEXT_SCORE="SCORE";TEXT_BEST="BEST SCORE";TEXT_ARE_SURE="ARE YOU SURE?";TEXT_SELECT_LEVEL="Select a level";TEXT_TUTORIAL_1="Hi, welcome to Mastermind!\n\nThe aim of the game, is to find the exact positions of the colors in the sequence.";TEXT_TUTORIAL_2="Drag the balls in the empty spaces.\nEvery ball can be used only once in a sequence.";
TEXT_TUTORIAL_3="Once filled the line,you\u2019ll get the Mastermind response.\nA Grey ball stands for a correct color in a wrong position.\nA Black ball stands for a correct color in a correct position.";TEXT_MISS_0="YOU GUESSED ";TEXT_MISS_1=" COLORS IN THE RIGHT POSITION";TEXT_MISS_2=" RIGHT COLORS BUT IN THE WRONG POSITION";TEXT_MISS_AND=" AND ";TEXT_WIN_1="I\u2019M IMPRESSED! I\u2019D NEVER HAVE BET ON YOU!";TEXT_WIN_2="IT'S JUST LUCK!";TEXT_WIN_3="I'M SURE YOU'LL FAIL THE NEXT LEVEL!";
TEXT_LOSE_1="I KNEW YOU WERE A DUD!";TEXT_LOSE_2="IF I WERE YOU, I\u2019D THROW IN THE TOWEL!";TEXT_LOSE_3="YOU ARE SUCH A DUFFER!";TEXT_LOSE_4="IS THIS YOUR BEST?";TEXT_LOSE_5="CAN YOU DO ANY BETTER THAN THIS?";TEXT_ATTEMPTS="Attempts left: ";TEXT_ERR_LS="YOUR WEB BROWSER DOES NOT SUPPORT STORING SETTING LOCALLY. IN SAFARI, THE MOST COMMON CAUSE OF THIS IS USING 'PRIVATE BROWSING MODE'. SOME INFO MAY NOT SAVE OR SOME FEATURE MAY NOT WORK PROPERLY.";var TEXT_PRELOADER_CONTINUE="START";
TEXT_SHARE_IMAGE="200x200.jpg";TEXT_SHARE_TITLE="Congratulations!";TEXT_SHARE_MSG1="You collected <strong>";TEXT_SHARE_MSG2=" points</strong>!<br><br>Share your score with your friends!";TEXT_SHARE_SHARE1="My score is ";TEXT_SHARE_SHARE2=" points! Can you do better";
function CPreloader(){var a,b,c,d,e,f,h,k,g,p;this._init=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this);s_oSpriteLibrary.addSprite("progress_bar","./sprites/progress_bar.png");s_oSpriteLibrary.addSprite("200x200","./sprites/200x200.jpg");s_oSpriteLibrary.addSprite("but_start","./sprites/but_start.png");s_oSpriteLibrary.loadSprites();p=new createjs.Container;s_oStage.addChild(p)};this.unload=function(){p.removeAllChildren()};this._onImagesLoaded=function(){};this._onAllImagesLoaded=
function(){this.attachSprites();s_oMain.preloaderReady()};this.attachSprites=function(){var l=new createjs.Shape;l.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);p.addChild(l);l=s_oSpriteLibrary.getSprite("200x200");h=createBitmap(l);h.regX=.5*l.width;h.regY=.5*l.height;h.x=CANVAS_WIDTH/2;h.y=CANVAS_HEIGHT/2-80;p.addChild(h);k=new createjs.Shape;k.graphics.beginFill("rgba(0,0,0,0.01)").drawRoundRect(h.x-100,h.y-100,200,200,10);p.addChild(k);h.mask=k;l=s_oSpriteLibrary.getSprite("progress_bar");
d=createBitmap(l);d.x=CANVAS_WIDTH/2-l.width/2;d.y=CANVAS_HEIGHT/2+70;p.addChild(d);a=l.width;b=l.height;e=new createjs.Shape;e.graphics.beginFill("rgba(0,0,0,0.01)").drawRect(d.x,d.y,1,b);p.addChild(e);d.mask=e;c=new createjs.Text("","30px "+PRIMARY_FONT,"#fff");c.x=CANVAS_WIDTH/2;c.y=CANVAS_HEIGHT/2+120;c.textBaseline="alphabetic";c.textAlign="center";p.addChild(c);l=s_oSpriteLibrary.getSprite("but_start");g=new CTextButton(CANVAS_WIDTH/2,CANVAS_HEIGHT/2+100,l,TEXT_PRELOADER_CONTINUE,"Arial","#000",
36,"center",0,p);g.addEventListener(ON_MOUSE_UP,this._onButStartRelease,this);g.setVisible(!1);f=new createjs.Shape;f.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);p.addChild(f);createjs.Tween.get(f).to({alpha:0},500).call(function(){createjs.Tween.removeTweens(f);p.removeChild(f)})};this._onButStartRelease=function(){s_oMain._allResourcesLoaded()};this.refreshLoader=function(f){c.text=f+"%";100===f&&(s_oMain._allResourcesLoaded(),c.visible=!1,d.visible=!1);e.graphics.clear();
f=Math.floor(f*a/100);e.graphics.beginFill("rgba(0,0,0,0.01)").drawRect(d.x,d.y,f,b)};this._init()}
function CLevelSettings(){var a,b,c;this.init=function(){b=0;a=[{num_pieces:4,num_rows:10,num_cols:4},{num_pieces:5,num_rows:10,num_cols:4},{num_pieces:5,num_rows:9,num_cols:5},{num_pieces:6,num_rows:11,num_cols:5},{num_pieces:6,num_rows:9,num_cols:6},{num_pieces:6,num_rows:7,num_cols:6},{num_pieces:8,num_rows:13,num_cols:6},{num_pieces:7,num_rows:9,num_cols:7},{num_pieces:8,num_rows:15,num_cols:5},{num_pieces:8,num_rows:11,num_cols:7},{num_pieces:8,num_rows:9,num_cols:7},{num_pieces:8,num_rows:9,
num_cols:7},{num_pieces:8,num_rows:11,num_cols:5},{num_pieces:8,num_rows:12,num_cols:4},{num_pieces:8,num_rows:14,num_cols:3}];s_oLevelSettings=this;c=null===getItem("level_mastermind")||"undefined"===getItem("level_mastermind")?0:getItem("level_mastermind")};this.loadLevel=function(c){b=c;NUM_PIECES=a[c].num_pieces;NUM_ROWS=a[c].num_rows;NUM_COLS=a[c].num_cols};this.nextLevel=function(){b<a.length&&(b++,this.loadLevel(b))};this.saveLevel=function(){c<b+1&&saveItem("level_mastermind",b+1)};this.getNextLevel=
function(){return b<a.length?b+2:b+1};this.getCurrentLevel=function(){return b};this.getNumLevel=function(){return a.length};this.init()}s_oLevelSettings=null;
function CMain(a){var b,c=0,d=0,e=STATE_LOADING,f,h;this.initContainer=function(){s_oCanvas=document.getElementById("canvas");s_oStage=new createjs.Stage(s_oCanvas);s_oStage.preventSelection=!0;createjs.Touch.enable(s_oStage);s_bMobile=jQuery.browser.mobile;!1===s_bMobile&&(s_oStage.enableMouseOver(FPS),$("body").on("contextmenu","#canvas",function(a){return!1}));s_iPrevTime=(new Date).getTime();createjs.Ticker.addEventListener("tick",this._update);createjs.Ticker.framerate=FPS;navigator.userAgent.match(/Windows Phone/i)&&
(DISABLE_SOUND_MOBILE=!0);s_oSpriteLibrary=new CSpriteLibrary;f=new CPreloader};this.preloaderReady=function(){s_oLevelSettings=new CLevelSettings;try{saveItem("ls_available","ok")}catch(g){s_bStorageAvailable=!1}s_oMain._loadImages();!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_oMain._initSounds();b=!0};this.soundLoaded=function(){c++;f.refreshLoader(Math.floor(c/d*100))};this._initSounds=function(){Howler.mute(!s_bAudioActive);s_aSoundsInfo=[];s_aSoundsInfo.push({path:"./sounds/",filename:"color_0",
loop:!1,volume:1,ingamename:"color_0"});s_aSoundsInfo.push({path:"./sounds/",filename:"color_1",loop:!1,volume:1,ingamename:"color_1"});s_aSoundsInfo.push({path:"./sounds/",filename:"color_2",loop:!1,volume:1,ingamename:"color_2"});s_aSoundsInfo.push({path:"./sounds/",filename:"color_3",loop:!1,volume:1,ingamename:"color_3"});s_aSoundsInfo.push({path:"./sounds/",filename:"color_4",loop:!1,volume:1,ingamename:"color_4"});s_aSoundsInfo.push({path:"./sounds/",filename:"color_5",loop:!1,volume:1,ingamename:"color_5"});
s_aSoundsInfo.push({path:"./sounds/",filename:"color_6",loop:!1,volume:1,ingamename:"color_6"});s_aSoundsInfo.push({path:"./sounds/",filename:"color_7",loop:!1,volume:1,ingamename:"color_7"});s_aSoundsInfo.push({path:"./sounds/",filename:"click",loop:!1,volume:1,ingamename:"click"});s_aSoundsInfo.push({path:"./sounds/",filename:"game_over",loop:!1,volume:1,ingamename:"game_over"});s_aSoundsInfo.push({path:"./sounds/",filename:"right_sequence",loop:!1,volume:1,ingamename:"right_sequence"});s_aSoundsInfo.push({path:"./sounds/",
filename:"wrong_sequence",loop:!1,volume:1,ingamename:"wrong_sequence"});s_aSoundsInfo.push({path:"./sounds/",filename:"soundtrack",loop:!0,volume:1,ingamename:"soundtrack"});d+=s_aSoundsInfo.length;s_aSounds=[];for(var a=0;a<s_aSoundsInfo.length;a++)this.tryToLoadSound(s_aSoundsInfo[a],!1)};this.tryToLoadSound=function(a,b){setTimeout(function(){s_aSounds[a.ingamename]=new Howl({src:[a.path+a.filename+".mp3"],autoplay:!1,preload:!0,loop:a.loop,volume:a.volume,onload:s_oMain.soundLoaded,onloaderror:function(a,
b){for(var c=0;c<s_aSoundsInfo.length;c++)if(a===s_aSounds[s_aSoundsInfo[c].ingamename]._sounds[0]._id){s_oMain.tryToLoadSound(s_aSoundsInfo[c],!0);break}},onplayerror:function(a){for(var b=0;b<s_aSoundsInfo.length;b++)if(a===s_aSounds[s_aSoundsInfo[b].ingamename]._sounds[0]._id){s_aSounds[s_aSoundsInfo[b].ingamename].once("unlock",function(){s_aSounds[s_aSoundsInfo[b].ingamename].play();"soundtrack"===s_aSoundsInfo[b].ingamename&&null!==s_oGame&&setVolume("soundtrack",SOUNDTRACK_VOLUME_IN_GAME)});
break}}})},b?200:0)};this._loadImages=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this);s_oSpriteLibrary.addSprite("but_play","./sprites/but_play.png");s_oSpriteLibrary.addSprite("msg_box","./sprites/msg_box.png");s_oSpriteLibrary.addSprite("credits_panel","./sprites/credits_panel.png");s_oSpriteLibrary.addSprite("ctl_logo","./sprites/ctl_logo.png");s_oSpriteLibrary.addSprite("but_info","./sprites/but_info.png");s_oSpriteLibrary.addSprite("but_exit_big","./sprites/but_exit_big.png");
s_oSpriteLibrary.addSprite("but_home","./sprites/but_home.png");s_oSpriteLibrary.addSprite("bg_menu","./sprites/bg_menu.jpg");s_oSpriteLibrary.addSprite("bg_menu_level","./sprites/bg_menu_level.jpg");s_oSpriteLibrary.addSprite("bg_game","./sprites/bg_game.jpg");s_oSpriteLibrary.addSprite("colors","./sprites/colors.png");s_oSpriteLibrary.addSprite("empty_cell","./sprites/empty.png");s_oSpriteLibrary.addSprite("but_level","./sprites/but_level.png");s_oSpriteLibrary.addSprite("arrow","./sprites/arrow.png");
s_oSpriteLibrary.addSprite("but_help","./sprites/but_help.png");s_oSpriteLibrary.addSprite("but_yes","./sprites/but_yes.png");s_oSpriteLibrary.addSprite("but_exit","./sprites/but_exit.png");s_oSpriteLibrary.addSprite("but_restart","./sprites/but_restart.png");s_oSpriteLibrary.addSprite("but_next","./sprites/but_next.png");s_oSpriteLibrary.addSprite("but_skip","./sprites/but_skip.png");s_oSpriteLibrary.addSprite("audio_icon","./sprites/audio_icon.png");s_oSpriteLibrary.addSprite("but_fullscreen","./sprites/but_fullscreen.png");
s_oSpriteLibrary.addSprite("balls","./sprites/40_40_balls.png");s_oSpriteLibrary.addSprite("row","./sprites/row.png");s_oSpriteLibrary.addSprite("menuAnim","./sprites/brain_menu.png");s_oSpriteLibrary.addSprite("brainIdle","./sprites/brain_idle.png");s_oSpriteLibrary.addSprite("brainWin","./sprites/brain_win.png");s_oSpriteLibrary.addSprite("brainLose","./sprites/brain_lose.png");s_oSpriteLibrary.addSprite("cloud","./sprites/cloud.png");s_oSpriteLibrary.addSprite("but_restart_small","./sprites/but_restart_small.png");
d+=s_oSpriteLibrary.getNumSprites();s_oSpriteLibrary.loadSprites()};this._onImagesLoaded=function(){c++;f.refreshLoader(Math.floor(c/d*100))};this._allResourcesLoaded=function(){f.unload();s_oSoundtrack=playSound("soundtrack",1,!0);this.gotoMenu()};this._onAllImagesLoaded=function(){};this.gotoMenu=function(){new CMenu;e=STATE_MENU};this.gotoGame=function(){h=new CGame(k);e=STATE_GAME};this.gotoHelp=function(){new CHelp;e=STATE_HELP};this.stopUpdate=function(){b=!1;createjs.Ticker.paused=!0;$("#block_game").css("display",
"block");!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||Howler.mute(!0)};this.startUpdate=function(){s_iPrevTime=(new Date).getTime();b=!0;createjs.Ticker.paused=!1;$("#block_game").css("display","none");(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)&&s_bAudioActive&&Howler.mute(!1)};this._update=function(a){if(!1!==b){var c=(new Date).getTime();s_iTimeElaps=c-s_iPrevTime;s_iCntTime+=s_iTimeElaps;s_iCntFps++;s_iPrevTime=c;1E3<=s_iCntTime&&(s_iCurFps=s_iCntFps,s_iCntTime-=1E3,s_iCntFps=0);e===STATE_GAME&&
h.update();s_oStage.update(a)}};s_oMain=this;ENABLE_CHECK_ORIENTATION=a.check_orientation;ENABLE_FULLSCREEN=a.enable_fullscreen;NUM_ROWS_PAGE_LEVEL=a.level_menu_rows;NUM_COLS_PAGE_LEVEL=a.level_menu_cols;s_bAudioActive=a.audio_enable_on_startup;var k=a;this.initContainer()}var s_bMobile,s_bAudioActive=!0,s_iCntTime=0,s_iTimeElaps=0,s_iPrevTime=0,s_iCntFps=0,s_iCurFps=0,s_bFullscreen=!1,s_iLastLevel=1,s_oStage,s_oMain,s_oSpriteLibrary,s_oSoundtrack=null,s_oCanvas,s_bStorageAvailable=!0,s_aSounds,s_aSoundsInfo;
function CTextButton(a,b,c,d,e,f,h,k,g,p){var l,m,q,u,x,t,y,r,B,F;this._init=function(a,b,c,d,e,f,h,g,k){l=!1;m=1;q=[];u=[];F=createBitmap(c);r=new createjs.Container;r.x=a;r.y=b;r.regX=c.width/2;r.regY=c.height/2;s_bMobile||(r.cursor="pointer");r.addChild(F,B);p.addChild(r);B=new CTLText(r,10,5,c.width-20,c.height-10,h,g,f,e,1,k,0,d,!0,!0,!1,!1);this._initListener()};this.unload=function(){r.off("mousedown",x);r.off("pressup",t);p.removeChild(r)};this.setVisible=function(a){r.visible=a};this.setAlign=
function(a){B.textAlign=a};this.setTextX=function(a){B.x=a};this.setScale=function(a){m=r.scaleX=r.scaleY=a};this.enable=function(){l=!1};this.disable=function(){l=!0};this._initListener=function(){x=r.on("mousedown",this.buttonDown);t=r.on("pressup",this.buttonRelease)};this.addEventListener=function(a,b,c){q[a]=b;u[a]=c};this.addEventListenerWithParams=function(a,b,c,d){q[a]=b;u[a]=c;y=d};this.buttonRelease=function(){l||(playSound("click",1,!1),r.scaleX=m,r.scaleY=m,q[ON_MOUSE_UP]&&q[ON_MOUSE_UP].call(u[ON_MOUSE_UP],
y))};this.buttonDown=function(){l||(r.scaleX=.9*m,r.scaleY=.9*m,q[ON_MOUSE_DOWN]&&q[ON_MOUSE_DOWN].call(u[ON_MOUSE_DOWN]))};this.setPosition=function(a,b){r.x=a;r.y=b};this.tweenPosition=function(a,b,c,d,e,f,h){createjs.Tween.get(r).wait(d).to({x:a,y:b},c,e).call(function(){void 0!==f&&f.call(h)})};this.changeText=function(a){B.refreshText(a)};this.setX=function(a){r.x=a};this.setY=function(a){r.y=a};this.getButtonImage=function(){return r};this.getX=function(){return r.x};this.getY=function(){return r.y};
this.getSprite=function(){return r};this.getScale=function(){return r.scaleX};this._init(a,b,c,d,e,f,h,k,g)}
function CMsgBox(a,b){var c,d;this._init=function(a){d=new createjs.Container;f.addChild(d);a=new createjs.Shape;a.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);a.alpha=.7;a.on("click",function(){});d.addChild(a);a=s_oSpriteLibrary.getSprite("msg_box");var b=createBitmap(a);b.x=.5*CANVAS_WIDTH;b.y=.5*CANVAS_HEIGHT;b.regX=.5*a.width;b.regY=.5*a.height;d.addChild(b);new CTLText(d,CANVAS_WIDTH/2-250,580,500,200,30,"center","#fff",PRIMARY_FONT,1,0,0,TEXT_ERR_LS,!0,!0,!0,!1);c=new CGfxButton(CANVAS_WIDTH/
2,880,s_oSpriteLibrary.getSprite("but_yes"),d);c.addEventListener(ON_MOUSE_UP,this._onButOk,this)};this._onButOk=function(){e.unload()};this.unload=function(){c.unload();f.removeChild(d)};var e=this;var f=b;this._init(a)}
function CToggle(a,b,c,d,e){var f,h,k,g,p,l,m;this._init=function(a,b,c,d,e){h=[];k=[];var g=new createjs.SpriteSheet({images:[c],frames:{width:c.width/2,height:c.height,regX:c.width/2/2,regY:c.height/2},animations:{state_true:[0],state_false:[1]}});f=d;m=createSprite(g,"state_"+f,c.width/2/2,c.height/2,c.width/2,c.height);m.x=a;m.y=b;m.stop();e.addChild(m);this._initListener()};this.unload=function(){s_bMobile?m.off("mousedown",g):(m.off("mousedown",g),m.off("mouseover",l));m.off("pressup",p);e.removeChild(m)};
this._initListener=function(){s_bMobile?g=m.on("mousedown",this.buttonDown):(g=m.on("mousedown",this.buttonDown),l=m.on("mouseover",this.buttonOver));p=m.on("pressup",this.buttonRelease)};this.addEventListener=function(a,b,c){h[a]=b;k[a]=c};this.setActive=function(a){f=a;m.gotoAndStop("state_"+f)};this.buttonRelease=function(){m.scaleX=1;m.scaleY=1;playSound("click",1,!1);f=!f;m.gotoAndStop("state_"+f);h[ON_MOUSE_UP]&&h[ON_MOUSE_UP].call(k[ON_MOUSE_UP],f)};this.buttonDown=function(){m.scaleX=.9;m.scaleY=
.9;h[ON_MOUSE_DOWN]&&h[ON_MOUSE_DOWN].call(k[ON_MOUSE_DOWN])};this.buttonOver=function(a){s_bMobile||(a.target.cursor="pointer")};this.setPosition=function(a,b){m.x=a;m.y=b};this._init(a,b,c,d,e)}
function CGfxButton(a,b,c,d){var e,f,h,k,g,p,l,m;this._init=function(a,b,c,d){e=!1;f=1;h=[];k=[];g=createBitmap(c);g.x=a;g.y=b;g.scaleX=g.scaleY=f;g.regX=c.width/2;g.regY=c.height/2;d.addChild(g);this._initListener()};this.unload=function(){s_bMobile?g.off("mousedown",p):(g.off("mousedown",p),g.off("mouseover",m));g.off("pressup",l);d.removeChild(g)};this.setVisible=function(a){g.visible=a};this.setClickable=function(a){e=!a};this._initListener=function(){s_bMobile?p=g.on("mousedown",this.buttonDown):
(p=g.on("mousedown",this.buttonDown),m=g.on("mouseover",this.buttonOver));l=g.on("pressup",this.buttonRelease)};this.addEventListener=function(a,b,c){h[a]=b;k[a]=c};this.buttonRelease=function(){e||(g.scaleX=f,g.scaleY=f,h[ON_MOUSE_UP]&&h[ON_MOUSE_UP].call(k[ON_MOUSE_UP]))};this.buttonDown=function(){e||(g.scaleX=.9*f,g.scaleY=.9*f,playSound("click",1,0),h[ON_MOUSE_DOWN]&&h[ON_MOUSE_DOWN].call(k[ON_MOUSE_DOWN]))};this.buttonOver=function(a){s_bMobile||e||(a.target.cursor="pointer")};this.pulseAnimation=
function(){createjs.Tween.get(g).to({scaleX:.9*f,scaleY:.9*f},850,createjs.Ease.quadOut).to({scaleX:f,scaleY:f},650,createjs.Ease.quadIn).call(function(){q.pulseAnimation()})};this.trembleAnimation=function(){createjs.Tween.get(g).to({rotation:5},75,createjs.Ease.quadOut).to({rotation:-5},140,createjs.Ease.quadIn).to({rotation:0},75,createjs.Ease.quadIn).wait(750).call(function(){q.trebleAnimation()})};this.setPosition=function(a,b){g.x=a;g.y=b};this.setX=function(a){g.x=a};this.setY=function(a){g.y=
a};this.getButtonImage=function(){return g};this.getX=function(){return g.x};this.getY=function(){return g.y};var q=this;this._init(a,b,c,d);return this}
function CLevelBut(a,b,c,d,e,f){var h,k,g,p=[],l=[],m,q,u,x,t;this._init=function(a,b,c,d,e){k=[];g=[];u=new createjs.Container;y.addChild(u);var f=new createjs.SpriteSheet({images:[d],frames:{width:d.width/2,height:d.height,regX:d.width/2/2,regY:d.height/2},animations:{state_true:[0],state_false:[1]}});h=e;q=createSprite(f,"state_"+h,d.width/2/2,d.height/2,d.width/2,d.height);q.mouseEnabled=e;q.x=a;q.y=b;q.stop();!s_bMobile&&h&&(u.cursor="pointer");u.addChild(q);p.push(q);m=new createjs.Text(c,"50px "+
PRIMARY_FONT,"#fff");m.x=a-2;m.y=b+20;m.textAlign="center";m.textBaseline="alphabetic";m.lineWidth=200;u.addChild(m);e||(m.color="#404040");this._initListener()};this.unload=function(){u.off("mousedown",x);u.off("pressup",t);u.removeChild(q)};this._initListener=function(){x=u.on("mousedown",this.buttonDown);t=u.on("pressup",this.buttonRelease)};this.viewBut=function(a){u.addChild(a)};this.addEventListener=function(a,b,c){k[a]=b;g[a]=c};this.addEventListenerWithParams=function(a,b,c,d){k[a]=b;g[a]=
c;l=d};this.ifClickable=function(){return!0===u.mouseEnabled?1:0};this.setActive=function(a,b){h=b;p[a].gotoAndStop("state_"+h);p[a].mouseEnabled=!0;m.color=h?"#69b8d5":"#b4b4b4"};this.buttonRelease=function(){h&&(playSound("click",1,0),k[ON_MOUSE_UP]&&k[ON_MOUSE_UP].call(g[ON_MOUSE_UP],l))};this.buttonDown=function(){k[ON_MOUSE_DOWN]&&k[ON_MOUSE_DOWN].call(g[ON_MOUSE_DOWN],l)};this.setPosition=function(a,b){u.x=a;u.y=b};this.setVisible=function(a){u.visible=a};var y=f;this._init(a,b,c,d,e,f)}
function CLevelMenu(){var a,b,c,d,e,f,h,k,g,p,l,m,q,u,x,t=null,y=null,r,B,F,C=null,J=null;this._init=function(){null!==s_oSoundtrack&&setVolume("soundtrack",1);"undefined"!==getItem("level_mastermind")&&null!==getItem("level_mastermind")&&(s_iLastLevel=getItem("level_mastermind"));g=0;B=new createjs.Container;s_oStage.addChild(B);var l=createBitmap(s_oSpriteLibrary.getSprite("bg_menu_level"));B.addChild(l);h=CANVAS_WIDTH/2;k=18;r=new CTLText(s_oStage,h-200,0,400,40,40,"center","#fff",PRIMARY_FONT,
1,0,0,TEXT_SELECT_LEVEL,!0,!0,!1,!1);l=s_oSpriteLibrary.getSprite("but_exit");e=CANVAS_WIDTH-l.width/2-10;f=l.height/2+10;u=new CGfxButton(e,f,l,s_oStage);u.addEventListener(ON_MOUSE_UP,this._onExit,this);p=l.height;if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)c=u.getX()-l.width-10,d=l.height/2+10,x=new CToggle(c,d,s_oSpriteLibrary.getSprite("audio_icon"),s_bAudioActive,s_oStage),x.addEventListener(ON_MOUSE_UP,this._onAudioToggle,this);l=window.document;var G=l.documentElement;C=G.requestFullscreen||
G.mozRequestFullScreen||G.webkitRequestFullScreen||G.msRequestFullscreen;J=l.exitFullscreen||l.mozCancelFullScreen||l.webkitExitFullscreen||l.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(C=!1);C&&screenfull.enabled&&(l=s_oSpriteLibrary.getSprite("but_fullscreen"),a=l.width/4+10,b=l.height/2+10,F=new CToggle(a,b,l,s_bFullscreen,s_oStage),F.addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,this));this._checkBoundLimits();m=[];l=CANVAS_WIDTH-2*EDGEBOARD_X;G=Math.floor(l/NUM_COLS_PAGE_LEVEL)/2;for(var Q=
0,R=0;R<NUM_COLS_PAGE_LEVEL;R++)m.push(Q),Q+=2*G;q=[];this._createNewLevelPage(0,s_oLevelSettings.getNumLevel());if(1<q.length){for(G=1;G<q.length;G++)q[G].visible=!1;t=new CGfxButton(CANVAS_WIDTH/2+300,CANVAS_HEIGHT/2+350,s_oSpriteLibrary.getSprite("arrow"),s_oStage);t.getButtonImage().rotation=90;t.addEventListener(ON_MOUSE_UP,this._onRight,this);y=new CGfxButton(CANVAS_WIDTH/2-300,CANVAS_HEIGHT/2+350,s_oSpriteLibrary.getSprite("arrow"),s_oStage);y.getButtonImage().rotation=-90;y.addEventListener(ON_MOUSE_UP,
this._onLeft,this)}this.refreshButtonPos(s_iOffsetX,s_iOffsetY);r.setY(q[0].y-(175+Math.floor(l/NUM_COLS_PAGE_LEVEL)/2))};this.unload=function(){for(var a=0;a<l.length;a++)l[a].unload();!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||x.unload();C&&screenfull.enabled&&F.unload();u.unload();null!==y&&(y.unload(),t.unload());s_oLevelMenu=null};this.refreshButtonPos=function(g,h){r.setY(k+h);u.setPosition(e-g,f+h);!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||x.setPosition(c-g,h+d);C&&screenfull.enabled&&F.setPosition(a+
g,b+h)};this._checkBoundLimits=function(){for(var a=s_oSpriteLibrary.getSprite("but_level"),b=0,c=CANVAS_HEIGHT-2*EDGEBOARD_Y-2*p,d=0;b<c;)b+=a.height+20,d++;NUM_ROWS_PAGE_LEVEL>d&&(NUM_ROWS_PAGE_LEVEL=d);c=b=0;d=CANVAS_WIDTH-2*EDGEBOARD_X;for(a=s_oSpriteLibrary.getSprite("but_level");c<d;)c+=a.width/2+5,b++;NUM_COLS_PAGE_LEVEL>b&&(NUM_COLS_PAGE_LEVEL=b)};this._createNewLevelPage=function(a,b){var c=new createjs.Container;B.addChild(c);q.push(c);l=[];for(var d=0,e=0,f=1,h=!1,g=s_oSpriteLibrary.getSprite("but_level"),
k=a;k<b;k++){var t=new CLevelBut(m[d]+g.width/4,e+g.height/2,k+1,g,k+1>s_iLastLevel?!1:!0,c);t.addEventListenerWithParams(ON_MOUSE_UP,this._onButLevelRelease,this,k);l.push(t);d++;if(d===m.length&&k<b-1&&(d=0,e+=g.height+20,f++,f>NUM_ROWS_PAGE_LEVEL)){h=!0;break}}c.x=CANVAS_WIDTH/2;c.y=CANVAS_HEIGHT/2;c.regX=c.getBounds().width/2;c.regY=c.getBounds().height/2;h&&this._createNewLevelPage(k+1,b)};this._onRight=function(){q[g].visible=!1;g++;g>=q.length&&(g=0);q[g].visible=!0};this._onLeft=function(){q[g].visible=
!1;g--;0>g&&(g=q.length-1);q[g].visible=!0};this._onButLevelRelease=function(a){s_oLevelSettings.loadLevel(a);s_oMain.gotoGame();this.unload()};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this.resetFullscreenBut=function(){C&&screenfull.enabled&&F.setActive(s_bFullscreen)};this._onFullscreenRelease=function(){s_bFullscreen?J.call(window.document):C.call(window.document.documentElement);sizeHandler()};this._onExit=function(){s_oMain.gotoMenu()};s_oLevelMenu=
this;this._init()}var s_oLevelMenu=null;
function CCell(a,b,c,d,e){var f,h,k,g,p,l=!0,m=99,q,u=this,x=!1;this.init=function(a,b,c,d,e){f=c;h=d;_iYFix=0;k=new createjs.Container;q=e;g=new createBitmap(s_oSpriteLibrary.getSprite("empty_cell"));g.regX=PIECE_WIDTH/2;g.regY=PIECE_HEIGHT/2;k.addChild(g);k.x=f;k.y=h;x=k.on("mousedown",u.onClick,u);q.addChild(k);a={images:[s_oSpriteLibrary.getSprite("colors")],frames:{width:PIECE_WIDTH,height:PIECE_HEIGHT,regX:PIECE_WIDTH/2,regY:PIECE_HEIGHT/2},animations:{red:[0],blue:[1],yellow:[2],green:[3],
pink:[4],black:[5],azure:[6],violet:[7]}};p=new createjs.SpriteSheet(a)};this.getPosition=function(){return{x:k.x,y:k.y}};this.setPiece=function(a){m=a;k.removeChild(g);a=createSprite(p,m,PIECE_WIDTH/2,PIECE_HEIGHT/2,PIECE_WIDTH,PIECE_HEIGHT);a.stop();k.addChild(a);l=!1};this.getAlreadyPlaced=function(){return l};this.getCurrentColor=function(){return m};this.onClick=function(){!1===l&&(playSound("click"),s_oGame.removeCell(m),k.removeAllChildren(),k.addChild(g),m=99,l=!0)};this.disableCell=function(){k.off("mousedown",
x)};this.init(a,b,c,d,e)}
function CComboBox(a,b,c){var d,e,f;this.init=function(a,b,c){d=new createjs.Container;d.x=a;d.y=b;f=c;a={images:[s_oSpriteLibrary.getSprite("balls")],frames:{width:BALL_WIDTH_HEIGHT,height:BALL_WIDTH_HEIGHT,regX:BALL_WIDTH_HEIGHT/2,regY:BALL_WIDTH_HEIGHT/2},animations:{gray:[0],black:[1]}};e=new createjs.SpriteSheet(a);f.addChild(d)};this.getPosition=function(){return{x:d.x,y:d.y}};this.addBalls=function(a,b){for(var c,f=a+b,h=0;h<f;h++)c=h<a?createSprite(e,"black",BALL_WIDTH_HEIGHT/2,BALL_WIDTH_HEIGHT/
2,BALL_WIDTH_HEIGHT,BALL_WIDTH_HEIGHT):createSprite(e,"gray",BALL_WIDTH_HEIGHT/2,BALL_WIDTH_HEIGHT/2,BALL_WIDTH_HEIGHT,BALL_WIDTH_HEIGHT),3>h?(c.x=(BALL_WIDTH_HEIGHT+5)*h+5,c.y=0):3===h?(c.x=BALL_WIDTH_HEIGHT+5+5,c.y=BALL_WIDTH_HEIGHT):(c.x=(BALL_WIDTH_HEIGHT+5)*(h-4)+5,c.y=2*BALL_WIDTH_HEIGHT),d.addChild(c)};this.init(a,b,c)}
function CPiece(a,b,c,d){var e,f,h,k,g,p,l,m,q,u;this.init=function(a,b,c,d){var m={images:[s_oSpriteLibrary.getSprite("colors")],frames:{width:PIECE_WIDTH,height:PIECE_HEIGHT,regX:PIECE_WIDTH/2,regY:PIECE_HEIGHT/2},animations:{red:[0],blue:[1],yellow:[2],green:[3],pink:[4],black:[5],azure:[6],violet:[7]}};e=new createjs.SpriteSheet(m);f=a;h=b;k=c;g=new createjs.Container;g.x=h;g.y=k;a=createSprite(e,f,PIECE_WIDTH/2,PIECE_HEIGHT/2,PIECE_WIDTH,PIECE_HEIGHT);a.stop();g.addChild(a);p=d;this.initListener()};
this.initListener=function(){l=g.on("pressmove",this.onHolding,this);m=g.on("pressup",this.onRelease,this);q=g.on("mousedown",this.onClick,this);u=g.on("mouseover",this.onOver,this);createjs.Touch.enable(g)};this.getContainer=function(){return g};this.setPosition=function(a){g.x=a.x;g.y=a.y};this.getPosition=function(){return{x:g.x,y:g.y}};this.getGlobalPos=function(){return{x:g.x+p.x,y:g.y+p.y}};this.onClick=function(){p.setChildIndex(g,p.numChildren-1);s_oStage.setChildIndex(p,s_oStage.numChildren-
1);playSound("click");s_oGame.onClickPiece()};this.onHolding=function(a){g.x+=a.localX;g.y=!0===s_bMobile?g.y+(a.localY-100):g.y+a.localY};this.onOver=function(a){s_bMobile||(a.target.cursor="pointer")};this.onRelease=function(){s_oGame.onSnap(this)};this.getColor=function(){return f};this.setStandardPos=function(){g.x=PIECE_WIDTH*f;g.y=0};this.getStandardX=function(){return g.x=PIECE_WIDTH*f};this.unload=function(){this.removeListener();p.removeChild(g)};this.removeListener=function(){g.off("pressmove",
l);g.off("pressup",m);g.off("mousedown",q);g.off("mouseover",u)};this.init(a,b,c,d)}
function CPieceTable(a){var b,c,d;this.init=function(a){d=[];b=new createjs.Container;c=a;b.y=CANVAS_HEIGHT/2+400;b.x=CANVAS_WIDTH/2-PIECE_WIDTH/2*(c-1);for(a=0;a<c;a++)d[a]=new CPiece(a,PIECE_WIDTH*a,0,b),b.addChild(d[a].getContainer());s_oStage.addChild(b)};this.getPosition=function(){return{x:b.x,y:b.y}};this.addPiece=function(a,c){var d=new CPiece(a,c,0,b);b.addChild(d.getContainer())};this.getXNewPiece=function(a){return a*PIECE_WIDTH};this.removeAllListener=function(){for(var a=0;a<d.length;a++)d[a].removeListener()};
this.initAllListener=function(){for(var a=0;a<d.length;a++)d[a].initListener()};this.unload=function(){for(var a=0;a<c;a++)d[a].unload();s_oStage.removeChild(b)};this.init(a)}
function CMenu(){var a,b,c,d,e,f,h,k,g,p,l,m,q=null,u=null,x;this._init=function(){null!==s_oSoundtrack&&setVolume("soundtrack",1);h=createBitmap(s_oSpriteLibrary.getSprite("bg_menu"));s_oStage.addChild(h);var t=s_oSpriteLibrary.getSprite("but_play");k=new CGfxButton(CANVAS_WIDTH/2,CANVAS_HEIGHT/2+300,t,s_oStage);k.addEventListener(ON_MOUSE_UP,this._onButPlayRelease,this);if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)t=s_oSpriteLibrary.getSprite("audio_icon"),a=CANVAS_WIDTH-t.height/2-10,b=t.height/
2+10,p=new CToggle(a,b,t,s_bAudioActive,s_oStage),p.addEventListener(ON_MOUSE_UP,this._onAudioToggle,this);g=new createjs.Shape;g.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);var y=window.document,r=y.documentElement;t=s_oSpriteLibrary.getSprite("but_fullscreen");e=t.width/4+t.width/2+20;f=t.height/2+10;q=r.requestFullscreen||r.mozRequestFullScreen||r.webkitRequestFullScreen||r.msRequestFullscreen;u=y.exitFullscreen||y.mozCancelFullScreen||y.webkitExitFullscreen||y.msExitFullscreen;
!1===ENABLE_FULLSCREEN&&(q=!1);q&&screenfull.enabled&&(m=new CToggle(e,f,t,s_bFullscreen,s_oStage),m.addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,this));t=s_oSpriteLibrary.getSprite("but_info");c=e-t.height-10;d=t.height/2+10;l=new CGfxButton(CANVAS_WIDTH/2,CANVAS_HEIGHT-240,t,s_oStage);l.addEventListener(ON_MOUSE_UP,this._onCreditsBut,this);s_oStage.addChild(g);createjs.Tween.get(g).to({alpha:0},1E3).call(function(){g.visible=!1});t=s_oSpriteLibrary.getSprite("menuAnim");t=new createjs.SpriteSheet({images:[t],
frames:{width:390,height:208,regX:195,regY:104},animations:{idle:[0,44,"idle"]}});x=createSprite(t,"idle",195,104,390,208);x.x=CANVAS_WIDTH/2;x.y=CANVAS_HEIGHT/2;s_oStage.addChild(x);s_bStorageAvailable||new CMsgBox(TEXT_ERR_LS,s_oStage);this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};this.unload=function(){k.unload();k=null;g.visible=!1;l.unload();if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)p.unload(),p=null;s_oStage.removeChild(h);s_oMenu=h=null};this.refreshButtonPos=function(h,g){l.setPosition(c+
h,g+d);!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||p.setPosition(a-h,g+b);q&&screenfull.enabled&&m.setPosition(e+h,f+g)};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this._onCreditsBut=function(){new CCreditsPanel};this._onButPlayRelease=function(){this.unload();$(s_oMain).trigger("start_session");new CLevelMenu};this.resetFullscreenBut=function(){q&&screenfull.enabled&&m.setActive(s_bFullscreen)};this._onFullscreenRelease=function(){s_bFullscreen?u.call(window.document):
q.call(window.document.documentElement);sizeHandler()};s_oMenu=this;this._init()}var s_oMenu=null;
function CGame(a){var b,c,d=[],e,f,h=[],k=[],g,p,l,m,q,u,x;this._init=function(){$(s_oMain).trigger("start_level",s_oLevelSettings.getCurrentLevel());m=q=0;b=START_SCORE*NUM_ROWS;var a=getItem("score_level_"+s_oLevelSettings.getCurrentLevel());u=null===a||"undefined"===a?0:a;g=new createjs.Container;g.x=iFirstRowPos.x;g.y=iFirstRowPos.y;a=createBitmap(s_oSpriteLibrary.getSprite("bg_game"));s_oStage.addChild(a);c=new CInterface(u);c.refreshScore(b);c.refreshAttempts(NUM_ROWS);!0===s_bFirstPlay?new CPanelTutorial:
this.startGame()};this.startGame=function(){null!==s_oSoundtrack&&setVolume("soundtrack",SOUNDTRACK_VOLUME_IN_GAME);s_bFirstPlay=!1;s_oStage.addChild(g);e=new CPieceTable(NUM_PIECES);for(var a=f=0;a<NUM_PIECES;a++)h[a]=a;h=this.getRandomSubarray(h,NUM_COLS);for(a=0;a<NUM_ROWS;a++){var b=new createBitmap(s_oSpriteLibrary.getSprite("row"));b.y=-(PIECE_HEIGHT*a);g.addChild(b);d[a]=[];for(var c=0;c<NUM_COLS;c++)d[a][c]=new CCell(c,a,b.x+c*PIECE_WIDTH+PIECE_WIDTH/2,b.y+PIECE_HEIGHT/2,g);k[a]=new CComboBox(b.x+
7*PIECE_WIDTH+BALL_WIDTH_HEIGHT/2+2,b.y+PIECE_HEIGHT/2-BALL_WIDTH_HEIGHT,g)}a=(new createjs.Graphics).beginFill("red").drawRect(CANVAS_WIDTH/2-325,CANVAS_HEIGHT/2-265,650,484);a=new createjs.Shape(a);a.alpha=0;g.mask=a;s_oStage.addChild(a);a=s_oSpriteLibrary.getSprite("arrow");p=new CGfxButton(iFirstRowPos.x+325,iFirstRowPos.y-(CANVAS_HEIGHT/2-265),a,s_oStage);p.addEventListener(ON_MOUSE_DOWN,this.onButUp,this);l=new CGfxButton(iFirstRowPos.x+325,iFirstRowPos.y+90,a,s_oStage);l.getButtonImage().rotation=
180;l.addEventListener(ON_MOUSE_DOWN,this.onButDown,this);l.setVisible(!1);7>=NUM_ROWS&&p.setVisible(!1);x=new CBrain};this.onButUp=function(){p.setClickable(!1);l.setClickable(!1);(new createjs.Tween.get(g)).to({y:g.y+69},700,createjs.Ease.cubicOut).call(function(){p.setClickable(!0);l.setClickable(!0)});q+=69;m++;l.setVisible(!0);l.setClickable(!0);m===NUM_ROWS-7&&(p.setVisible(!1),p.setClickable(!1))};this.onButDown=function(){p.setClickable(!1);l.setClickable(!1);(new createjs.Tween.get(g)).to({y:g.y-
69},700,createjs.Ease.cubicOut).call(function(){p.setClickable(!0);l.setClickable(!0)});q-=69;m--;p.setVisible(!0);p.setClickable(!0);0===m&&(l.setVisible(!1),l.setClickable(!1))};this.onSnap=function(a){for(var b,c,h=!1,g=e.getPosition().x+a.getPosition().x,k=e.getPosition().y+a.getPosition().y,l=a.getColor(),p=0;p<d[f].length;p++)b=d[f][p].getPosition().x+iFirstRowPos.x,c=d[f][p].getPosition().y+iFirstRowPos.y+q,b=Math.sqrt(Math.pow(b-g,2)+Math.pow(c-k,2)),40>b&&f>=m&&(!1===d[f][p].getAlreadyPlaced()&&
(h=d[f][p].getCurrentColor(),e.addPiece(h,e.getXNewPiece(h))),d[f][p].setPiece(l),playSound("color_"+l),h=!0);!1===h?a.setStandardPos():a.unload();this.onCheck()};this.onClickPiece=function(){x.unloadCloud()};this.removeCell=function(a){e.addPiece(a,e.getXNewPiece(a))};this.onCheck=function(){for(var a=0,g=0,l=!0,m=!0,p,q=0;q<d[f].length;q++)!0===d[f][q].getAlreadyPlaced()&&(l=!1);if(!0===l){for(q=0;q<d[f].length;q++)if(p=d[f][q].getCurrentColor(),p===h[q])a++;else{l=m=!1;for(var J=0;J<d[f].length;J++)p===
h[J]&&(l=!0);!0===l&&g++}if(!0===m){x.showHappyBrain();x.showTextWin();playSound("right_sequence");k[f].addBalls(a,g);for(q=0;q<d[f].length;q++)d[f][q].disableCell();this.manageInput(!1);b>u&&saveItem("score_level_"+s_oLevelSettings.getCurrentLevel(),b);s_iLastLevel<s_oLevelSettings.getNextLevel()&&saveItem("level_mastermind",s_oLevelSettings.getNextLevel());this.createInvisibleShape();setTimeout(function(){$(s_oMain).trigger("end_level",s_oLevelSettings.getCurrentLevel());(new CEndPanel).show("win",
b)},2100)}else{x.showAngryBrain();playSound("wrong_sequence");f!==NUM_ROWS-1?x.assembleTextMiss(a,g):x.showTextLose();for(q=0;q<d[f].length;q++)d[f][q].disableCell();e.unload();e=new CPieceTable(NUM_PIECES);k[f].addBalls(a,g);for(q=0;q<d[f].length;q++)d[f][q].disableCell();f++;c.refreshAttempts(NUM_ROWS-f);b-=START_SCORE;c.refreshScore(b);f===NUM_ROWS&&(c.refreshScore(b),this.createInvisibleShape(),setTimeout(function(){$(s_oMain).trigger("end_level",s_oLevelSettings.getCurrentLevel());(new CEndPanel).show("lose",
b)},2100))}}};this.manageInput=function(a){!0===a?e.initAllListener():e.removeAllListener();p.setClickable(a);l.setClickable(a)};this.restartGame=function(){$(s_oMain).trigger("show_interlevel_ad");$(s_oMain).trigger("end_level",s_oLevelSettings.getCurrentLevel());this.unload();this._init()};this.createInvisibleShape=function(){var a=new createjs.Shape;a.graphics.beginFill("#000000").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);a.alpha=.01;a.on("mousedown",this.onOver,this);s_oStage.addChild(a)};this.unload=
function(){c.unload();void 0!==e&&null!==e&&e.unload();void 0!==x&&null!==x&&x.unload();createjs.Tween.removeAllTweens();s_oStage.removeAllChildren()};this.onExit=function(){$(s_oMain).trigger("end_session");this.unload();s_oMain.gotoMenu()};this._onExitHelp=function(){_bStartGame=!0;$(s_oMain).trigger("start_level",1)};this.onOver=function(){};this.getRandomSubarray=function(a,b){for(var c=a.slice(0),d=a.length,e=d-b,f,h;d-- >e;)h=Math.floor((d+1)*Math.random()),f=c[h],c[h]=c[d],c[d]=f;return c.slice(e)};
this.update=function(){};s_oGame=this;START_SCORE=a.points_for_attempts;this._init()}var s_oGame;
function CInterface(a){var b,c,d,e,f,h,k,g,p,l,m,q,u=null,x=null,t,y,r,B,F;this._init=function(a){var C=s_oSpriteLibrary.getSprite("but_exit");b=CANVAS_WIDTH-C.width/2-10;c=C.height/2+10;t=new CGfxButton(b,c,C,s_oStage);t.addEventListener(ON_MOUSE_UP,this._onExit,this);y=new createjs.Shape;y.graphics.beginFill("red").drawRect(0,10,CANVAS_WIDTH,CANVAS_HEIGHT);y.alpha=.01;s_oStage.addChild(y);if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile){var D=s_oSpriteLibrary.getSprite("audio_icon");k=b-C.width/2-
D.width/4-10;g=c;p=new CToggle(k,g,D,s_bAudioActive,s_oStage);p.addEventListener(ON_MOUSE_UP,this._onAudioToggle,this)}else D=s_oSpriteLibrary.getSprite("but_fullscreen"),k=b,g=c;f=D.width/4+10;h=g;C=window.document;D=C.documentElement;u=D.requestFullscreen||D.mozRequestFullScreen||D.webkitRequestFullScreen||D.msRequestFullscreen;x=C.exitFullscreen||C.mozCancelFullScreen||C.webkitExitFullscreen||C.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(u=!1);u&&screenfull.enabled&&(D=s_oSpriteLibrary.getSprite("but_fullscreen"),
q=new CToggle(f,h,D,s_bFullscreen,s_oStage),q.addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,this));D=s_oSpriteLibrary.getSprite("but_help");d=k-2*D.width-20;e=D.height/2+10;r=new CGfxButton(d,e,D,s_oStage);r.addEventListener(ON_MOUSE_UP,this._onButInfo,this);l=new CTLText(s_oStage,CANVAS_WIDTH/2-300,130,200,32,32,"left","#fff",PRIMARY_FONT,1,0,0,TEXT_SCORE+": 0",!0,!0,!1,!1);m=new CTLText(s_oStage,CANVAS_WIDTH/2+50,130,250,32,32,"left","#fff",PRIMARY_FONT,1,0,0,TEXT_BEST+": "+a,!0,!0,!1,
!1);F=new CTLText(s_oStage,CANVAS_WIDTH/2-125,CANVAS_HEIGHT/2+270,250,32,32,"center","#fff",PRIMARY_FONT,1,0,0,TEXT_ATTEMPTS+"0",!0,!0,!1,!1);D=s_oSpriteLibrary.getSprite("but_restart_small");B=new CGfxButton(d+D.width+10,e,D,s_oStage);B.addEventListener(ON_MOUSE_UP,this.onRestart,this);this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};this.refreshButtonPos=function(a,d){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||p.setPosition(k-a,g+d);u&&screenfull.enabled&&q.setPosition(f+a,h+d);l.setY(140+d);m.setY(140+
d);t.setPosition(b-a,c+d);r.setPosition(r.getX()-a,c+d);B.setPosition(B.getX()-a,c+d)};this.refreshScore=function(a){l.refreshText(TEXT_SCORE+": "+a);l.setY(140+s_iOffsetY)};this.refreshAttempts=function(a){F.refreshText(TEXT_ATTEMPTS+a)};this.unload=function(){if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)p.unload(),p=null;u&&screenfull.enabled&&q.unload();t.unload();s_oInterface=null};this._onExit=function(){new CAreYouSurePanel};this.onRestart=function(){var a=new createjs.Shape;a.graphics.beginFill("#000").drawRect(0,
0,CANVAS_WIDTH,CANVAS_HEIGHT);a.alpha=0;s_oStage.addChild(a);(new createjs.Tween.get(a)).to({alpha:1},250).wait(200).call(function(){s_oGame.restartGame();s_oStage.addChildAt(a,s_oStage.numChildren);(new createjs.Tween.get(a)).to({alpha:0},250)})};this._onButInfo=function(){new CPanelTutorial};this.setVisibleButInfo=function(a){r.setVisible(a)};this.gameOver=function(){(void 0).show()};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this.resetFullscreenBut=
function(){u&&screenfull.enabled&&q.setActive(s_bFullscreen)};this._onFullscreenRelease=function(){s_bFullscreen?x.call(window.document):u.call(window.document.documentElement);sizeHandler()};s_oInterface=this;this._init(a);return this}var s_oInterface=null;
function CCreditsPanel(){var a,b,c,d,e,f,h;this._init=function(){d=new createjs.Shape;d.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);d.alpha=0;b=d.on("click",function(){});s_oStage.addChild(d);(new createjs.Tween.get(d)).to({alpha:.7},500);e=new createjs.Container;s_oStage.addChild(e);var k=s_oSpriteLibrary.getSprite("msg_box"),g=createBitmap(k);g.regX=k.width/2;g.regY=k.height/2;e.addChild(g);e.x=CANVAS_WIDTH/2;e.y=CANVAS_HEIGHT+k.height/2;a=e.y;(new createjs.Tween.get(e)).to({y:CANVAS_HEIGHT/
2-40},500,createjs.Ease.quartIn);g=new createjs.Text("DEVELOPED BY"," 30px "+PRIMARY_FONT,"#ffffff");g.y=-k.height/2+110;g.textAlign="center";g.textBaseline="middle";g.lineWidth=300;e.addChild(g);k=new createjs.Text("www.codethislab.com"," 30px "+PRIMARY_FONT,"#ffffff");k.y=70;k.textAlign="center";k.textBaseline="middle";k.lineWidth=400;e.addChild(k);k=s_oSpriteLibrary.getSprite("ctl_logo");h=createBitmap(k);c=h.on("click",this._onLogoButRelease);h.regX=k.width/2;h.regY=k.height/2;e.addChild(h);k=
s_oSpriteLibrary.getSprite("but_exit");f=new CGfxButton(263,-173,k,e);f.addEventListener(ON_MOUSE_UP,this.unload,this)};this.unload=function(){f.setClickable(!1);(new createjs.Tween.get(d)).to({alpha:0},500);(new createjs.Tween.get(e)).to({y:a},400,createjs.Ease.backIn).call(function(){s_oStage.removeChild(d);s_oStage.removeChild(e);f.unload()});d.off("click",b);h.off("click",c)};this._onLogoButRelease=function(){window.open("http://www.codethislab.com/index.php?&l=en")};this._onMoreGamesReleased=
function(){window.open("http://codecanyon.net/collections/5409142-games")};this._init()}
function CAreYouSurePanel(){var a,b,c,d,e;this._init=function(){d=new createjs.Shape;d.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);d.alpha=0;d.on("mousedown",function(){});s_oStage.addChild(d);(new createjs.Tween.get(d)).to({alpha:.7},500);e=new createjs.Container;s_oStage.addChild(e);var f=s_oSpriteLibrary.getSprite("credits_panel"),k=createBitmap(f);k.regX=f.width/2;k.regY=f.height/2;e.addChild(k);e.x=CANVAS_WIDTH/2;e.y=CANVAS_HEIGHT+f.height/2;a=e.y;(new createjs.Tween.get(e)).to({y:CANVAS_HEIGHT/
2-40},500,createjs.Ease.quartIn);(new CTLText(e,-200,-f.height/2+40,400,100,40,"center","#000",PRIMARY_FONT,1,0,0,TEXT_ARE_SURE,!0,!0,!0,!1)).setOutline(5);new CTLText(e,-200,-f.height/2+40,400,100,40,"center","#fff",PRIMARY_FONT,1,0,0,TEXT_ARE_SURE,!0,!0,!0,!1);b=new CGfxButton(110,80,s_oSpriteLibrary.getSprite("but_yes"),e);b.addEventListener(ON_MOUSE_UP,this._onButYes,this);c=new CGfxButton(-110,80,s_oSpriteLibrary.getSprite("but_exit_big"),e);c.addEventListener(ON_MOUSE_UP,this._onButNo,this);
c.pulseAnimation()};this._onButYes=function(){c.setClickable(!1);b.setClickable(!1);(new createjs.Tween.get(d)).to({alpha:0},500);(new createjs.Tween.get(e)).to({y:a},400,createjs.Ease.backIn).call(function(){f.unload();s_oGame.onExit()})};this._onButNo=function(){c.setClickable(!1);b.setClickable(!1);(new createjs.Tween.get(d)).to({alpha:0},500);(new createjs.Tween.get(e)).to({y:a},400,createjs.Ease.backIn).call(function(){f.unload()})};this.unload=function(){c.unload();b.unload();s_oStage.removeChild(d);
s_oStage.removeChild(e);d.off("mousedown",function(){})};var f=this;this._init()}
function CEndPanel(){var a,b,c,d,e,f,h;this._init=function(){b=new createjs.Container;b.alpha=0;b.visible=!1;s_oStage.addChild(b);var k=new createjs.Shape;k.graphics.beginFill("#000000").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);k.alpha=.7;k.on("mousedown",this.onOver,this);b.addChild(k);k=s_oSpriteLibrary.getSprite("credits_panel");a=createBitmap(k);a.regX=284.5;a.regY=197.5;a.x=CANVAS_WIDTH/2;a.y=CANVAS_HEIGHT/2;b.addChild(a);c=new CTLText(b,CANVAS_WIDTH/2-250,CANVAS_HEIGHT/2-150,500,100,50,"center",
"#fff",PRIMARY_FONT,1,0,0," ",!0,!0,!0,!1);d=new CTLText(b,CANVAS_WIDTH/2-250,CANVAS_HEIGHT/2,500,40,40,"center","#fff",PRIMARY_FONT,1,0,0," ",!0,!0,!1,!1);k=s_oSpriteLibrary.getSprite("but_home");e=new CGfxButton(CANVAS_WIDTH/2-120,CANVAS_HEIGHT/2+150,k,b);k=s_oSpriteLibrary.getSprite("but_restart");f=new CGfxButton(CANVAS_WIDTH/2,CANVAS_HEIGHT/2+150,k,b);k=s_oSpriteLibrary.getSprite("but_next");h=new CGfxButton(CANVAS_WIDTH/2+120,CANVAS_HEIGHT/2+150,k,b)};this.unload=function(){e.removeEventListener(ON_MOUSE_DOWN,
this._onExit,this);f.removeEventListener(ON_MOUSE_DOWN,this._onRestart,this);h.removeEventListener(ON_MOUSE_DOWN,this._onNextLevel,this)};this._initListener=function(){e.addEventListener(ON_MOUSE_DOWN,this._onExit,this);f.addEventListener(ON_MOUSE_DOWN,this._onRestart,this);h.addEventListener(ON_MOUSE_DOWN,this._onNextLevel,this)};this.show=function(a,g){playSound("game_over",1,!1);"win"===a?c.refreshText(TEXT_GAMEOVER):(h.setVisible(!1),e.getButtonImage().x=CANVAS_WIDTH/2-76,f.getButtonImage().x=
CANVAS_WIDTH/2+76,c.refreshText(TEXT_GAMEOVER_LOSE));d.refreshText(TEXT_SCORE+": "+g);b.visible=!0;var k=this;createjs.Tween.get(b).to({alpha:1},500).call(function(){k._initListener()});for(var l=0,m=0;m<s_oLevelSettings.getNumLevel();m++)getItem("score_level_"+m)&&(l+=parseFloat(getItem("score_level_"+m)));$(s_oMain).trigger("save_score",l,"DON'T FORGET TO SET THE MODE");m="You collected <strong>"+l+" points</strong>!<br><br>Share your score with your friends!";var q="My score is "+g+" points! Can you do better?";
$(s_oMain).trigger("share_event",l,"200x200.jpg","Congratulations!",m,q)};this._onExit=function(){$(s_oMain).trigger("show_interlevel_ad");s_oStage.removeChild(b);s_oGame.unload();s_oMain.gotoMenu()};this._onRestart=function(){s_oStage.removeChild(b);s_oGame.unload();s_oMain.gotoGame()};this._onNextLevel=function(){s_oStage.removeChild(b);s_oGame.unload();s_oLevelSettings.nextLevel();s_oMain.gotoGame()};this.onOver=function(){};this._init();return this}
function CPanelTutorial(){var a,b,c,d,e,f,h;this.init=function(){var k=new createjs.Shape;k.graphics.beginFill("#000000").drawRect(-(CANVAS_WIDTH/2),-(CANVAS_HEIGHT/2),CANVAS_WIDTH,CANVAS_HEIGHT);k.alpha=.7;k.on("mousedown",this.onOver,this);h=new createjs.Container;f=0;a=new createjs.Container;a.x=CANVAS_WIDTH/2;a.y=CANVAS_HEIGHT/2;a.addChild(k);a.alpha=0;b=new createBitmap(s_oSpriteLibrary.getSprite("msg_box"));b.regX=280;b.regY=182;b.alpha=.8;a.addChild(b);s_oStage.addChild(a);k=s_oSpriteLibrary.getSprite("arrow");
c=new CGfxButton(a.getBounds().width/2-50,0,k,a);c.addEventListener(ON_MOUSE_DOWN,this.onButNext,this);c.getButtonImage().rotation=90;d=new CGfxButton(-(a.getBounds().width/2-50),0,k,a);d.addEventListener(ON_MOUSE_DOWN,this.onButBack,this);d.getButtonImage().rotation=-90;e=new CGfxButton(a.getBounds().width/2-53,a.getBounds().height/2-53,s_oSpriteLibrary.getSprite("but_skip"),a);e.addEventListener(ON_MOUSE_DOWN,this.onButSkip,this);this.loadPage(f);(new createjs.Tween.get(a)).to({alpha:1},500)};this.loadPage=
function(b){switch(b){case 0:d.setVisible(!1);new CTLText(h,-200,-120,400,200,32,"center","#fff",PRIMARY_FONT,1,0,0,TEXT_TUTORIAL_1,!0,!0,!0,!1);a.addChild(h);break;case 1:d.setVisible(!0);new CTLText(h,-200,-120,400,200,32,"center","#fff",PRIMARY_FONT,1,0,0,TEXT_TUTORIAL_2,!0,!0,!0,!1);c.setVisible(!0);break;case 2:new CTLText(h,-200,-120,400,200,32,"center","#fff",PRIMARY_FONT,1,0,0,TEXT_TUTORIAL_3,!0,!0,!0,!1),c.setVisible(!1)}};this.onButNext=function(){f++;h.removeAllChildren();this.loadPage(f)};
this.onButBack=function(){f--;h.removeAllChildren();this.loadPage(f)};this.onButSkip=function(){(new createjs.Tween.get(a)).to({alpha:0},500).call(function(){s_oStage.removeChild(a);s_bFirstPlay&&s_oGame.startGame()})};this.onOver=function(){};this.init()}
function CBrain(){var a,b,c,d,e,f;this.init=function(){d=new createjs.Container;d.x=CANVAS_WIDTH/2;d.y=CANVAS_HEIGHT/2;var c={images:[s_oSpriteLibrary.getSprite("brainIdle"),s_oSpriteLibrary.getSprite("brainLose"),s_oSpriteLibrary.getSprite("brainWin")],frames:{width:112,height:90,regX:56,regY:45},animations:{idle:[0,44],lose:[45,89,"idle"],win:[90,134]}};c=new createjs.SpriteSheet(c);a=createSprite(c,"idle",56,45,112,90);a.x=CANVAS_WIDTH/2-260;a.y=CANVAS_HEIGHT/2+300;s_oStage.addChild(a);c=s_oSpriteLibrary.getSprite("cloud");
b=createBitmap(c);b.regX=228;b.regY=61;d.addChild(b);b.on("mousedown",this.unloadCloud,this);s_oStage.addChild(d);d.alpha=0;d.y+=270;d.x+=70;e=[];e[0]=TEXT_WIN_1;e[1]=TEXT_WIN_2;e[2]=TEXT_WIN_3;f=[];f[0]=TEXT_LOSE_1;f[1]=TEXT_LOSE_2;f[2]=TEXT_LOSE_3;f[3]=TEXT_LOSE_4;f[4]=TEXT_LOSE_5};this.initText=function(){};this.showAngryBrain=function(){a.gotoAndPlay("lose");(new createjs.Tween.get(a)).to({scaleX:1.2,scaleY:1.2},300,createjs.Ease.cubicOut).wait(300).to({scaleX:1,scaleY:1},300,createjs.Ease.cubicIn);
(new createjs.Tween.get(b)).to({alpha:1},300,createjs.Ease.cubicOut).wait(1500).to({alpha:1},300,createjs.Ease.cubicIn)};this.showHappyBrain=function(){a.gotoAndPlay("win");(new createjs.Tween.get(a)).to({scaleX:1.2,scaleY:1.2},300,createjs.Ease.cubicOut).wait(300).to({scaleX:1,scaleY:1},300,createjs.Ease.cubicIn);(new createjs.Tween.get(b)).to({alpha:1},300,createjs.Ease.cubicOut).wait(1500).to({alpha:0},300,createjs.Ease.cubicIn)};this.assembleTextMiss=function(a,b){c=new CTLText(d,-180,-50,360,
105,22,"center","#000",PRIMARY_FONT,1,0,0,0<a||0<b?0<a?TEXT_MISS_0+a+TEXT_MISS_1+TEXT_MISS_AND+b+TEXT_MISS_2:TEXT_MISS_0+b+TEXT_MISS_2:f[Math.floor(Math.random()*f.length)],!0,!0,!0,!1);(new createjs.Tween.get(d)).to({alpha:1},300)};this.showTextWin=function(){c=new CTLText(d,-180,-50,360,105,25,"center","#000",PRIMARY_FONT,1,0,0,e[Math.floor(Math.random()*e.length)],!0,!0,!0,!1);(new createjs.Tween.get(d)).to({alpha:1},300).wait(1500).call(function(){(new createjs.Tween.get(d)).to({alpha:0},300)})};
this.showTextLose=function(){c=new CTLText(d,-180,-50,360,105,25,"center","#000",PRIMARY_FONT,1,0,0,f[Math.floor(Math.random()*f.length)],!0,!0,!0,!1);(new createjs.Tween.get(d)).to({alpha:1},300).wait(1500).call(function(){(new createjs.Tween.get(d)).to({alpha:0},300)})};this.unloadCloud=function(){(new createjs.Tween.get(d)).to({alpha:0},300).call(function(){void 0!==c&&c.refreshText(" ")})};this.unload=function(){s_oStage.removeChild(d)};this.init()}
CTLText.prototype={constructor:CTLText,__autofit:function(){if(this._bFitText){for(var a=this._iFontSize;(this._oText.getBounds().height>this._iHeight-2*this._iPaddingV||this._oText.getBounds().width>this._iWidth-2*this._iPaddingH)&&!(a--,this._oText.font=a+"px "+this._szFont,this._oText.lineHeight=Math.round(a*this._fLineHeightFactor),this.__updateY(),this.__verticalAlign(),8>a););this._iFontSize=a}},__verticalAlign:function(){if(this._bVerticalAlign){var a=this._oText.getBounds().height;this._oText.y-=
(a-this._iHeight)/2+this._iPaddingV}},__updateY:function(){this._oText.y=this._y+this._iPaddingV;switch(this._oText.textBaseline){case "middle":this._oText.y+=this._oText.lineHeight/2+(this._iFontSize*this._fLineHeightFactor-this._iFontSize)}},__createText:function(a){this._bDebug&&(this._oDebugShape=new createjs.Shape,this._oDebugShape.graphics.beginFill("rgba(255,0,0,0.5)").drawRect(this._x,this._y,this._iWidth,this._iHeight),this._oContainer.addChild(this._oDebugShape));this._oText=new createjs.Text(a,
this._iFontSize+"px "+this._szFont,this._szColor);this._oText.textBaseline="middle";this._oText.lineHeight=Math.round(this._iFontSize*this._fLineHeightFactor);this._oText.textAlign=this._szAlign;this._oText.lineWidth=this._bMultiline?this._iWidth-2*this._iPaddingH:null;switch(this._szAlign){case "center":this._oText.x=this._x+this._iWidth/2;break;case "left":this._oText.x=this._x+this._iPaddingH;break;case "right":this._oText.x=this._x+this._iWidth-this._iPaddingH}this._oContainer.addChild(this._oText);
this.refreshText(a)},setVerticalAlign:function(a){this._bVerticalAlign=a},setOutline:function(a){null!==this._oText&&(this._oText.outline=a)},setShadow:function(a,b,c,d){null!==this._oText&&(this._oText.shadow=new createjs.Shadow(a,b,c,d))},setColor:function(a){this._oText.color=a},setAlpha:function(a){this._oText.alpha=a},setY:function(a){this._oText.y=a},removeTweens:function(){createjs.Tween.removeTweens(this._oText)},getText:function(){return this._oText},getY:function(){return this._y},getFontSize:function(){return this._iFontSize},
refreshText:function(a){""===a&&(a=" ");null===this._oText&&this.__createText(a);this._oText.text=a;this._oText.font=this._iFontSize+"px "+this._szFont;this._oText.lineHeight=Math.round(this._iFontSize*this._fLineHeightFactor);this.__autofit();this.__updateY();this.__verticalAlign()}};
function CTLText(a,b,c,d,e,f,h,k,g,p,l,m,q,u,x,t,y){this._oContainer=a;this._x=b;this._y=c;this._iWidth=d;this._iHeight=e;this._bMultiline=t;this._iFontSize=f;this._szAlign=h;this._szColor=k;this._szFont=g;this._iPaddingH=l;this._iPaddingV=m;this._bVerticalAlign=x;this._bFitText=u;this._bDebug=y;this._oDebugShape=null;this._fLineHeightFactor=p;this._oText=null;q&&this.__createText(q)};