/*
 Platform.js <https://mths.be/platform>
 Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>
 Copyright 2011-2013 John-David Dalton
 Available under MIT license <https://mths.be/mit>
*/
(function(){var a="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},c="undefined"!==typeof module&&module.exports,b="undefined"!==typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,e=function(){for(var b,f=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),
"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],d=0,c=f.length,e={};d<c;d++)if((b=f[d])&&b[1]in a){for(d=0;d<b.length;d++)e[f[0][d]]=
b[d];return e}return!1}(),g={change:e.fullscreenchange,error:e.fullscreenerror},k={request:function(c){var f=e.requestFullscreen;c=c||a.documentElement;if(/5\.1[.\d]* Safari/.test(navigator.userAgent))c[f]();else c[f](b&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){a[e.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},onchange:function(a){this.on("change",a)},onerror:function(a){this.on("error",a)},on:function(b,c){var d=g[b];d&&a.addEventListener(d,c,!1)},off:function(b,
c){var d=g[b];d&&a.removeEventListener(d,c,!1)},raw:e};e?(Object.defineProperties(k,{isFullscreen:{get:function(){return!!a[e.fullscreenElement]}},element:{enumerable:!0,get:function(){return a[e.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!a[e.fullscreenEnabled]}}}),c?module.exports=k:window.screenfull=k):c?module.exports=!1:window.screenfull=!1})();
(function(){function a(a){a=String(a);return a.charAt(0).toUpperCase()+a.slice(1)}function c(a,b){var c=-1,d=a?a.length:0;if("number"==typeof d&&-1<d&&d<=y)for(;++c<d;)b(a[c],c,a);else e(a,b)}function b(b){b=String(b).replace(/^ +| +$/g,"");return/^(?:webOS|i(?:OS|P))/.test(b)?b:a(b)}function e(a,b){for(var c in a)u.call(a,c)&&b(a[c],c,a)}function g(b){return null==b?a(b):q.call(b).slice(8,-1)}function k(a,b){var c=null!=a?typeof a[b]:"number";return!/^(?:boolean|number|string|undefined)$/.test(c)&&
("object"==c?!!a[b]:!0)}function m(a){return String(a).replace(/([ -])(?!$)/g,"$1?")}function f(a,b){var d=null;c(a,function(c,f){d=b(d,c,f,a)});return d}function d(a){function c(c){return f(c,function(c,d){var f=d.pattern||m(d);!c&&(c=RegExp("\\b"+f+" *\\d+[.\\w_]*","i").exec(a)||RegExp("\\b"+f+" *\\w+-[\\w]*","i").exec(a)||RegExp("\\b"+f+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(a))&&((c=String(d.label&&!RegExp(f,"i").test(d.label)?d.label:c).split("/"))[1]&&!/[\d.]+/.test(c[0])&&(c[0]+=
" "+c[1]),d=d.label||d,c=b(c[0].replace(RegExp(f,"i"),d).replace(RegExp("; *(?:"+d+"[_-])?","i")," ").replace(RegExp("("+d+")[-_.]?(\\w)","i"),"$1 $2")));return c})}function p(b){return f(b,function(b,c){return b||(RegExp(c+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(a)||0)[1]||null})}var A=h,n=a&&"object"==typeof a&&"String"!=g(a);n&&(A=a,a=null);var r=A.navigator||{},x=r.userAgent||"";a||(a=x);var B=n?!!r.likeChrome:/\bChrome\b/.test(a)&&!/internal|\n/i.test(q.toString()),
u=n?"Object":"ScriptBridgingProxyObject",y=n?"Object":"Environment",z=n&&A.java?"JavaPackage":g(A.java),U=n?"Object":"RuntimeObject";y=(z=/\bJava/.test(z)&&A.java)&&g(A.environment)==y;var V=z?"a":"\u03b1",W=z?"b":"\u03b2",P=A.document||{},K=A.operamini||A.opera,M=v.test(M=n&&K?K["[[Class]]"]:g(K))?M:K=null,l,N=a;n=[];var O=null,L=a==x;x=L&&K&&"function"==typeof K.version&&K.version();var D=function(b){return f(b,function(b,c){return b||RegExp("\\b"+(c.pattern||m(c))+"\\b","i").exec(a)&&(c.label||
c)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),t=function(b){return f(b,function(b,c){return b||RegExp("\\b"+(c.pattern||m(c))+"\\b","i").exec(a)&&(c.label||c)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser",
"PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},
{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),E=c([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad",
"iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),J=function(b){return f(b,function(b,c,d){return b||(c[E]||c[/^[a-z]+(?: +[a-z]+\b)*/i.exec(E)]||RegExp("\\b"+m(d)+"(?:\\b|\\w*\\d)","i").exec(a))&&d})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},
"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),w=function(c){return f(c,function(c,d){var f=d.pattern||m(d);if(!c&&(c=RegExp("\\b"+f+"(?:/[\\d.]+|[ \\w.]*)","i").exec(a))){var e=c,h=d.label||d,n={"10.0":"10","6.4":"10 Technical Preview",
"6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};f&&h&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(n=n[/[\d.]+$/.exec(e)])&&(e="Windows "+n);e=String(e);f&&h&&(e=e.replace(RegExp(f,"i"),h));c=e=b(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/,
" $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}return c})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac",
"Windows 98;","Windows "]);D&&(D=[D]);J&&!E&&(E=c([J]));if(l=/\bGoogle TV\b/.exec(E))E=l[0];/\bSimulator\b/i.test(a)&&(E=(E?E+" ":"")+"Simulator");"Opera Mini"==t&&/\bOPiOS\b/.test(a)&&n.push("running in Turbo/Uncompressed mode");"IE"==t&&/\blike iPhone OS\b/.test(a)?(l=d(a.replace(/like iPhone OS/,"")),J=l.manufacturer,E=l.product):/^iP/.test(E)?(t||(t="Safari"),w="iOS"+((l=/ OS ([\d_]+)/i.exec(a))?" "+l[1].replace(/_/g,"."):"")):"Konqueror"!=t||/buntu/i.test(w)?J&&"Google"!=J&&(/Chrome/.test(t)&&
!/\bMobile Safari\b/i.test(a)||/\bVita\b/.test(E))||/\bAndroid\b/.test(w)&&/^Chrome/.test(t)&&/\bVersion\//i.test(a)?(t="Android Browser",w=/\bAndroid\b/.test(w)?w:"Android"):"Silk"==t?(/\bMobi/i.test(a)||(w="Android",n.unshift("desktop mode")),/Accelerated *= *true/i.test(a)&&n.unshift("accelerated")):"PaleMoon"==t&&(l=/\bFirefox\/([\d.]+)\b/.exec(a))?n.push("identifying as Firefox "+l[1]):"Firefox"==t&&(l=/\b(Mobile|Tablet|TV)\b/i.exec(a))?(w||(w="Firefox OS"),E||(E=l[1])):!t||(l=!/\bMinefield\b/i.test(a)&&
/\b(?:Firefox|Safari)\b/.exec(t))?(t&&!E&&/[\/,]|^[^(]+?\)/.test(a.slice(a.indexOf(l+"/")+8))&&(t=null),(l=E||J||w)&&(E||J||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(w))&&(t=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(w)?w:l)+" Browser")):"Electron"==t&&(l=(/\bChrome\/([\d.]+)\b/.exec(a)||0)[1])&&n.push("Chromium "+l):w="Kubuntu";x||(x=p(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",m(t),"(?:Firefox|Minefield|NetFront)"]));
if(l="iCab"==D&&3<parseFloat(x)&&"WebKit"||/\bOpera\b/.test(t)&&(/\bOPR\b/.test(a)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(a)&&!/^(?:Trident|EdgeHTML)$/.test(D)&&"WebKit"||!D&&/\bMSIE\b/i.test(a)&&("Mac OS"==w?"Tasman":"Trident")||"WebKit"==D&&/\bPlayStation\b(?! Vita\b)/i.test(t)&&"NetFront")D=[l];"IE"==t&&(l=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(a)||0)[1])?(t+=" Mobile",w="Windows Phone "+(/\+$/.test(l)?l:l+".x"),n.unshift("desktop mode")):/\bWPDesktop\b/i.test(a)?(t="IE Mobile",w="Windows Phone 8.x",
n.unshift("desktop mode"),x||(x=(/\brv:([\d.]+)/.exec(a)||0)[1])):"IE"!=t&&"Trident"==D&&(l=/\brv:([\d.]+)/.exec(a))&&(t&&n.push("identifying as "+t+(x?" "+x:"")),t="IE",x=l[1]);if(L){if(k(A,"global"))if(z&&(l=z.lang.System,N=l.getProperty("os.arch"),w=w||l.getProperty("os.name")+" "+l.getProperty("os.version")),y){try{x=A.require("ringo/engine").version.join("."),t="RingoJS"}catch(T){(l=A.system)&&l.global.system==A.system&&(t="Narwhal",w||(w=l[0].os||null))}t||(t="Rhino")}else"object"==typeof A.process&&
!A.process.browser&&(l=A.process)&&("object"==typeof l.versions&&("string"==typeof l.versions.electron?(n.push("Node "+l.versions.node),t="Electron",x=l.versions.electron):"string"==typeof l.versions.nw&&(n.push("Chromium "+x,"Node "+l.versions.node),t="NW.js",x=l.versions.nw)),t||(t="Node.js",N=l.arch,w=l.platform,x=(x=/[\d.]+/.exec(l.version))?x[0]:null));else g(l=A.runtime)==u?(t="Adobe AIR",w=l.flash.system.Capabilities.os):g(l=A.phantom)==U?(t="PhantomJS",x=(l=l.version||null)&&l.major+"."+l.minor+
"."+l.patch):"number"==typeof P.documentMode&&(l=/\bTrident\/(\d+)/i.exec(a))?(x=[x,P.documentMode],(l=+l[1]+4)!=x[1]&&(n.push("IE "+x[1]+" mode"),D&&(D[1]=""),x[1]=l),x="IE"==t?String(x[1].toFixed(1)):x[0]):"number"==typeof P.documentMode&&/^(?:Chrome|Firefox)\b/.test(t)&&(n.push("masking as "+t+" "+x),t="IE",x="11.0",D=["Trident"],w="Windows");w=w&&b(w)}x&&(l=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(x)||/(?:alpha|beta)(?: ?\d)?/i.exec(a+";"+(L&&r.appMinorVersion))||/\bMinefield\b/i.test(a)&&
"a")&&(O=/b/i.test(l)?"beta":"alpha",x=x.replace(RegExp(l+"\\+?$"),"")+("beta"==O?W:V)+(/\d+\+?/.exec(l)||""));if("Fennec"==t||"Firefox"==t&&/\b(?:Android|Firefox OS)\b/.test(w))t="Firefox Mobile";else if("Maxthon"==t&&x)x=x.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(E))"Xbox 360"==E&&(w=null),"Xbox 360"==E&&/\bIEMobile\b/.test(a)&&n.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(t)&&(!t||E||/Browser|Mobi/.test(t))||"Windows CE"!=w&&!/Mobi/i.test(a))if("IE"==t&&L)try{null===A.external&&
n.unshift("platform preview")}catch(T){n.unshift("embedded")}else(/\bBlackBerry\b/.test(E)||/\bBB10\b/.test(a))&&(l=(RegExp(E.replace(/ +/g," *")+"/([.\\d]+)","i").exec(a)||0)[1]||x)?(l=[l,/BB10/.test(a)],w=(l[1]?(E=null,J="BlackBerry"):"Device Software")+" "+l[0],x=null):this!=e&&"Wii"!=E&&(L&&K||/Opera/.test(t)&&/\b(?:MSIE|Firefox)\b/i.test(a)||"Firefox"==t&&/\bOS X (?:\d+\.){2,}/.test(w)||"IE"==t&&(w&&!/^Win/.test(w)&&5.5<x||/\bWindows XP\b/.test(w)&&8<x||8==x&&!/\bTrident\b/.test(a)))&&!v.test(l=
d.call(e,a.replace(v,"")+";"))&&l.name&&(l="ing as "+l.name+((l=l.version)?" "+l:""),v.test(t)?(/\bIE\b/.test(l)&&"Mac OS"==w&&(w=null),l="identify"+l):(l="mask"+l,t=M?b(M.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(l)&&(w=null),L||(x=null)),D=["Presto"],n.push(l));else t+=" Mobile";if(l=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(a)||0)[1]){l=[parseFloat(l.replace(/\.(\d)$/,".0$1")),l];if("Safari"==t&&"+"==l[1].slice(-1))t="WebKit Nightly",O="alpha",x=l[1].slice(0,-1);else if(x==l[1]||x==(l[2]=
(/\bSafari\/([\d.]+\+?)/i.exec(a)||0)[1]))x=null;l[1]=(/\bChrome\/([\d.]+)/i.exec(a)||0)[1];537.36==l[0]&&537.36==l[2]&&28<=parseFloat(l[1])&&"WebKit"==D&&(D=["Blink"]);L&&(B||l[1])?(D&&(D[1]="like Chrome"),l=l[1]||(l=l[0],530>l?1:532>l?2:532.05>l?3:533>l?4:534.03>l?5:534.07>l?6:534.1>l?7:534.13>l?8:534.16>l?9:534.24>l?10:534.3>l?11:535.01>l?12:535.02>l?"13+":535.07>l?15:535.11>l?16:535.19>l?17:536.05>l?18:536.1>l?19:537.01>l?20:537.11>l?"21+":537.13>l?23:537.18>l?24:537.24>l?25:537.36>l?26:"Blink"!=
D?"27":"28")):(D&&(D[1]="like Safari"),l=(l=l[0],400>l?1:500>l?2:526>l?3:533>l?4:534>l?"4+":535>l?5:537>l?6:538>l?7:601>l?8:"8"));D&&(D[1]+=" "+(l+="number"==typeof l?".x":/[.+]/.test(l)?"":"+"));"Safari"==t&&(!x||45<parseInt(x))&&(x=l)}"Opera"==t&&(l=/\bzbov|zvav$/.exec(w))?(t+=" ",n.unshift("desktop mode"),"zvav"==l?(t+="Mini",x=null):t+="Mobile",w=w.replace(RegExp(" *"+l+"$"),"")):"Safari"==t&&/\bChrome\b/.exec(D&&D[1])&&(n.unshift("desktop mode"),t="Chrome Mobile",x=null,/\bOS X\b/.test(w)?(J=
"Apple",w="iOS 4.3+"):w=null);x&&0==x.indexOf(l=/[\d.]+$/.exec(w))&&-1<a.indexOf("/"+l+"-")&&(w=String(w.replace(l,"")).replace(/^ +| +$/g,""));D&&!/\b(?:Avant|Nook)\b/.test(t)&&(/Browser|Lunascape|Maxthon/.test(t)||"Safari"!=t&&/^iOS/.test(w)&&/\bSafari\b/.test(D[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(t)&&D[1])&&(l=D[D.length-1])&&n.push(l);n.length&&(n=["("+n.join("; ")+")"]);J&&E&&0>E.indexOf(J)&&n.push("on "+J);E&&n.push((/^on /.test(n[n.length-
1])?"":"on ")+E);if(w){var S=(l=/ ([\d.+]+)$/.exec(w))&&"/"==w.charAt(w.length-l[0].length-1);w={architecture:32,family:l&&!S?w.replace(l[0],""):w,version:l?l[1]:null,toString:function(){var a=this.version;return this.family+(a&&!S?" "+a:"")+(64==this.architecture?" 64-bit":"")}}}(l=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(N))&&!/\bi686\b/i.test(N)?(w&&(w.architecture=64,w.family=w.family.replace(RegExp(" *"+l),"")),t&&(/\bWOW64\b/i.test(a)||L&&/\w(?:86|32)$/.test(r.cpuClass||r.platform)&&!/\bWin64; x64\b/i.test(a))&&
n.unshift("32-bit")):w&&/^OS X/.test(w.family)&&"Chrome"==t&&39<=parseFloat(x)&&(w.architecture=64);a||(a=null);A={};A.description=a;A.layout=D&&D[0];A.manufacturer=J;A.name=t;A.prerelease=O;A.product=E;A.ua=a;A.version=t&&x;A.os=w||{architecture:null,family:null,version:null,toString:function(){return"null"}};A.parse=d;A.toString=function(){return this.description||""};A.version&&n.unshift(x);A.name&&n.unshift(t);w&&t&&(w!=String(w).split(" ")[0]||w!=t.split(" ")[0]&&!E)&&n.push(E?"("+w+")":"on "+
w);n.length&&(A.description=n.join(" "));return A}var p={"function":!0,object:!0},h=p[typeof window]&&window||this,r=p[typeof exports]&&exports;p=p[typeof module]&&module&&!module.nodeType&&module;var n=r&&p&&"object"==typeof global&&global;!n||n.global!==n&&n.window!==n&&n.self!==n||(h=n);var y=Math.pow(2,53)-1,v=/\bOpera/;n=Object.prototype;var u=n.hasOwnProperty,q=n.toString,z=d();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(h.platform=z,define(function(){return z})):r&&
p?e(z,function(a,b){r[b]=a}):h.platform=z}).call(this);
function buildIOSMeta(){for(var a=[{name:"viewport",content:"width=device-width, height=device-height, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"},{name:"apple-mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-status-bar-style",content:"black"}],c=0;c<a.length;c++){var b=document.createElement("meta");b.name=a[c].name;b.content=a[c].content;var e=window.document.head.querySelector('meta[name="'+b.name+'"]');e&&e.parentNode.removeChild(e);window.document.head.appendChild(b)}}
function hideIOSFullscreenPanel(){jQuery(".xxx-ios-fullscreen-message").css("display","none");jQuery(".xxx-ios-fullscreen-scroll").css("display","none");jQuery(".xxx-game-iframe-full").removeClass("xxx-game-iframe-iphone-se")}function buildIOSFullscreenPanel(){jQuery("body").append('<div class="xxx-ios-fullscreen-message"><div class="xxx-ios-fullscreen-swipe"></div></div><div class="xxx-ios-fullscreen-scroll"></div>')}
function showIOSFullscreenPanel(){jQuery(".xxx-ios-fullscreen-message").css("display","block");jQuery(".xxx-ios-fullscreen-scroll").css("display","block")}
function __iosResize(){window.scrollTo(0,0);if("iPhone"===platform.product)switch(window.devicePixelRatio){case 2:switch(window.innerWidth){case 568:320!==window.innerHeight&&jQuery(".xxx-game-iframe-full").addClass("xxx-game-iframe-iphone-se");break;case 667:375===window.innerHeight?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;default:hideIOSFullscreenPanel()}break;case 3:switch(window.innerWidth){case 736:414===window.innerHeight?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;
case 724:375===window.innerHeight?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;default:hideIOSFullscreenPanel()}break;default:hideIOSFullscreenPanel()}}function iosResize(){__iosResize();setTimeout(function(){__iosResize()},500)}$(document).ready(function(){platform&&"iPhone"===platform.product&&"Safari"===platform.name&&(buildIOSFullscreenPanel(),buildIOSMeta())});jQuery(window).resize(function(){platform&&"iPhone"===platform.product&&"Safari"===platform.name&&iosResize()});
var s_iScaleFactor=1,s_bIsIphone=!1,s_iOffsetX,s_iOffsetY;
(function(a){(jQuery.browser=jQuery.browser||{}).mobile=/android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(ad|hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|tablet|treo|up\.(browser|link)|vodafone|wap|webos|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))})(navigator.userAgent||
navigator.vendor||window.opera);$(window).resize(function(){sizeHandler()});function NotImplementedError(a){this.name="NotImplementedError";this.message=a||""}NotImplementedError.prototype=Error.prototype;function error(a){throw{name:"NotImplementedError",message:a};}function trace(a){console.log(a)}window.addEventListener("orientationchange",onOrientationChange);function onOrientationChange(){sizeHandler()}
function ifArrayContainsValue(a,c){for(var b=0;b<a.length;b++)if(a[b]===c)return!0;return!1}
function getSize(a){var c=a.toLowerCase(),b=window.document,e=b.documentElement;if(void 0===window["inner"+a])a=e["client"+a];else if(window["inner"+a]!=e["client"+a]){var g=b.createElement("body");g.id="vpw-test-b";g.style.cssText="overflow:scroll";var k=b.createElement("div");k.id="vpw-test-d";k.style.cssText="position:absolute;top:-1000px";k.innerHTML="<style>@media("+c+":"+e["client"+a]+"px){body#vpw-test-b div#vpw-test-d{"+c+":7px!important}}</style>";g.appendChild(k);e.insertBefore(g,b.head);
a=7==k["offset"+a]?e["client"+a]:window["inner"+a];e.removeChild(g)}else a=window["inner"+a];return a}
function sizeHandler(){window.scrollTo(0,1);if($("#canvas")){var a="safari"===platform.name.toLowerCase()?getIOSWindowHeight():getSize("Height");var c=getSize("Width");_checkOrientation(c,a);var b=Math.min(a/CANVAS_HEIGHT,c/CANVAS_WIDTH),e=CANVAS_WIDTH*b;b*=CANVAS_HEIGHT;if(b<a){var g=a-b;b+=g;e+=CANVAS_WIDTH/CANVAS_HEIGHT*g}else e<c&&(g=c-e,e+=g,b+=CANVAS_HEIGHT/CANVAS_WIDTH*g);g=a/2-b/2;var k=c/2-e/2,m=CANVAS_WIDTH/e;if(k*m<-EDGEBOARD_X||g*m<-EDGEBOARD_Y)b=Math.min(a/(CANVAS_HEIGHT-2*EDGEBOARD_Y),
c/(CANVAS_WIDTH-2*EDGEBOARD_X)),e=CANVAS_WIDTH*b,b*=CANVAS_HEIGHT,g=(a-b)/2,k=(c-e)/2,m=CANVAS_WIDTH/e;s_iOffsetX=Math.floor(-1*k*m);s_iOffsetY=Math.floor(-1*g*m);0<=g&&(s_iOffsetY=0);0<=k&&(s_iOffsetX=0);null!==s_oInterface&&s_oInterface.refreshButtonPos(s_iOffsetX,s_iOffsetY);null!==s_oMenu&&s_oMenu.refreshButtonPos(s_iOffsetX,s_iOffsetY);null!==s_oMenuMode&&s_oMenuMode.refreshButtonPos(s_iOffsetX,s_iOffsetY);null!==s_oLevelSelect&&s_oLevelSelect.refreshButtonPos(s_iOffsetX,s_iOffsetY);s_bIsIphone?
(canvas=document.getElementById("canvas"),s_oStage.canvas.width=Math.floor(2*e),s_oStage.canvas.height=Math.floor(2*b),canvas.style.width=Math.floor(e)+"px",canvas.style.height=Math.floor(b)+"px",s_oStage.scaleX=s_oStage.scaleY=2*Math.min(e/CANVAS_WIDTH,b/CANVAS_HEIGHT)):s_bMobile||isChrome()?($("#canvas").css("width",e+"px"),$("#canvas").css("height",b+"px")):(s_oStage.canvas.width=Math.floor(e),s_oStage.canvas.height=Math.floor(b),s_iScaleFactor=Math.min(e/CANVAS_WIDTH,b/CANVAS_HEIGHT),s_oStage.scaleX=
s_oStage.scaleY=s_iScaleFactor);0>g||(g=(a-b)/2);$("#canvas").css("top",g+"px");$("#canvas").css("left",k+"px");fullscreenHandler()}}
function _checkOrientation(a,c){s_bMobile&&ENABLE_CHECK_ORIENTATION&&(a>c?"landscape"===$(".orientation-msg-container").attr("data-orientation")?($(".orientation-msg-container").css("display","none"),s_oMain.startUpdate()):($(".orientation-msg-container").css("display","block"),s_oMain.stopUpdate()):"portrait"===$(".orientation-msg-container").attr("data-orientation")?($(".orientation-msg-container").css("display","none"),s_oMain.startUpdate()):($(".orientation-msg-container").css("display","block"),
s_oMain.stopUpdate()))}function isChrome(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}function isIOS(){var a="iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";");for(-1!==navigator.userAgent.toLowerCase().indexOf("iphone")&&(s_bIsIphone=!0);a.length;)if(navigator.platform===a.pop())return!0;return s_bIsIphone=!1}function getIOSWindowHeight(){return document.documentElement.clientWidth/window.innerWidth*window.innerHeight}
function getHeightOfIOSToolbars(){var a=(0===window.orientation?screen.height:screen.width)-getIOSWindowHeight();return 1<a?a:0}function getMobileOperatingSystem(){var a=navigator.userAgent||navigator.vendor||window.opera;return a.match(/iPad/i)||a.match(/iPhone/i)||a.match(/iPod/i)?"ios":a.match(/Android/i)?"android":"unknown"}function inIframe(){try{return window.self!==window.top}catch(a){return!0}}function stopSound(a){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[a].stop()}
function playSound(a,c,b){return!1===DISABLE_SOUND_MOBILE||!1===s_bMobile?(s_aSounds[a].play(),s_aSounds[a].volume(c),s_aSounds[a].loop(b),s_aSounds[a]):null}function setVolume(a,c){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[a].volume(c)}function setMute(a,c){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[c].mute(a)}function soundPlaying(a){if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)return s_aSounds[a].playing()}
function createBitmap(a,c,b){var e=new createjs.Bitmap(a),g=new createjs.Shape;c&&b?g.graphics.beginFill("#fff").drawRect(0,0,c,b):g.graphics.beginFill("#ff0").drawRect(0,0,a.width,a.height);e.hitArea=g;return e}function createSprite(a,c,b,e,g,k){a=null!==c?new createjs.Sprite(a,c):new createjs.Sprite(a);c=new createjs.Shape;c.graphics.beginFill("#000000").drawRect(-b,-e,g,k);a.hitArea=c;return a}
function randomFloatBetween(a,c,b){"undefined"===typeof b&&(b=2);return parseFloat(Math.min(a+Math.random()*(c-a),c).toFixed(b))}function shuffle(a){for(var c=a.length,b,e;0!==c;)e=Math.floor(Math.random()*c),--c,b=a[c],a[c]=a[e],a[e]=b;return a}function easeLinear(a,c,b,e){return b*a/e+c}function easeInQuad(a,c,b,e){return b*(a/=e)*a+c}function easeInSine(a,c,b,e){return-b*Math.cos(a/e*(Math.PI/2))+b+c}function easeInCubic(a,c,b,e){return b*(a/=e)*a*a+c}
function getTrajectoryPoint(a,c){var b=new createjs.Point,e=(1-a)*(1-a),g=a*a;b.x=e*c.start.x+2*(1-a)*a*c.traj.x+g*c.end.x;b.y=e*c.start.y+2*(1-a)*a*c.traj.y+g*c.end.y;return b}function formatTime(a){a/=1E3;var c=Math.floor(a/60);a=parseFloat(a-60*c).toFixed(0);var b="";b=10>c?b+("0"+c+":"):b+(c+":");return 10>a?b+("0"+a):b+a}function degreesToRadians(a){return a*Math.PI/180}function checkRectCollision(a,c){var b=getBounds(a,.9);var e=getBounds(c,.98);return calculateIntersection(b,e)}
function calculateIntersection(a,c){var b,e,g,k;var m=a.x+(b=a.width/2);var f=a.y+(e=a.height/2);var d=c.x+(g=c.width/2);var p=c.y+(k=c.height/2);m=Math.abs(m-d)-(b+g);f=Math.abs(f-p)-(e+k);return 0>m&&0>f?(m=Math.min(Math.min(a.width,c.width),-m),f=Math.min(Math.min(a.height,c.height),-f),{x:Math.max(a.x,c.x),y:Math.max(a.y,c.y),width:m,height:f,rect1:a,rect2:c}):null}
function getBounds(a,c){var b={x:Infinity,y:Infinity,width:0,height:0};if(a instanceof createjs.Container){b.x2=-Infinity;b.y2=-Infinity;var e=a.children,g=e.length,k;for(k=0;k<g;k++){var m=getBounds(e[k],1);m.x<b.x&&(b.x=m.x);m.y<b.y&&(b.y=m.y);m.x+m.width>b.x2&&(b.x2=m.x+m.width);m.y+m.height>b.y2&&(b.y2=m.y+m.height)}Infinity==b.x&&(b.x=0);Infinity==b.y&&(b.y=0);Infinity==b.x2&&(b.x2=0);Infinity==b.y2&&(b.y2=0);b.width=b.x2-b.x;b.height=b.y2-b.y;delete b.x2;delete b.y2}else{if(a instanceof createjs.Bitmap){g=
a.sourceRect||a.image;k=g.width*c;var f=g.height*c}else if(a instanceof createjs.Sprite)if(a.spriteSheet._frames&&a.spriteSheet._frames[a.currentFrame]&&a.spriteSheet._frames[a.currentFrame].image){g=a.spriteSheet.getFrame(a.currentFrame);k=g.rect.width;f=g.rect.height;e=g.regX;var d=g.regY}else b.x=a.x||0,b.y=a.y||0;else b.x=a.x||0,b.y=a.y||0;e=e||0;k=k||0;d=d||0;f=f||0;b.regX=e;b.regY=d;g=a.localToGlobal(0-e,0-d);m=a.localToGlobal(k-e,f-d);k=a.localToGlobal(k-e,0-d);e=a.localToGlobal(0-e,f-d);b.x=
Math.min(Math.min(Math.min(g.x,m.x),k.x),e.x);b.y=Math.min(Math.min(Math.min(g.y,m.y),k.y),e.y);b.width=Math.max(Math.max(Math.max(g.x,m.x),k.x),e.x)-b.x;b.height=Math.max(Math.max(Math.max(g.y,m.y),k.y),e.y)-b.y}return b}function NoClickDelay(a){this.element=a;window.Touch&&this.element.addEventListener("touchstart",this,!1)}
NoClickDelay.prototype={handleEvent:function(a){switch(a.type){case "touchstart":this.onTouchStart(a);break;case "touchmove":this.onTouchMove(a);break;case "touchend":this.onTouchEnd(a)}},onTouchStart:function(a){a.preventDefault();this.moved=!1;this.element.addEventListener("touchmove",this,!1);this.element.addEventListener("touchend",this,!1)},onTouchMove:function(a){this.moved=!0},onTouchEnd:function(a){this.element.removeEventListener("touchmove",this,!1);this.element.removeEventListener("touchend",
this,!1);if(!this.moved){a=document.elementFromPoint(a.changedTouches[0].clientX,a.changedTouches[0].clientY);3==a.nodeType&&(a=a.parentNode);var c=document.createEvent("MouseEvents");c.initEvent("click",!0,!0);a.dispatchEvent(c)}}};
(function(){function a(a){var b={focus:"visible",focusin:"visible",pageshow:"visible",blur:"hidden",focusout:"hidden",pagehide:"hidden"};a=a||window.event;a.type in b?document.body.className=b[a.type]:(document.body.className=this[c]?"hidden":"visible","hidden"===document.body.className?s_oMain.stopUpdate():s_oMain.startUpdate())}var c="hidden";c in document?document.addEventListener("visibilitychange",a):(c="mozHidden")in document?document.addEventListener("mozvisibilitychange",a):(c="webkitHidden")in
document?document.addEventListener("webkitvisibilitychange",a):(c="msHidden")in document?document.addEventListener("msvisibilitychange",a):"onfocusin"in document?document.onfocusin=document.onfocusout=a:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=a})();function ctlArcadeResume(){null!==s_oMain&&s_oMain.startUpdate()}function ctlArcadePause(){null!==s_oMain&&s_oMain.stopUpdate()}
function getParamValue(a){for(var c=window.location.search.substring(1).split("&"),b=0;b<c.length;b++){var e=c[b].split("=");if(e[0]==a)return e[1]}}function saveItem(a,c){s_bStorageAvailable&&localStorage.setItem(a,c)}function getItem(a){return s_bStorageAvailable?localStorage.getItem(a):null}function setItemJson(a,c){s_bStorageAvailable&&localStorage.setItem(a,JSON.stringify(c))}function getItemJson(a){return s_bStorageAvailable?JSON.parse(localStorage.getItem(a)):null}
function fullscreenHandler(){ENABLE_FULLSCREEN&&screenfull.enabled&&(s_bFullscreen=screenfull.isFullscreen,null!==s_oInterface&&s_oInterface.resetFullscreenBut(),null!==s_oMenu&&s_oMenu.resetFullscreenBut(),null!==s_oMenuMode&&s_oMenuMode.resetFullscreenBut(),null!==s_oLevelSelect&&s_oLevelSelect.resetFullscreenBut())}
if(screenfull.enabled)screenfull.on("change",function(){s_bFullscreen=screenfull.isFullscreen;null!==s_oInterface&&s_oInterface.resetFullscreenBut();null!==s_oMenu&&s_oMenu.resetFullscreenBut();null!==s_oMenuMode&&s_oMenuMode.resetFullscreenBut();null!==s_oLevelSelect&&s_oLevelSelect.resetFullscreenBut()});
function CSpriteLibrary(){var a={},c,b,e,g,k,m;this.init=function(a,d,p){c={};e=b=0;g=a;k=d;m=p};this.addSprite=function(f,d){if(!a.hasOwnProperty(f)){var e=new Image;a[f]=c[f]={szPath:d,oSprite:e,bLoaded:!1};b++}};this.getSprite=function(b){return a.hasOwnProperty(b)?a[b].oSprite:null};this._onSpritesLoaded=function(){b=0;k.call(m)};this._onSpriteLoaded=function(){g.call(m);++e===b&&this._onSpritesLoaded()};this.loadSprites=function(){for(var a in c)c[a].oSprite.oSpriteLibrary=this,c[a].oSprite.szKey=
a,c[a].oSprite.onload=function(){this.oSpriteLibrary.setLoaded(this.szKey);this.oSpriteLibrary._onSpriteLoaded(this.szKey)},c[a].oSprite.onerror=function(a){var b=a.currentTarget;setTimeout(function(){c[b.szKey].oSprite.src=c[b.szKey].szPath},500)},c[a].oSprite.src=c[a].szPath};this.setLoaded=function(b){a[b].bLoaded=!0};this.isLoaded=function(b){return a[b].bLoaded};this.getNumSprites=function(){return b}}
CTLText.prototype={constructor:CTLText,__autofit:function(){if(this._bFitText){for(var a=this._iFontSize;(this._oText.getBounds().height>this._iHeight-2*this._iPaddingV||this._oText.getBounds().width>this._iWidth-2*this._iPaddingH)&&!(a--,this._oText.font=a+"px "+this._szFont,this._oText.lineHeight=Math.round(a*this._fLineHeightFactor),this.__updateY(),this.__verticalAlign(),8>a););this._iFontSize=a}},__verticalAlign:function(){if(this._bVerticalAlign){var a=this._oText.getBounds().height;this._oText.y-=
(a-this._iHeight)/2+this._iPaddingV}},__updateY:function(){this._oText.y=this._y+this._iPaddingV;switch(this._oText.textBaseline){case "middle":this._oText.y+=this._oText.lineHeight/2+(this._iFontSize*this._fLineHeightFactor-this._iFontSize)}},__createText:function(a){this._bDebug&&(this._oDebugShape=new createjs.Shape,this._oDebugShape.graphics.beginFill("rgba(255,0,0,0.5)").drawRect(this._x,this._y,this._iWidth,this._iHeight),this._oContainer.addChild(this._oDebugShape));this._oText=new createjs.Text(a,
this._iFontSize+"px "+this._szFont,this._szColor);this._oText.textBaseline="middle";this._oText.lineHeight=Math.round(this._iFontSize*this._fLineHeightFactor);this._oText.textAlign=this._szAlign;this._oText.lineWidth=this._bMultiline?this._iWidth-2*this._iPaddingH:null;switch(this._szAlign){case "center":this._oText.x=this._x+this._iWidth/2;break;case "left":this._oText.x=this._x+this._iPaddingH;break;case "right":this._oText.x=this._x+this._iWidth-this._iPaddingH}this._oContainer.addChild(this._oText);
this.refreshText(a)},setVerticalAlign:function(a){this._bVerticalAlign=a},setOutline:function(a){null!==this._oText&&(this._oText.outline=a)},setShadow:function(a,c,b,e){null!==this._oText&&(this._oText.shadow=new createjs.Shadow(a,c,b,e))},setColor:function(a){this._oText.color=a},setAlpha:function(a){this._oText.alpha=a},removeTweens:function(){createjs.Tween.removeTweens(this._oText)},getText:function(){return this._oText},getY:function(){return this._y},getFontSize:function(){return this._iFontSize},
refreshText:function(a){""===a&&(a=" ");null===this._oText&&this.__createText(a);this._oText.text=a;this._oText.font=this._iFontSize+"px "+this._szFont;this._oText.lineHeight=Math.round(this._iFontSize*this._fLineHeightFactor);this.__autofit();this.__updateY();this.__verticalAlign()}};
function CTLText(a,c,b,e,g,k,m,f,d,p,h,r,n,y,v,u,q){this._oContainer=a;this._x=c;this._y=b;this._iWidth=e;this._iHeight=g;this._bMultiline=u;this._iFontSize=k;this._szAlign=m;this._szColor=f;this._szFont=d;this._iPaddingH=h;this._iPaddingV=r;this._bVerticalAlign=v;this._bFitText=y;this._bDebug=q;this._oDebugShape=null;this._fLineHeightFactor=p;this._oText=null;n&&this.__createText(n)}
var CANVAS_WIDTH=768,CANVAS_HEIGHT=1400,CANVAS_WIDTH_HALF=.5*CANVAS_WIDTH,CANVAS_HEIGHT_HALF=.5*CANVAS_HEIGHT,EDGEBOARD_X=0,EDGEBOARD_Y=200,FPS=30,FPS_TIME=1E3/FPS,DISABLE_SOUND_MOBILE=!1,PRIMARY_FONT="comfortaa",PRIMARY_FONT_COLOUR="#ffffff",SECONDARY_FONT_COLOUR="#000000",STATE_LOADING=0,STATE_MENU=1,STATE_MENU_MODE=2,STATE_LEVEL_SELECT=3,STATE_GAME=4,STATE_HELP=5,ON_MOUSE_DOWN=0,ON_MOUSE_UP=1,ON_MOUSE_OVER=2,ON_MOUSE_OUT=3,MODE_EASY=0,MODE_MEDIUM=1,MODE_HARD=2,MODE_EXTREME=3,SOUNDTRACK_VOLUME_IN_GAME=
.3,NUM_COLS,NUM_ROWS,TIME,SCORE_MULTIPLIER,TIMER_REMINDER=1E4,SQUARE_SIZE=132,ENABLE_FULLSCREEN,ENABLE_CHECK_ORIENTATION,DIRECTION_TOP=0,DIRECTION_RIGHT=1,DIRECTION_BOTTOM=2,DIRECTION_LEFT=3,MATRIX_SCALE=[1,.8,.6,.5],SQUARE_T=0,SQUARE_I=1,SQUARE_L=2,SQUARE_CROSS=3,SQUARE_END=4,SQUARE_START=5,NUM_ROWS_PAGE_LEVEL=3,NUM_COLS_PAGE_LEVEL=4,NUM_LEVELS,MATRIX_SETTINGS=[[[{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_START,rotation:270},{type:SQUARE_T,
rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180}],[{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_START,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180}],[{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:180},
{type:SQUARE_I,rotation:90},{type:SQUARE_START,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_END,rotation:90}],[{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_START,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_END,rotation:90}],[{type:SQUARE_L,rotation:0},{type:SQUARE_START,rotation:90},{type:SQUARE_END,
rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180}],[{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_START,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180}],[{type:SQUARE_L,rotation:0},{type:SQUARE_START,rotation:90},
{type:SQUARE_END,rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180}],[{type:SQUARE_L,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_START,rotation:180},{type:SQUARE_END,rotation:180}],[{type:SQUARE_END,rotation:270},
{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_START,rotation:180}],[{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_START,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_END,rotation:90}]],
[[{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_T,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,
rotation:180},{type:SQUARE_START,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180}],[{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_START,rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:90},
{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180}],[{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_T,
rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_START,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,
rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:180}],[{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_START,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},
{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180}],[{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:180},
{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_START,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_L,
rotation:270},{type:SQUARE_L,rotation:180}],[{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_START,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:270},
{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:180}],[{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_START,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_T,
rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180}],[{type:SQUARE_END,rotation:0},
{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_START,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,
rotation:0},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:180}],[{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_START,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},
{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:180}],[{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,
rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:0},{type:SQUARE_START,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},
{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180}]],[[{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_START,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_L,
rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_T,rotation:180},
{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_L,
rotation:180}],[{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_START,rotation:0},{type:SQUARE_I,rotation:90},
{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_I,
rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:180}],[{type:SQUARE_START,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},
{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,
rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,
rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180}],[{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_END,rotation:90},
{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_START,
rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:180},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_END,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:180},
{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_END,rotation:90}],[{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,
rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_START,rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:0},
{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},
{type:SQUARE_L,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:180}],[{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_END,
rotation:0},{type:SQUARE_START,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_T,
rotation:180},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180}],[{type:SQUARE_L,rotation:0},
{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_START,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_L,
rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},
{type:SQUARE_T,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:180}],[{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,
rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_START,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:0},
{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_L,
rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180}],[{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_T,
rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},
{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_START,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,
rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:180}],[{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:270},
{type:SQUARE_T,rotation:180},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_START,rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,
rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:270},
{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:180}]],[[{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_I,
rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,
rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_START,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_I,rotation:90},
{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:180},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,
rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_END,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_T,rotation:270},
{type:SQUARE_T,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:180}],[{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,
rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_T,
rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,
rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_START,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},
{type:SQUARE_CROSS,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_T,
rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_T,rotation:180},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},
{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180}],[{type:SQUARE_L,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},
{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_I,
rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:270},
{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_START,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_L,
rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,
rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},
{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:180}],[{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,
rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,
rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_START,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,
rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:270},
{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,
rotation:180},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_END,rotation:90}],[{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},
{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_CROSS,
rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_START,rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_L,
rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_CROSS,
rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:0},
{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_L,
rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_END,rotation:90}],[{type:SQUARE_START,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},
{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_END,
rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},
{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_END,
rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_I,
rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},
{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180}],[{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:90},{type:SQUARE_END,
rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,
rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_START,rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,
rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_END,rotation:90},
{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_END,
rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:180}],[{type:SQUARE_START,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_T,
rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:0},
{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_END,
rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,
rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:180},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_T,rotation:90},
{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_END,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,
rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:180}],[{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},
{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_CROSS,rotation:0},
{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:270},{type:SQUARE_L,
rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},
{type:SQUARE_T,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_START,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,
rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},
{type:SQUARE_T,rotation:180},{type:SQUARE_END,rotation:90}],[{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_T,rotation:180},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_END,rotation:90},
{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_L,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_T,rotation:270},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:180},
{type:SQUARE_END,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_START,rotation:0},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:0},{type:SQUARE_T,rotation:270},{type:SQUARE_T,
rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_T,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:0},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:180},{type:SQUARE_I,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_L,
rotation:180},{type:SQUARE_L,rotation:0},{type:SQUARE_L,rotation:180},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_T,rotation:180},{type:SQUARE_END,rotation:90},{type:SQUARE_I,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_CROSS,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_I,
rotation:0},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:90},{type:SQUARE_L,rotation:270},{type:SQUARE_L,rotation:180},{type:SQUARE_END,rotation:180},{type:SQUARE_END,rotation:270},{type:SQUARE_T,rotation:180},{type:SQUARE_T,rotation:180},{type:SQUARE_END,rotation:90},{type:SQUARE_END,rotation:270},{type:SQUARE_I,rotation:0},{type:SQUARE_L,rotation:180}]]],TEXT_HELP1="CONNECT ALL THE WIRES FROM THE BATTERY, TO SWITCH ON EVERY LIGHT",TEXT_HELP2="CLICK ON A PIECE TO ROTATE IT. TRY TO USE LESS SECONDS TO GET MORE POINTS!",
TEXT_SELECT_LEVEL="SELECT LEVEL",TEXT_SELECT="SELECT DIFFICULTY",TEXT_EASY="EASY",TEXT_MEDIUM="MEDIUM",TEXT_HARD="HARD",TEXT_EXTREME="EXTREME",TEXT_LEVEL="LEVEL",TEXT_PTS="PTS",TEXT_TIME="TIME",TEXT_MULTIPLIER="DIFFICULTY BONUS: ",TEXT_YOUR_BEST_SCORE="BEST SCORE: ",TEXT_TOTAL_SCORE="TOTAL SCORE: ",TEXT_CONGRATS="CONGRATULATIONS!",TEXT_YOU_MADE="YOU MADE",TEXT_GAMEOVER="SORRY, TIME'S UP!",TEXT_END_PANEL="YOUR FINAL SCORE",TEXT_ARE_SURE="ARE YOU SURE YOU WANT TO EXIT? ALL UNSAVED PROGRESS WILL BE LOST",
TEXT_DIFFICULTY=[TEXT_EASY,TEXT_MEDIUM,TEXT_HARD,TEXT_EXTREME],TEXT_PRELOADER_CONTINUE="START",TEXT_CREDITS_DEVELOPED="DEVELOPED BY",TEXT_ERR_LS="YOUR WEB BROWSER DOES NOT SUPPORT STORING SETTING LOCALLY. IN SAFARI, THE MOST COMMON CAUSE OF THIS IS USING 'PRIVATE BROWSING MODE'. SOME INFO MAY NOT SAVE OR SOME FEATURE MAY NOT WORK PROPERLY.",TEXT_SHARE_IMAGE="200x200.jpg",TEXT_SHARE_TITLE="Congratulations!",TEXT_SHARE_MSG1="You collected <strong>",TEXT_SHARE_MSG2=" points</strong>!<br><br>Share your score with your friends!",
TEXT_SHARE_SHARE1="My score is ",TEXT_SHARE_SHARE2=" points! Can you do better";
function CPreloader(){var a,c,b,e,g,k,m,f,d,p;this._init=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this);s_oSpriteLibrary.addSprite("progress_bar","./sprites/progress_bar.png");s_oSpriteLibrary.addSprite("200x200","./sprites/200x200.jpg");s_oSpriteLibrary.addSprite("but_start","./sprites/but_start.png");s_oSpriteLibrary.loadSprites();p=new createjs.Container;s_oStage.addChild(p)};this.unload=function(){d.unload();d=null;p.removeAllChildren()};this._onImagesLoaded=
function(){};this._onAllImagesLoaded=function(){this.attachSprites();s_oMain.preloaderReady()};this.attachSprites=function(){var h=new createjs.Shape;h.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);p.addChild(h);h=s_oSpriteLibrary.getSprite("200x200");m=createBitmap(h);m.regX=.5*h.width;m.regY=.5*h.height;m.x=CANVAS_WIDTH_HALF;m.y=CANVAS_HEIGHT_HALF-180;p.addChild(m);f=new createjs.Shape;f.graphics.beginFill("rgba(0,0,0,0.01)").drawRoundRect(m.x-95,m.y-95,190,190,10);p.addChild(f);
m.mask=f;h=s_oSpriteLibrary.getSprite("progress_bar");e=createBitmap(h);e.x=CANVAS_WIDTH_HALF-h.width/2;e.y=CANVAS_HEIGHT_HALF+50;p.addChild(e);a=h.width;c=h.height;g=new createjs.Shape;g.graphics.beginFill("rgba(0,0,0,0.01)").drawRect(e.x,e.y,1,c);p.addChild(g);e.mask=g;b=new createjs.Text("","30px "+PRIMARY_FONT,PRIMARY_FONT_COLOUR);b.x=CANVAS_WIDTH_HALF;b.y=CANVAS_HEIGHT_HALF+100;b.textBaseline="alphabetic";b.textAlign="center";p.addChild(b);h=s_oSpriteLibrary.getSprite("but_start");d=new CTextButton(CANVAS_WIDTH_HALF,
CANVAS_HEIGHT_HALF,h,TEXT_PRELOADER_CONTINUE,"Arial","#000","bold 50",p);d.addEventListener(ON_MOUSE_UP,this._onButStartRelease,this);d.setVisible(!1);k=new createjs.Shape;k.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);p.addChild(k);createjs.Tween.get(k).to({alpha:0},500).call(function(){createjs.Tween.removeTweens(k);p.removeChild(k)})};this._onButStartRelease=function(){s_oMain._onRemovePreloader()};this.refreshLoader=function(f){b.text=f+"%";100===f&&(d.setVisible(!1),b.visible=
!1,e.visible=!1,s_oMain._onRemovePreloader());g.graphics.clear();f=Math.floor(f*a/100);g.graphics.beginFill("rgba(0,0,0,0.01)").drawRect(e.x,e.y,f,c)};this._init()}
function CMain(a){var c,b=0,e=0,g=STATE_LOADING,k,m,f;this.initContainer=function(){s_oCanvas=document.getElementById("canvas");s_oStage=new createjs.Stage(s_oCanvas);s_oStage.preventSelection=!1;createjs.Touch.enable(s_oStage);s_bMobile=jQuery.browser.mobile;!1===s_bMobile&&(s_oStage.enableMouseOver(20),$("body").on("contextmenu","#canvas",function(a){return!1}));s_iPrevTime=(new Date).getTime();createjs.Ticker.addEventListener("tick",this._update);createjs.Ticker.framerate=FPS;navigator.userAgent.match(/Windows Phone/i)&&
(DISABLE_SOUND_MOBILE=!0);s_oSpriteLibrary=new CSpriteLibrary;k=new CPreloader};this.preloaderReady=function(){this._loadImages();!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||this._initSounds();c=!0};this.soundLoaded=function(){b++;k.refreshLoader(Math.floor(b/e*100))};this._initSounds=function(){Howler.mute(!s_bAudioActive);s_aSoundsInfo=[];s_aSoundsInfo.push({path:"./sounds/",filename:"soundtrack",loop:!0,volume:1,ingamename:"soundtrack"});s_aSoundsInfo.push({path:"./sounds/",filename:"click",loop:!1,
volume:1,ingamename:"click"});s_aSoundsInfo.push({path:"./sounds/",filename:"game_win",loop:!1,volume:1,ingamename:"game_win"});s_aSoundsInfo.push({path:"./sounds/",filename:"game_over",loop:!1,volume:1,ingamename:"game_over"});s_aSoundsInfo.push({path:"./sounds/",filename:"light_on",loop:!1,volume:1,ingamename:"light_on"});s_aSoundsInfo.push({path:"./sounds/",filename:"light_off",loop:!1,volume:1,ingamename:"light_off"});s_aSoundsInfo.push({path:"./sounds/",filename:"timer",loop:!1,volume:1,ingamename:"timer"});
s_aSoundsInfo.push({path:"./sounds/",filename:"rotation",loop:!1,volume:1,ingamename:"rotation"});e+=s_aSoundsInfo.length;s_aSounds=[];for(var a=0;a<s_aSoundsInfo.length;a++)this.tryToLoadSound(s_aSoundsInfo[a],!1)};this.tryToLoadSound=function(a,b){setTimeout(function(){s_aSounds[a.ingamename]=new Howl({src:[a.path+a.filename+".mp3"],autoplay:!1,preload:!0,loop:a.loop,volume:a.volume,onload:s_oMain.soundLoaded,onloaderror:function(a,b){for(var c=0;c<s_aSoundsInfo.length;c++)if(a===s_aSounds[s_aSoundsInfo[c].ingamename]._sounds[0]._id){s_oMain.tryToLoadSound(s_aSoundsInfo[c],
!0);break}},onplayerror:function(a){for(var b=0;b<s_aSoundsInfo.length;b++)if(a===s_aSounds[s_aSoundsInfo[b].ingamename]._sounds[0]._id){s_aSounds[s_aSoundsInfo[b].ingamename].once("unlock",function(){s_aSounds[s_aSoundsInfo[b].ingamename].play();"soundtrack"===s_aSoundsInfo[b].ingamename&&null!==s_oGame&&setVolume("soundtrack",SOUNDTRACK_VOLUME_IN_GAME)});break}}})},b?200:0)};this._loadImages=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this);for(var a=0;5>a;a++)s_oSpriteLibrary.addSprite("pipe"+
a,"./sprites/pipe"+a+".png");for(a=0;5>a;a++)s_oSpriteLibrary.addSprite("led_"+a,"./sprites/led_"+a+".png");s_oSpriteLibrary.addSprite("but_exit","./sprites/but_exit.png");s_oSpriteLibrary.addSprite("audio_icon","./sprites/audio_icon.png");s_oSpriteLibrary.addSprite("but_play","./sprites/but_play.png");s_oSpriteLibrary.addSprite("but_restart","./sprites/but_restart.png");s_oSpriteLibrary.addSprite("but_home","./sprites/but_home.png");s_oSpriteLibrary.addSprite("msg_box","./sprites/msg_box.png");s_oSpriteLibrary.addSprite("but_credits",
"./sprites/but_credits.png");s_oSpriteLibrary.addSprite("logo_ctl","./sprites/logo_ctl.png");s_oSpriteLibrary.addSprite("but_fullscreen","./sprites/but_fullscreen.png");s_oSpriteLibrary.addSprite("bg_end_panel","./sprites/bg_end_panel.jpg");s_oSpriteLibrary.addSprite("bg_menu","./sprites/bg_menu.jpg");s_oSpriteLibrary.addSprite("bg_game","./sprites/bg_game.jpg");s_oSpriteLibrary.addSprite("but_menu_bg","./sprites/but_menu_bg.png");s_oSpriteLibrary.addSprite("but_no","./sprites/but_no.png");s_oSpriteLibrary.addSprite("but_yes",
"./sprites/but_yes.png");s_oSpriteLibrary.addSprite("but_level","./sprites/but_level.png");s_oSpriteLibrary.addSprite("but_restart_small","./sprites/but_restart_small.png");s_oSpriteLibrary.addSprite("but_next","./sprites/but_next.png");s_oSpriteLibrary.addSprite("logo_menu","./sprites/logo_menu.png");s_oSpriteLibrary.addSprite("battery","./sprites/battery.png");s_oSpriteLibrary.addSprite("hand_anim","./sprites/hand_anim.png");s_oSpriteLibrary.addSprite("but_arrow_left","./sprites/but_arrow_left.png");
s_oSpriteLibrary.addSprite("but_arrow_right","./sprites/but_arrow_right.png");s_oSpriteLibrary.addSprite("star","./sprites/star.png");e+=s_oSpriteLibrary.getNumSprites();s_oSpriteLibrary.loadSprites()};this._onImagesLoaded=function(){b++;k.refreshLoader(Math.floor(b/e*100))};this._onAllImagesLoaded=function(){};this.onAllPreloaderImagesLoaded=function(){this._loadImages()};this._onRemovePreloader=function(){try{saveItem("ls_available","ok")}catch(p){s_bStorageAvailable=!1}k.unload();s_oSoundtrack=
playSound("soundtrack",1,!0);this.gotoMenu()};this.gotoMenu=function(){m=new CMenu;g=STATE_MENU};this.gotoMenuMode=function(){new CMenuMode;g=STATE_MENU_MODE};this.gotoLevelSelect=function(a){new CLevelSelect(a);g=STATE_LEVEL_SELECT};this.gotoGame=function(a,b){f=new CGame(d,a,b);g=STATE_GAME;$(s_oMain).trigger("start_session")};this.gotoHelp=function(){new CHelp;g=STATE_HELP};this.stopUpdate=function(){c=!1;createjs.Ticker.paused=!0;$("#block_game").css("display","block");s_bAudioActive&&Howler.mute(!0)};
this.startUpdate=function(){s_iPrevTime=(new Date).getTime();c=!0;createjs.Ticker.paused=!1;$("#block_game").css("display","none");s_bAudioActive&&Howler.mute(!1)};this._update=function(a){if(!1!==c){var b=(new Date).getTime();s_iTimeElaps=b-s_iPrevTime;s_iCntTime+=s_iTimeElaps;s_iCntFps++;s_iPrevTime=b;1E3<=s_iCntTime&&(s_iCurFps=s_iCntFps,s_iCntTime-=1E3,s_iCntFps=0);g===STATE_MENU&&m.update();g===STATE_GAME&&f.update();s_oStage.update(a)}};s_oMain=this;var d=a;NUM_COLS=a.num_cols;NUM_ROWS=a.num_rows;
TIME=a.time;SCORE_MULTIPLIER=a.score_multiplier;ENABLE_FULLSCREEN=a.fullscreen;ENABLE_CHECK_ORIENTATION=a.check_orientation;this.initContainer()}var s_bMobile,s_bAudioActive=!1,s_bFullscreen=!1,s_iCntTime=0,s_iTimeElaps=0,s_iPrevTime=0,s_iCntFps=0,s_iCurFps=0,s_szCurDraw,s_oDrawLayer,s_oStage,s_oMain,s_oSpriteLibrary,s_oSoundTrack=null,s_aSoundsInfo,s_aSounds,s_oCanvas,s_iTotalScore=0,s_aBestScore=[0,0,0,0],s_aLastLevel=[1,1,1,1],s_aLevelStars=[],s_bStorageAvailable=!0;
function CMenu(){var a,c,b,e,g,k,m,f,d,p,h,r,n,y,v=null,u=null;this._init=function(){m=new createjs.Container;s_oStage.addChild(m);f=createBitmap(s_oSpriteLibrary.getSprite("bg_menu"));m.addChild(f);this.initLeds();var q=s_oSpriteLibrary.getSprite("logo_menu");d=createBitmap(q);d.regX=q.width/2;d.regY=q.height/2;d.x=CANVAS_WIDTH_HALF;d.y=-150;createjs.Tween.get(d,{loop:!1}).to({y:CANVAS_HEIGHT_HALF-150},1E3,createjs.Ease.cubicOut);m.addChild(d);q=s_oSpriteLibrary.getSprite("but_play");p=new CGfxButton(CANVAS_WIDTH_HALF,
CANVAS_HEIGHT+150,q,m);p.addEventListener(ON_MOUSE_UP,this._onButPlayRelease,this);createjs.Tween.get(p.getSprite(),{loop:!1}).to({y:CANVAS_HEIGHT_HALF+250},1E3,createjs.Ease.cubicOut);q=s_oSpriteLibrary.getSprite("but_credits");b=20+q.width/2;e=q.height/2+10;n=new CGfxButton(b,e,q,m);n.addEventListener(ON_MOUSE_UP,this._onCredits,this);if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)q=s_oSpriteLibrary.getSprite("audio_icon"),g=CANVAS_WIDTH-q.width/4-20,k=q.height/2+10,r=new CToggle(g,k,q,s_bAudioActive,
m),r.addEventListener(ON_MOUSE_UP,this._onAudioToggle,this);q=window.document;var z=q.documentElement;v=z.requestFullscreen||z.mozRequestFullScreen||z.webkitRequestFullScreen||z.msRequestFullscreen;u=q.exitFullscreen||q.mozCancelFullScreen||q.webkitExitFullscreen||q.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(v=!1);v&&screenfull.enabled&&(q=s_oSpriteLibrary.getSprite("but_fullscreen"),a=b+q.width/2+10,c=e,y=new CToggle(a,c,q,s_bFullscreen,m),y.addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,
this));h=new createjs.Shape;h.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);m.addChild(h);createjs.Tween.get(h).to({alpha:0},1E3).call(function(){m.removeChild(h)});if(s_bStorageAvailable){q=getItem("lights_total_score");s_iTotalScore=null!==q&&void 0!==q?parseInt(q):0;q=getItemJson("lights_best_score");s_aBestScore=null!==q&&void 0!==q?q:[0,0,0,0];q=getItemJson("lights_last_level");s_aLastLevel=null!==q&&void 0!==s_aLastLevel?q:[1,1,1,1];if(void 0===s_aLevelStars||null===s_aLevelStars)for(s_aLevelStars=
[],q=0;4>q;q++)for(z=0;z<MATRIX_SETTINGS[q].length;z++)s_aLevelStars[q].push(0);q=getItemJson("lights_level_stars");null!==q&&void 0!==s_aLevelStars&&(s_aLevelStars=q)}else new CMsgBox(TEXT_ERR_LS,m);this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};this.initLeds=function(){var a=CANVAS_HEIGHT_HALF-10,b=[CANVAS_WIDTH_HALF-300,CANVAS_WIDTH_HALF,CANVAS_WIDTH_HALF+300,CANVAS_WIDTH_HALF-300,CANVAS_WIDTH_HALF,CANVAS_WIDTH_HALF+300];a=[a,a,a,a-250,a-250,a-250];for(var c=0;6>c;c++){var d=b[c],e=a[c];var f={images:[s_oSpriteLibrary.getSprite("led_"+
Math.floor(4*Math.random()+1))],frames:{width:141,height:165},animations:{PIPE_END_ON:[1,9,"LED_TURN_OFF"],LED_TURN_OFF:{frames:[9,8,7,6,5,4,3,2,1],next:"PIPE_END_ON"}},framerate:Math.floor(30*Math.random()+15)};f=new createjs.SpriteSheet(f);f=createSprite(f,"PIPE_END_ON",0,0,141,165);f.regX=68.5;f.regY=102.5;f.scaleX=f.scaleY=.7;f.x=d;f.y=e;m.addChild(f)}};this.unload=function(){p.unload();p=null;n.unload();m.removeChild(f);if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)r.unload(),r=null;v&&screenfull.enabled&&
y.unload();s_oMenu=null};this.refreshButtonPos=function(d,f){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||r.setPosition(g-d,k+f);v&&screenfull.enabled&&y.setPosition(a+d,c+f);n.setPosition(b+d,e+f)};this.resetFullscreenBut=function(){v&&screenfull.enabled&&y.setActive(s_bFullscreen)};this.exitFromCredits=function(){};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this._onCredits=function(){new CCreditsPanel};this._onButPlayRelease=function(){this.unload();
s_oMain.gotoMenuMode()};this._onFullscreenRelease=function(){s_bFullscreen?u.call(window.document):v.call(window.document.documentElement);sizeHandler()};this.update=function(){};s_oMenu=this;this._init()}var s_oMenu=null;
function CMenuMode(){var a,c,b,e,g,k,m=null,f=null,d,p,h,r,n,y,v,u,q,z;this._init=function(){d=new createjs.Container;s_oStage.addChild(d);p=createBitmap(s_oSpriteLibrary.getSprite("bg_menu"));d.addChild(p);new CTLText(d,CANVAS_WIDTH/2-300,-200+CANVAS_HEIGHT/2-30,600,60,48,"center",PRIMARY_FONT_COLOUR,PRIMARY_FONT,1,2,2,TEXT_SELECT,!0,!0,!0,!1);var B=CANVAS_WIDTH_HALF,C=CANVAS_HEIGHT_HALF-80,F=CANVAS_HEIGHT_HALF+50,A=CANVAS_HEIGHT_HALF+180,H=CANVAS_HEIGHT_HALF+310,G=s_oSpriteLibrary.getSprite("but_menu_bg");
v=new CTextButton(B,C,G,TEXT_EASY,PRIMARY_FONT,PRIMARY_FONT_COLOUR,36,d);v.addEventListenerWithParams(ON_MOUSE_UP,this._onButPlayRelease,this,MODE_EASY);u=new CTextButton(B,F,G,TEXT_MEDIUM,PRIMARY_FONT,PRIMARY_FONT_COLOUR,36,d);u.addEventListenerWithParams(ON_MOUSE_UP,this._onButPlayRelease,this,MODE_MEDIUM);q=new CTextButton(B,A,G,TEXT_HARD,PRIMARY_FONT,PRIMARY_FONT_COLOUR,36,d);q.addEventListenerWithParams(ON_MOUSE_UP,this._onButPlayRelease,this,MODE_HARD);z=new CTextButton(B,H,G,TEXT_EXTREME,PRIMARY_FONT,
PRIMARY_FONT_COLOUR,36,d);z.addEventListenerWithParams(ON_MOUSE_UP,this._onButPlayRelease,this,MODE_EXTREME);B=s_oSpriteLibrary.getSprite("but_exit");g=CANVAS_WIDTH-B.width/2-20;k=B.height/2+10;n=new CGfxButton(g,k,B,d);n.addEventListener(ON_MOUSE_UP,this._onExit,this);_iHeightToggle=B.height;!1===DISABLE_SOUND_MOBILE||!1===s_bMobile?(C=s_oSpriteLibrary.getSprite("audio_icon"),b=g-B.width/2-C.width/4,e=k,r=new CToggle(b,e,C,s_bAudioActive,d),r.addEventListener(ON_MOUSE_UP,this._onAudioToggle,this),
a=20+C.width/4,c=C.height/2+10):(a=g-B.width-10,c=k);B=window.document;C=B.documentElement;m=C.requestFullscreen||C.mozRequestFullScreen||C.webkitRequestFullScreen||C.msRequestFullscreen;f=B.exitFullscreen||B.mozCancelFullScreen||B.webkitExitFullscreen||B.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(m=!1);m&&screenfull.enabled&&(C=s_oSpriteLibrary.getSprite("but_fullscreen"),y=new CToggle(a,c,C,s_bFullscreen,d),y.addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,this));h=new createjs.Shape;h.graphics.beginFill("black").drawRect(0,
0,CANVAS_WIDTH,CANVAS_HEIGHT);s_oStage.addChild(h);createjs.Tween.get(h).to({alpha:0},1E3).call(function(){d.removeChild(h)});this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};this.unload=function(){v.unload();u.unload();q.unload();z.unload();z=q=u=v=null;d.removeChild(p);p=null;n.unload();n=null;s_oStage.removeChild(d);if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)r.unload(),r=null;m&&screenfull.enabled&&y.unload();s_oMenuMode=null};this.refreshButtonPos=function(d,f){!1!==DISABLE_SOUND_MOBILE&&!1!==
s_bMobile||r.setPosition(b-d,e+f);m&&screenfull.enabled&&y.setPosition(a-d,c+f);n.setPosition(g-d,k+f)};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this._onButPlayRelease=function(a){this.unload();s_oMain.gotoLevelSelect(a)};this._onExit=function(){this.unload();s_oMain.gotoMenu()};this._onFullscreenRelease=function(){s_bFullscreen?f.call(window.document):m.call(window.document.documentElement);sizeHandler()};this.resetFullscreenBut=function(){m&&screenfull.enabled&&
y.setActive(s_bFullscreen)};s_oMenuMode=this;this._init()}var s_oMenuMode=null;
function CLevelBut(a,c,b,e,g,k){var m,f,d,p=[],h=[],r,n,y,v;this._init=function(a,b,c,e,g){f=[];d=[];v=new createjs.Container;u.addChild(v);var h=new createjs.SpriteSheet({images:[e],frames:{width:e.width/2,height:e.height,regX:e.width/2/2,regY:e.height/2},animations:{state_true:[0],state_false:[1]}});m=g;y=createSprite(h,"state_"+m,e.width/2/2,e.height/2,e.width/2,e.height);y.mouseEnabled=g;y.x=a;y.y=b;y.stop();v.addChild(y);p.push(y);r=new createjs.Text(c,"bold 50px "+PRIMARY_FONT,SECONDARY_FONT_COLOUR);
r.x=a;r.y=b+12;r.textAlign="center";r.textBaseline="alphabetic";r.lineWidth=200;r.outline=6;v.addChild(r);n=new createjs.Text(c,"bold 50px "+PRIMARY_FONT,PRIMARY_FONT_COLOUR);n.x=r.x;n.y=r.y;n.textAlign="center";n.textBaseline="alphabetic";n.lineWidth=200;v.addChild(n);g?s_bMobile||(v.cursor="pointer"):(n.color="#b4b4b4",r.color="#606161");this._initListener()};this.unload=function(){v.off("mousedown",this.buttonDown);v.off("pressup",this.buttonRelease);v.removeAllEventListeners();v.cursor="arrow";
v.removeChild(y);v=null};this._initListener=function(){v.on("mousedown",this.buttonDown);v.on("pressup",this.buttonRelease)};this.viewBut=function(a){v.addChild(a)};this.addEventListener=function(a,b,c){f[a]=b;d[a]=c};this.addEventListenerWithParams=function(a,b,c,e){f[a]=b;d[a]=c;h=e};this.ifClickable=function(){if(null!==v)return!0===v.mouseEnabled?1:0};this.setActive=function(a,b){m=b;p[a].gotoAndStop("state_"+m);p[a].mouseEnabled=!0;m?(n.color="#69b8d5",r.color="#004e6f"):(n.color="#b4b4b4",r.color=
"#606161")};this.buttonRelease=function(){m&&(playSound("click",1,!1),f[ON_MOUSE_UP]&&f[ON_MOUSE_UP].call(d[ON_MOUSE_UP],h))};this.buttonDown=function(){f[ON_MOUSE_DOWN]&&f[ON_MOUSE_DOWN].call(d[ON_MOUSE_DOWN],h)};this.setPosition=function(a,b){v.x=a;v.y=b};this.setVisible=function(a){v.visible=a};var u=k;this._init(a,c,b,e,g,k)}
function CLevelSelect(a){var c,b,e,g,k,m,f,d,p,h,r,n,y,v,u,q,z,B=null,C=null,F,A,H,G,x=null,Q=null;this._init=function(){f=a;d=0;y=[];NUM_LEVELS=MATRIX_SETTINGS[f].length;H=new createjs.Container;s_oStage.addChild(H);v=createBitmap(s_oSpriteLibrary.getSprite("bg_menu"));H.addChild(v);var h=600;new CTLText(H,CANVAS_WIDTH/2-h/2,-300+CANVAS_HEIGHT/2-30,h,60,48,"center",PRIMARY_FONT_COLOUR,PRIMARY_FONT,1,2,2,TEXT_SELECT_LEVEL,!0,!0,!0,!1);F=new createjs.Text(TEXT_TOTAL_SCORE+s_iTotalScore," 30px "+PRIMARY_FONT,
SECONDARY_FONT_COLOUR);F.textAlign="center";F.lineWidth=800;F.textBaseline="middle";F.x=CANVAS_WIDTH_HALF+2;F.y=CANVAS_HEIGHT_HALF+358;H.addChild(F);A=new createjs.Text(TEXT_TOTAL_SCORE+s_iTotalScore," 30px "+PRIMARY_FONT,PRIMARY_FONT_COLOUR);A.textAlign="center";A.lineWidth=800;A.textBaseline="middle";A.x=CANVAS_WIDTH_HALF;A.y=CANVAS_HEIGHT_HALF+360;H.addChild(A);h=s_oSpriteLibrary.getSprite("but_exit");k=CANVAS_WIDTH-h.width/2-20;m=h.height/2+10;q=new CGfxButton(k,m,h,H);q.addEventListener(ON_MOUSE_UP,
this._onExit,this);p=h.height;if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile){var I=s_oSpriteLibrary.getSprite("audio_icon");e=k-h.width/2-I.width/4;g=m;z=new CToggle(e,g,I,s_bAudioActive,H);z.addEventListener(ON_MOUSE_UP,this._onAudioToggle,this);c=20+I.width/4;b=I.height/2+10}else c=k-h.width-10,b=m;h=window.document;I=h.documentElement;x=I.requestFullscreen||I.mozRequestFullScreen||I.webkitRequestFullScreen||I.msRequestFullscreen;Q=h.exitFullscreen||h.mozCancelFullScreen||h.webkitExitFullscreen||
h.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(x=!1);x&&screenfull.enabled&&(I=s_oSpriteLibrary.getSprite("but_fullscreen"),G=new CToggle(c,b,I,s_bFullscreen,H),G.addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,this));u=new createjs.Shape;u.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);s_oStage.addChild(u);createjs.Tween.get(u).to({alpha:0},1E3).call(function(){H.removeChild(u)});this.refreshButtonPos(s_iOffsetX,s_iOffsetY);this._checkBoundLimits();r=[];h=CANVAS_WIDTH-2*
EDGEBOARD_X;h=Math.floor(h/NUM_COLS_PAGE_LEVEL)/2;for(var R=I=0;R<NUM_COLS_PAGE_LEVEL;R++)r.push(I),I+=2*h;n=[];this._createNewLevelPage(0,NUM_LEVELS);if(1<n.length){for(h=1;h<n.length;h++)n[h].visible=!1;h=280;B=new CGfxButton(CANVAS_WIDTH_HALF+h,CANVAS_HEIGHT_HALF+350,s_oSpriteLibrary.getSprite("but_arrow_right"),H);B.addEventListener(ON_MOUSE_UP,this._onRight,this);C=new CGfxButton(CANVAS_WIDTH_HALF-h,CANVAS_HEIGHT_HALF+350,s_oSpriteLibrary.getSprite("but_arrow_left"),H);C.addEventListener(ON_MOUSE_UP,
this._onLeft,this)}this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};this._onExit=function(){this.unload();s_oMain.gotoMenuMode()};this._checkBoundLimits=function(){for(var a=s_oSpriteLibrary.getSprite("but_level"),b=0,c=CANVAS_HEIGHT-2*EDGEBOARD_Y-2*p,d=0;b<c;)b+=a.height+20,d++;NUM_ROWS_PAGE_LEVEL>d&&(NUM_ROWS_PAGE_LEVEL=d);c=b=0;d=CANVAS_WIDTH-2*EDGEBOARD_X;for(a=s_oSpriteLibrary.getSprite("but_level");c<d;)c+=a.width/2+5,b++;NUM_COLS_PAGE_LEVEL>b&&(NUM_COLS_PAGE_LEVEL=b)};this._createNewLevelPage=
function(a,b){var c=new createjs.Container;H.addChild(c);n.push(c);h=[];for(var d=0,e=0,g=1,k=!1,m=s_oSpriteLibrary.getSprite("but_level"),p=s_aLastLevel[f],l=a;l<b;l++){var A=r[d]+m.width/4,x=e+m.height/2,q=new CLevelBut(A,x,l+1,m,l+1>p?!1:!0,c);q.addEventListenerWithParams(ON_MOUSE_UP,this._onButLevelRelease,this,l);h.push(q);this.addStars(l,A,x,c);d++;if(d===r.length&&(d=0,e+=m.height+20,g++,g>NUM_ROWS_PAGE_LEVEL)){k=!0;break}}d=c.getBounds();c.x=CANVAS_WIDTH_HALF;c.y=CANVAS_HEIGHT_HALF;c.regX=
d.width/2;c.regY=d.height/2;k&&this._createNewLevelPage(l+1,b)};this.addStars=function(a,b,c,d){for(var e=0;3>e;e++){var h={images:[s_oSpriteLibrary.getSprite("star")],frames:{width:70,height:70,regX:35,regY:35},animations:{off:[0],on:[1]}};h=new createjs.SpriteSheet(h);h=createSprite(h,"off",35,35,70,70);h.scaleX=h.scaleY=.5;y.push(h);h.x=b+[-40,0,40][e];h.y=c-55;var g=s_aLevelStars[f];void 0!==g&&null!==g&&g[a]>e&&h.gotoAndPlay("on");d.addChild(h)}};this._onRight=function(){n[d].visible=!1;d++;
d>=n.length&&(d=0);n[d].visible=!0};this._onLeft=function(){n[d].visible=!1;d--;0>d&&(d=n.length-1);n[d].visible=!0};this.unload=function(){for(var a=0;a<h.length;a++)h[a].unload();for(a=0;a<y.length;a++)H.removeChild(y[a]);null!==C&&(C.unload(),C=null);null!==B&&(B.unload(),B=null);H.removeChild(v);v=null;q.unload();q=null;if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)z.unload(),z=null;x&&screenfull.enabled&&(G.unload(),G=null);s_oLevelSelect=null};this.refreshButtonPos=function(a,d){!1!==DISABLE_SOUND_MOBILE&&
!1!==s_bMobile||z.setPosition(e-a,g+d);x&&screenfull.enabled&&G.setPosition(c-a,b+d);q.setPosition(k-a,m+d)};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this._onButLevelRelease=function(a){isIOS()&&null===s_oSoundTrack||playSound("click",1,!1);h[a].ifClickable()&&(this.unload(),s_oMain.gotoGame(f,a))};this._onFullscreenRelease=function(){s_bFullscreen?Q.call(window.document):x.call(window.document.documentElement);sizeHandler()};this.resetFullscreenBut=
function(){x&&screenfull.enabled&&G.setActive(s_bFullscreen)};s_oLevelSelect=this;this._init()}var s_oLevelSelect=null;
function CGame(a,c,b){var e,g,k,m,f,d,p,h,r,n,y,v,u,q,z,B,C,F,A,H,G;this._init=function(){u=new createjs.Container;s_oStage.addChild(u);$(s_oMain).trigger("start_level",h+1);d=c;h=b;this.resetVariables();var a=createBitmap(s_oSpriteLibrary.getSprite("bg_game"));a.cache;C=new createjs.Container;u.addChild(a,C);H=new createjs.Container;F=new createjs.Container;A=new createjs.Container;C.addChild(H,F,A);this.initMatrix();q=new CInterface(d,h);q.initInterfacesText();0===h?CHelpPanel():this._onExitHelp()};
this.resetVariables=function(){z=null;e=!1;k=!0;m=g=!1;f=0;p=TIME[d];y=n=r=0;v=s_iTotalScore;G=[];setVolume("soundtrack",SOUNDTRACK_VOLUME_IN_GAME)};this.initMatrix=function(){B=new CMatrix(d,h,F,A,H);G=B.getSquares();for(var a=0;a<G.length;a++)G[a].checkSquareType(),G[a].setRotatingSquare();s_oGame.startCheck();this.arrangeMatrix();a=F.getBounds();F.cache(F.x-a.width/2,F.y-a.height/2,1.5*a.width,1.5*a.height)};this.arrangeMatrix=function(){var a=MATRIX_SCALE[d],b=SQUARE_SIZE/2*a;C.scaleX=C.scaleY=
a;a=C.getBounds();C.regX=a.width/2;C.regY=a.height/2;C.x=CANVAS_WIDTH_HALF+b;C.y=CANVAS_HEIGHT_HALF+b};this.updateCache=function(){F.updateCache()};this.onRotationFinished=function(a,b){s_oMatrix.findSquare(a,b).onRotationFinished()};this.setMoving=function(a){m=a};this.isMoving=function(){return m};this.unload=function(){q.unload();createjs.Tween.removeAllTweens();s_oStage.removeAllChildren();s_oGame=null};this.updateScores=function(){f=Math.ceil((TIME[d]-y)/100)*SCORE_MULTIPLIER[d];0>f&&(f=0);s_iTotalScore=
v+=f;saveItem("lights_total_score",s_iTotalScore);f>s_aBestScore[d]&&(s_aBestScore[d]=f,setItemJson("lights_best_score",s_aBestScore));this.updateLastLevel();this.updateLevelStars()};this.updateLastLevel=function(){h+2>s_aLastLevel[d]&&(s_aLastLevel[d]=h+2,setItemJson("lights_last_level",s_aLastLevel))};this.updateLevelStars=function(){var a=s_aLevelStars[d];if(void 0===a||null===a){a=[];for(var b=0;b<MATRIX_SETTINGS[d].length;b++)a.push(0)}p<=TIME[d]/3?n=1:p<=TIME[d]/3*2&&p>TIME[d]/3?n=2:p>TIME[d]/
3*2&&(n=3);n>a[h]&&(a[h]=n,s_aLevelStars[d]=a,setItemJson("lights_level_stars",s_aLevelStars))};this._checkWin=function(){playSound("game_win",.5,!1);stopSound("soundtrack");stopSound("timer");setTimeout(function(){playSound("soundtrack",.5,!1)},5E3);g&&null===z&&(this.updateScores(),z=new CWinPanel(d,y,h,n),$(s_oMain).trigger("share_event",f),$(s_oMain).trigger("save_score",s_iTotalScore))};this.onExit=function(){setVolume("soundtrack",1);s_oGame.unload();s_oMain.gotoMenu();$(s_oMain).trigger("end_session");
$(s_oMain).trigger("show_interlevel_ad")};this.restart=function(){setVolume("soundtrack",SOUNDTRACK_VOLUME_IN_GAME);$(s_oMain).trigger("restart_level",h+1);F.uncache();this.resetVariables();q.refreshPointsText(TIME[d]/10);q.refreshLevelText(h+1);B.unload();this.initMatrix();s_oStage.update();this._onExitHelp()};this._onExitHelp=function(){e=!0};this.gameOver=function(){e=!1;n=f=0;null===z&&(playSound("game_over",.5,!1),stopSound("soundtrack"),setTimeout(function(){playSound("soundtrack",.5,!1)},5E3),
z=new CEndPanel(d),$(s_oMain).trigger("share_event",s_iTotalScore),$(s_oMain).trigger("save_score",s_iTotalScore))};this.updateTimer=function(){0<p&&e&&!this._bDisableEvents&&(p-=s_iTimeElaps,q.refreshTimer(Math.ceil(p/1E3)),y=Math.ceil((TIME[d]-p)/10),q.refreshPointsText(Math.ceil((TIME[d]-y)/100)))};this.startCheck=function(){for(var a,b,c=0;c<G.length;c++){var d=G[c];!0===d.isStartSquare()?(a=d.getRow(),b=d.getColumn()):d.turnOnSquare(!1)}r=0;this.checkMatrix(a,b);this.checkLeds()};this.checkMatrix=
function(a,b,c){var d=s_oMatrix.findSquare(b,a);if(!0!==d.isChecked()||!0!==d.isTurnedOn()){d.setChecked(!0);var e=d.getOpenings();if(void 0!==c){if(!1===e[c])return;d.turnOnSquare(!0)}this.checkConnections(e,a,b);r++;this.checkForWin()}};this.checkLeds=function(){for(var a=0;a<G.length;a++){var b=G[a],c=b.isTurnedOn();b.turnOnLed(c)}};this.checkConnections=function(a,b,c){!0===a[DIRECTION_TOP]&&0<=b-1&&this.checkMatrix(b-1,c,DIRECTION_BOTTOM);!0===a[DIRECTION_RIGHT]&&c+1<NUM_COLS[d]&&this.checkMatrix(b,
c+1,DIRECTION_LEFT);!0===a[DIRECTION_BOTTOM]&&b+1<NUM_ROWS[d]&&this.checkMatrix(b+1,c,DIRECTION_TOP);!0===a[DIRECTION_LEFT]&&0<=c-1&&this.checkMatrix(b,c-1,DIRECTION_RIGHT)};this.checkForWin=function(){r===G.length&&(e=!1,g=!0,this._checkWin())};this.isStartGame=function(){return e};this.update=function(){0<p?(this.updateTimer(),e&&p<TIMER_REMINDER&&!0===k&&(playSound("timer",1,!0),k=!1)):(f=p=0,stopSound("timer"),this.gameOver())};s_oGame=this;this._init()}var s_oGame;
function CSquare(a,c,b,e,g,k,m){var f,d,p,h,r,n,y,v,u,q,z,B,C,F;this._init=function(){f=g;d=k;p=m;v=a;u=c;q=b;z=e;C=B=!1;this.initSquare();h.on("pressup",this.onClickedSquare);s_bMobile||(h.cursor="pointer")};this.initSquare=function(){var b={images:[s_oSpriteLibrary.getSprite("pipe0"),s_oSpriteLibrary.getSprite("pipe1"),s_oSpriteLibrary.getSprite("pipe2"),s_oSpriteLibrary.getSprite("pipe3"),s_oSpriteLibrary.getSprite("pipe4")],frames:{width:SQUARE_SIZE,height:SQUARE_SIZE},animations:{PIPE_0_OFF:[0,
0,!1],PIPE_0_ON:[1,1,!1],PIPE_1_OFF:[2,2,!1],PIPE_1_ON:[3,3,!1],PIPE_2_OFF:[4,4,!1],PIPE_2_ON:[5,5,!1],PIPE_3_OFF:[6,6,!1],PIPE_3_ON:[7,7,!1],PIPE_4_OFF:[8,8,!1],PIPE_4_ON:[9,9,!1]},framerate:30},d="PIPE_0_OFF PIPE_1_OFF PIPE_2_OFF PIPE_3_OFF PIPE_4_OFF PIPE_4_ON".split(" ");b=new createjs.SpriteSheet(b);h=createSprite(b,d[q],0,0,SQUARE_SIZE,SQUARE_SIZE);h.regX=h.regY=SQUARE_SIZE/2;h.x=SQUARE_SIZE*v;h.y=SQUARE_SIZE*u;h.rotation=z;h.gotoAndPlay(d[q]);f.addChild(h);y=new CRotatingSquare(a,c,d[q],e,
p)};this.setRotatingSquare=function(){y.setRotation(h.rotation)};this.setEndSquareAnimations=function(){var a={images:[s_oSpriteLibrary.getSprite("led_"+Math.floor(4*Math.random()+1))],frames:{width:141,height:165},animations:{PIPE_END_OFF:[0,0,!1],LED_TURN_ON:[1,9,!1],LED_TURN_OFF:{frames:[9,8,7,6,5,4,3,2,1,0],next:!1}},framerate:30};a=new createjs.SpriteSheet(a);n=createSprite(a,"PIPE_END_OFF",0,0,141,165);n.regX=68.5;n.regY=102.5;n.x=h.x;n.y=h.y;d.addChild(n)};this.setStartSquareAnimations=function(){var a=
{images:[s_oSpriteLibrary.getSprite("battery")],frames:{width:SQUARE_SIZE,height:SQUARE_SIZE},animations:{idle:[0,49,"idle"]},framerate:30};a=new createjs.SpriteSheet(a);r=createSprite(a,"idle",0,0,SQUARE_SIZE,SQUARE_SIZE);r.regX=r.regY=SQUARE_SIZE/2;r.x=h.x;r.y=h.y;d.addChild(r);B=!0};this.checkSquareType=function(){switch(q){case SQUARE_END:this.setEndSquareAnimations();break;case SQUARE_START:this.setStartSquareAnimations()}};this.onClickedSquare=function(){if(!1!==s_oGame.isStartGame()&&!0!==
s_oGame.isMoving()){s_oGame.setMoving(!0);s_oMatrix.resetCheck();h.visible=!1;s_oGame.updateCache();var a=h.rotation+90;y.initRotation(a);h.rotation=a;360<=h.rotation&&(h.rotation=0);playSound("rotation",.8,!1)}};this.onRotationFinished=function(){h.visible=!0;y.stopRotation();s_oGame.setMoving(!1)};this.getOpenings=function(){var a=[],b=h.rotation/90;switch(q){case SQUARE_T:a=[[!1,!0,!0,!0],[!0,!1,!0,!0],[!0,!0,!1,!0],[!0,!0,!0,!1]];a=a[b];break;case SQUARE_I:a=[[!1,!0,!1,!0],[!0,!1,!0,!1],[!1,!0,
!1,!0],[!0,!1,!0,!1]];a=a[b];break;case SQUARE_L:a=[[!1,!0,!0,!1],[!1,!1,!0,!0],[!0,!1,!1,!0],[!0,!0,!1,!1]];a=a[b];break;case SQUARE_CROSS:a=[!0,!0,!0,!0];break;case SQUARE_END:case SQUARE_START:a=[[!1,!1,!0,!1],[!1,!1,!1,!0],[!0,!1,!1,!1],[!1,!0,!1,!1]],a=a[b]}return a};this.isStartSquare=function(){return q===SQUARE_START?!0:!1};this.getColumn=function(){return v};this.getRow=function(){return u};this.randomizeSquare=function(){for(;h.rotation===z;)h.rotation=90*Math.floor(3*Math.random());B=q===
SQUARE_START?!0:h.rotation===z?!0:!1};this.getType=function(){return q};this.getRotation=function(){return h.rotation};this.turnOnLed=function(a){q===SQUARE_END&&(!0===a&&!1===C&&(C=!0,!0===s_oGame.isStartGame()&&!1===soundPlaying("light_on")&&playSound("light_on",.8,!1),n.gotoAndPlay("LED_TURN_ON")),!1===a&&!0===C&&(C=!1,!0===s_oGame.isStartGame()&&!1===soundPlaying("light_off")&&playSound("light_off",1,!1),n.gotoAndPlay("LED_TURN_OFF")))};this.turnOnSquare=function(a){q!==SQUARE_START&&(h.gotoAndPlay("PIPE_"+
q+(!0===a?"_ON":"_OFF")),B=a)};this.isTurnedOn=function(){return B};this.isChecked=function(){return F};this.setChecked=function(a){F=a};this.unload=function(){createjs.Tween.removeAllTweens();f.removeChild(h);d.removeChild(n,r);n=r=null;y.unload()};this._init()}
function CRotatingSquare(a,c,b,e,g){var k,m,f,d,p,h;this._init=function(){m=g;f=a;d=c;h=b;p=e;var r={images:[s_oSpriteLibrary.getSprite("pipe0"),s_oSpriteLibrary.getSprite("pipe1"),s_oSpriteLibrary.getSprite("pipe2"),s_oSpriteLibrary.getSprite("pipe3"),s_oSpriteLibrary.getSprite("pipe4")],frames:{width:SQUARE_SIZE,height:SQUARE_SIZE},animations:{PIPE_0_OFF:[0,0,!1],PIPE_0_ON:[1,1,!1],PIPE_1_OFF:[2,2,!1],PIPE_1_ON:[3,3,!1],PIPE_2_OFF:[4,4,!1],PIPE_2_ON:[5,5,!1],PIPE_3_OFF:[6,6,!1],PIPE_3_ON:[7,7,!1],
PIPE_4_OFF:[8,8,!1],PIPE_4_ON:[9,9,!1]},framerate:30};r=new createjs.SpriteSheet(r);k=createSprite(r,h,0,0,SQUARE_SIZE,SQUARE_SIZE);k.regX=k.regY=SQUARE_SIZE/2;k.x=SQUARE_SIZE*f;k.y=SQUARE_SIZE*d;k.rotation=p;k.alpha=.01;k.gotoAndPlay(h);m.addChild(k);createjs.Tween.get(k)};this.setRotation=function(a){k.rotation=a};this.initRotation=function(a){k.alpha=1;createjs.Tween.get(k).to({rotation:a},200,createjs.Ease.cubicOut).call(function(){s_oGame.onRotationFinished(f,d)})};this.stopRotation=function(){k.alpha=
.01;360<=k.rotation&&(k.rotation=0);s_oGame.startCheck();s_oGame.updateCache()};this.unload=function(){createjs.Tween.removeAllTweens();m.removeChild(k)};this._init()}
function CMatrix(a,c,b,e,g){var k,m,f,d,p,h;this._init=function(){k=a;m=c;d=b;p=e;h=g;f=[];for(var r=MATRIX_SETTINGS[k][m],n=0,y=0;y<NUM_ROWS[k];y++)for(var v=0;v<NUM_COLS[k];v++){var u=r[n];u=new CSquare(v,y,u.type,u.rotation,d,p,h);f.push(u);n++;u.randomizeSquare()}};this.getSquares=function(){return f};this.findSquare=function(a,b){for(var c=0;c<f.length;c++)if(f[c].getColumn()===a&&f[c].getRow()===b)return f[c]};this.resetCheck=function(){for(var a=0;a<f.length;a++)f[a].setChecked(!1)};this.unload=
function(){createjs.Tween.removeAllTweens();for(var a=0;a<f.length;a++)f[a].unload();s_oMatrix=null};s_oMatrix=this;this._init()}var s_oMatrix;
function CTextButton(a,c,b,e,g,k,m,f){var d,p,h,r,n,y,v,u,q,z;this._init=function(a,b,c,e,g,k,m){d=!1;p=1;h=[];r=[];z=createBitmap(c);u=new createjs.Container;u.x=a;u.y=b;u.regX=c.width/2;u.regY=c.height/2;s_bMobile||(u.cursor="pointer");u.addChild(z,q);f.addChild(u);q=new CTLText(u,40,0,c.width-80,c.height-10,m,"center",k,g,1,2,2,e,!0,!0,!1,!1);this._initListener()};this.unload=function(){u.off("mousedown",n);u.off("pressup",y);f.removeChild(u)};this.setVisible=function(a){u.visible=a};this.setAlign=
function(a){q.textAlign=a};this.setTextX=function(a){q.x=a};this.setScale=function(a){p=u.scaleX=u.scaleY=a};this.enable=function(){d=!1};this.disable=function(){d=!0};this._initListener=function(){n=u.on("mousedown",this.buttonDown);y=u.on("pressup",this.buttonRelease)};this.addEventListener=function(a,b,c){h[a]=b;r[a]=c};this.addEventListenerWithParams=function(a,b,c,d){h[a]=b;r[a]=c;v=d};this.buttonRelease=function(){d||(playSound("click",1,!1),u.scaleX=p,u.scaleY=p,h[ON_MOUSE_UP]&&h[ON_MOUSE_UP].call(r[ON_MOUSE_UP],
v))};this.buttonDown=function(){d||(u.scaleX=.9*p,u.scaleY=.9*p,h[ON_MOUSE_DOWN]&&h[ON_MOUSE_DOWN].call(r[ON_MOUSE_DOWN]))};this.setPosition=function(a,b){u.x=a;u.y=b};this.tweenPosition=function(a,b,c,d,e,f,h){createjs.Tween.get(u).wait(d).to({x:a,y:b},c,e).call(function(){void 0!==f&&f.call(h)})};this.changeText=function(a){q.refreshText(a)};this.setX=function(a){u.x=a};this.setY=function(a){u.y=a};this.getButtonImage=function(){return u};this.getX=function(){return u.x};this.getY=function(){return u.y};
this.getSprite=function(){return u};this.getScale=function(){return u.scaleX};this._init(a,c,b,e,g,k,m)}
function CToggle(a,c,b,e,g){var k,m,f,d,p;this._init=function(a,b,c,e,g){p=void 0!==g?g:s_oStage;m=[];f=[];g=new createjs.SpriteSheet({images:[c],frames:{width:c.width/2,height:c.height,regX:c.width/2/2,regY:c.height/2},animations:{state_true:[0],state_false:[1]}});k=e;d=createSprite(g,"state_"+k,c.width/2/2,c.height/2,c.width/2,c.height);d.x=a;d.y=b;d.stop();s_bMobile||(d.cursor="pointer");p.addChild(d);this._initListener()};this.unload=function(){d.off("mousedown",this.buttonDown);d.off("pressup",
this.buttonRelease);p.removeChild(d)};this._initListener=function(){d.on("mousedown",this.buttonDown);d.on("pressup",this.buttonRelease)};this.addEventListener=function(a,b,c){m[a]=b;f[a]=c};this.setCursorType=function(a){d.cursor=a};this.setActive=function(a){k=a;d.gotoAndStop("state_"+k)};this.buttonRelease=function(){d.scaleX=1;d.scaleY=1;playSound("click",1,!1);k=!k;d.gotoAndStop("state_"+k);m[ON_MOUSE_UP]&&m[ON_MOUSE_UP].call(f[ON_MOUSE_UP],k)};this.buttonDown=function(){d.scaleX=.9;d.scaleY=
.9;m[ON_MOUSE_DOWN]&&m[ON_MOUSE_DOWN].call(f[ON_MOUSE_DOWN])};this.setPosition=function(a,b){d.x=a;d.y=b};this._init(a,c,b,e,g)}
function CGfxButton(a,c,b,e){var g,k,m,f,d,p,h,r,n;this._init=function(a,b,c){g=!1;k=[];m=[];d=[];f=createBitmap(c);f.x=a;f.y=b;h=p=1;f.regX=c.width/2;f.regY=c.height/2;s_bMobile||(f.cursor="pointer");y.addChild(f);this._initListener()};this.getSprite=function(){return f};this.unload=function(){f.off("mousedown",r);f.off("pressup",n);y.removeChild(f)};this.setVisible=function(a){f.visible=a};this.setCursorType=function(a){f.cursor=a};this._initListener=function(){r=f.on("mousedown",this.buttonDown);
n=f.on("pressup",this.buttonRelease)};this.addEventListener=function(a,b,c){k[a]=b;m[a]=c};this.addEventListenerWithParams=function(a,b,c,e){k[a]=b;m[a]=c;d[a]=e};this.enable=function(){g=!1};this.disable=function(){g=!0};this.buttonRelease=function(){g||(f.scaleX=0<p?1:-1,f.scaleY=1,playSound("click",1,!1),k[ON_MOUSE_UP]&&k[ON_MOUSE_UP].call(m[ON_MOUSE_UP],d[ON_MOUSE_UP]))};this.buttonDown=function(){g||(f.scaleX=0<p?.9:-.9,f.scaleY=.9,k[ON_MOUSE_DOWN]&&k[ON_MOUSE_DOWN].call(m[ON_MOUSE_DOWN],d[ON_MOUSE_DOWN]))};
this.rotation=function(a){f.rotation=a};this.getButton=function(){return f};this.setPosition=function(a,b){f.x=a;f.y=b};this.setX=function(a){f.x=a};this.setY=function(a){f.y=a};this.getButtonImage=function(){return f};this.setScaleX=function(a){p=f.scaleX=a};this.getX=function(){return f.x};this.getY=function(){return f.y};this.pulseAnimation=function(){createjs.Tween.get(f).to({scaleX:.9*p,scaleY:.9*h},850,createjs.Ease.quadOut).to({scaleX:p,scaleY:h},650,createjs.Ease.quadIn).call(function(){v.pulseAnimation()})};
this.trebleAnimation=function(){createjs.Tween.get(f).to({rotation:5},75,createjs.Ease.quadOut).to({rotation:-5},140,createjs.Ease.quadIn).to({rotation:0},75,createjs.Ease.quadIn).wait(750).call(function(){v.trebleAnimation()})};this.removeAllTweens=function(){createjs.Tween.removeTweens(f)};var y=void 0!==e?e:s_oStage;this._init(a,c,b);var v=this;return this}
function CInterface(a,c){var b,e,g,k,m,f,d,p,h,r,n,y,v=null,u=null,q,z,B,C,F;this._init=function(){h=new createjs.Container;s_oStage.addChild(h);var a=s_oSpriteLibrary.getSprite("but_exit");g=CANVAS_WIDTH-a.width/2-20;k=a.height/2+10;q=new CGfxButton(g,k,a,h);q.addEventListener(ON_MOUSE_UP,this._onExit,this);if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile){var c=s_oSpriteLibrary.getSprite("audio_icon");d=g-a.width/2-c.width/4;p=k;r=new CToggle(d,p,c,s_bAudioActive,h);r.addEventListener(ON_MOUSE_UP,this._onAudioToggle,
this);b=20+c.width/4;e=c.height/2+10;m=d-c.width/2;f=p}else b=g-a.width-10,e=k,m=b,f=e;a=window.document;c=a.documentElement;v=c.requestFullscreen||c.mozRequestFullScreen||c.webkitRequestFullScreen||c.msRequestFullscreen;u=a.exitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen||a.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(v=!1);v&&screenfull.enabled&&(c=s_oSpriteLibrary.getSprite("but_fullscreen"),y=new CToggle(b,e,c,s_bFullscreen,h),y.addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,
this));z=new CGfxButton(m,f,s_oSpriteLibrary.getSprite("but_restart_small"),h);z.addEventListener(ON_MOUSE_UP,this._onRestart,this);this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};this.initInterfacesText=function(){n=CANVAS_HEIGHT-250;B=new createjs.Text(TEXT_TIME+" "+TIME[a]/1E3,"30px "+PRIMARY_FONT,PRIMARY_FONT_COLOUR);B.textAlign="left";B.textBaseline="alphabetic";B.x=40;B.y=n;h.addChild(B);F=new createjs.Text(TEXT_LEVEL+" "+(c+1),"30px "+PRIMARY_FONT,PRIMARY_FONT_COLOUR);F.textAlign="center";F.x=
CANVAS_WIDTH_HALF;F.textBaseline="alphabetic";F.y=n;h.addChild(F);C=new createjs.Text(TIME[a]/100+" "+TEXT_PTS,"30px "+PRIMARY_FONT,PRIMARY_FONT_COLOUR);C.textAlign="right";C.x=CANVAS_WIDTH-40;C.textBaseline="alphabetic";C.y=n;h.addChild(C);this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};this.refreshLevelText=function(a){F.text=TEXT_LEVEL+" "+a};this.refreshButtonPos=function(a,c){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||r.setPosition(d-a,p+c);v&&screenfull.enabled&&y.setPosition(b-a,e+c);q.setPosition(g-
a,k+c);z.setPosition(m-a,f+c);n=CANVAS_HEIGHT-c-50;void 0!==B&&(B.y=n,F.y=n,C.y=n)};this.refreshTimer=function(a){0>a&&(a=0);B.text=TEXT_TIME+" "+a};this.refreshPointsText=function(a){C.text=a+" "+TEXT_PTS};this.unload=function(){if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)r.unload(),r=null;v&&screenfull.enabled&&y.unload();z.unload();q.unload();s_oInterface=null;s_oGame._bDisableEvents=!1};this._onExit=function(){new CAreYouSurePanel(h);s_oGame._bDisableEvents=!0};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);
s_bAudioActive=!s_bAudioActive};this._onFullscreenRelease=function(){s_bFullscreen?u.call(window.document):v.call(window.document.documentElement);sizeHandler()};this.resetFullscreenBut=function(){v&&screenfull.enabled&&y.setActive(s_bFullscreen)};this._onRestart=function(){null!==s_oEndPanel&&(this.unload(),s_oEndPanel.unload());null!==s_oWinPanel&&(this.unload(),s_oWinPanel.unload());s_oGame.restart()};s_oInterface=this;this._init();return this}var s_oInterface=null;
function CCreditsPanel(){var a,c,b,e,g,k,m,f,d,p;this._init=function(){var h=s_oSpriteLibrary.getSprite("msg_box");f=new createjs.Container;s_oStage.addChild(f);g=new createjs.Shape;g.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,2*CANVAS_HEIGHT);g.alpha=0;f.addChild(g);createjs.Tween.get(g).to({alpha:.7},500);p=CANVAS_HEIGHT+h.height/2;d=new createjs.Container;d.y=p;f.addChild(d);a=createBitmap(h);a.regX=h.width/2;a.regY=h.height/2;a.x=CANVAS_WIDTH_HALF;a.y=CANVAS_HEIGHT_HALF;d.addChild(a);
k=new createjs.Shape;k.graphics.beginFill("#0f0f0f").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);k.alpha=.01;k.on("click",this._onLogoButRelease);d.addChild(k);s_bMobile||(k.cursor="pointer");h=s_oSpriteLibrary.getSprite("but_exit");b=new CGfxButton(585,515,h,d);b.addEventListener(ON_MOUSE_UP,this.unload,this);e=new createjs.Text(TEXT_CREDITS_DEVELOPED,"44px "+PRIMARY_FONT,"#ffffff");e.textAlign="center";e.textBaseline="alphabetic";e.x=CANVAS_WIDTH_HALF;e.y=CANVAS_HEIGHT_HALF-80;d.addChild(e);h=s_oSpriteLibrary.getSprite("logo_ctl");
c=createBitmap(h);c.regX=h.width/2;c.regY=h.height/2;c.x=CANVAS_WIDTH_HALF;c.y=CANVAS_HEIGHT_HALF;d.addChild(c);m=new createjs.Text("www.codethislab.com","38px "+PRIMARY_FONT,"#ffffff");m.textAlign="center";m.textBaseline="alphabetic";m.x=CANVAS_WIDTH_HALF;m.y=CANVAS_HEIGHT_HALF+100;d.addChild(m);createjs.Tween.get(d).to({y:0},1E3,createjs.Ease.backOut)};this.unload=function(){createjs.Tween.get(g).to({alpha:0},500);createjs.Tween.get(f).to({y:p},400,createjs.Ease.backIn).call(function(){k.off("click",
this._onLogoButRelease);b.unload();b=null;s_oStage.removeChild(f);s_oMenu.exitFromCredits()})};this._onLogoButRelease=function(){window.open("http://www.codethislab.com/index.php?&l=en","_blank")};this._init()}
function CAreYouSurePanel(){var a,c,b,e,g,k;this._init=function(){c=new createjs.Container;s_oStage.addChild(c);k=new createjs.Container;s_oStage.addChild(k);g=new createjs.Shape;g.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);g.alpha=0;g.on("mousedown",function(){});c.addChild(g);createjs.Tween.get(g).to({alpha:.7},500);var f=s_oSpriteLibrary.getSprite("msg_box"),d=createBitmap(f);d.regX=f.width/2;d.regY=f.height/2;d.x=CANVAS_WIDTH_HALF;d.y=CANVAS_HEIGHT_HALF;k.addChild(d);
k.y=CANVAS_HEIGHT+f.height/2;a=k.y;createjs.Tween.get(k).to({y:0},1E3,createjs.Ease.backOut);new CTLText(k,CANVAS_WIDTH/2-250,CANVAS_HEIGHT/2-100-120,500,200,36,"center",PRIMARY_FONT_COLOUR,PRIMARY_FONT,1,2,2,TEXT_ARE_SURE,!0,!0,!0,!1);b=new CGfxButton(CANVAS_WIDTH_HALF+170,850,s_oSpriteLibrary.getSprite("but_yes"),k);b.addEventListener(ON_MOUSE_UP,this._onButYes,this);e=new CGfxButton(CANVAS_WIDTH_HALF-170,850,s_oSpriteLibrary.getSprite("but_no"),k);e.addEventListener(ON_MOUSE_UP,this._onButNo,this)};
this._onButYes=function(){e.disable();b.disable();createjs.Tween.get(g).to({alpha:0},500);createjs.Tween.get(k).to({y:a},400,createjs.Ease.backIn).call(function(){m.unload();s_oGame.onExit()})};this._onButNo=function(){e.disable();b.disable();createjs.Tween.get(g).to({alpha:0},500);createjs.Tween.get(k).to({y:a},400,createjs.Ease.backIn).call(function(){m.unload()})};this.unload=function(){e.unload();b.unload();s_oGame._bDisableEvents=!1;c.removeChild(g);s_oStage.removeChild(k);g.off("mousedown",
function(){})};var m=this;this._init()}
function CHelpPanel(){var a,c,b,e,g,k,m,f,d;this._init=function(){f=new createjs.Container;d=new createjs.Shape;d.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);s_oStage.addChild(f,d);createjs.Tween.get(d).to({alpha:0},1E3).call(function(){d.visible=!1});var b=new createjs.Shape;b.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);b.alpha=.7;f.addChild(b);b=s_oSpriteLibrary.getSprite("msg_box");a=createBitmap(b);a.regX=b.width/2;a.regY=b.height/2;a.x=CANVAS_WIDTH_HALF;
a.y=CANVAS_HEIGHT_HALF;f.addChild(a);this.initText();this.initAnimations();var c=this;f.on("pressup",function(){c._onExitHelp()});s_oGame._bDisableEvents=!0;s_bMobile||(f.cursor="pointer")};this.initText=function(){new CTLText(f,CANVAS_WIDTH/2-250,CANVAS_HEIGHT/2-100-180,500,200,32,"center",PRIMARY_FONT_COLOUR,PRIMARY_FONT,1,2,2,TEXT_HELP1,!0,!0,!0,!1);new CTLText(f,CANVAS_WIDTH/2-250,CANVAS_HEIGHT/2-100-60,500,200,32,"center",PRIMARY_FONT_COLOUR,PRIMARY_FONT,1,2,2,TEXT_HELP2,!0,!0,!0,!1)};this.initAnimations=
function(){var a=CANVAS_WIDTH_HALF,d=CANVAS_HEIGHT_HALF+120,n={images:[s_oSpriteLibrary.getSprite("pipe1"),s_oSpriteLibrary.getSprite("pipe4")],frames:{width:SQUARE_SIZE,height:SQUARE_SIZE},animations:{PIPE_1_OFF:[0,0,!1],PIPE_1_ON:[1,1,!1],PIPE_4_OFF:[2,2,!1],PIPE_4_ON:[3,3,!1]},framerate:0};n=new createjs.SpriteSheet(n);b=createSprite(n,"PIPE_4_ON",0,0,SQUARE_SIZE,SQUARE_SIZE);b.regX=b.regY=SQUARE_SIZE/2;b.x=a-SQUARE_SIZE;b.y=d;b.rotation=270;e=createSprite(n,"PIPE_1_OFF",0,0,SQUARE_SIZE,SQUARE_SIZE);
e.regX=e.regY=SQUARE_SIZE/2;e.x=a;e.y=d;e.rotation=90;g=createSprite(n,"PIPE_4_OFF",0,0,SQUARE_SIZE,SQUARE_SIZE);g.regX=g.regY=SQUARE_SIZE/2;g.x=a+SQUARE_SIZE;g.y=d;g.rotation=90;n={images:[s_oSpriteLibrary.getSprite("battery")],frames:{width:SQUARE_SIZE,height:SQUARE_SIZE},animations:{idle:[0,49,"idle"]},framerate:30};n=new createjs.SpriteSheet(n);k=createSprite(n,"idle",0,0,SQUARE_SIZE,SQUARE_SIZE);k.regX=k.regY=SQUARE_SIZE/2;k.x=b.x;k.y=b.y;n={images:[s_oSpriteLibrary.getSprite("led_"+Math.floor(4*
Math.random()+1))],frames:{width:141,height:165},animations:{PIPE_END_OFF:[0,0,!1],LED_TURN_ON:[1,9,!1],LED_TURN_OFF:{frames:[9,8,7,6,5,4,3,2,1,0],next:!1}},framerate:30};n=new createjs.SpriteSheet(n);m=createSprite(n,"PIPE_END_OFF",0,0,141,165);m.regX=68.5;m.regY=102.5;m.x=g.x;m.y=g.y;f.addChild(b,e,g,k,m);n={images:[s_oSpriteLibrary.getSprite("hand_anim")],frames:{width:202,height:277},animations:{idle:[0,9,"stop"],stop:[9,9,"stop"]},framerate:30};n=new createjs.SpriteSheet(n);c=createSprite(n,
"stop",0,0,202,277);c.regX=101;c.regY=138.5;c.x=a+20;c.y=d+60;c.scaleX=c.scaleY=.5;c.rotation=180;f.addChild(c);this.startAnimation(0)};this.startAnimation=function(a){var b=90*a;c.gotoAndPlay("idle");createjs.Tween.get(e).wait(250).call(function(){p.onAnimationStart(a)}).to({rotation:b},500,createjs.Ease.cubicOut).call(function(){p.onAnimationEnd(a)}).play};this.onAnimationStart=function(a){1===a&&(e.gotoAndPlay("PIPE_1_OFF"),g.gotoAndPlay("PIPE_4_OFF"),m.gotoAndPlay("LED_TURN_OFF"))};this.onAnimationEnd=
function(a){c.gotoAndPlay("idle");1!==a&&(e.gotoAndPlay("PIPE_1_ON"),g.gotoAndPlay("PIPE_4_ON"),m.gotoAndPlay("LED_TURN_ON"));var b=a+1;1<=a&&(b=0);p.startAnimation(b)};this.unload=function(){createjs.Tween.get(f).to({alpha:0},500,createjs.Ease.cubicOut).call(function(){createjs.Tween.removeAllTweens();s_oStage.removeChild(f);s_oGame._bDisableEvents=!1;var a=this;f.off("pressup",function(){a._onExitHelp()})})};this._onExitHelp=function(){this.unload();s_oGame._onExitHelp()};var p=this;this._init()}
function CEndPanel(a){var c,b,e,g,k,m;this._init=function(){m=a;c=new createjs.Container;s_oStage.addChild(c);b=new createjs.Shape;b.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);b.on("mousedown",function(){});e=createBitmap(s_oSpriteLibrary.getSprite("bg_end_panel"));c.addChild(e,b);var d=s_oSpriteLibrary.getSprite("msg_box"),f=createBitmap(d);f.regX=d.width/2;f.regY=d.height/2;f.x=CANVAS_WIDTH_HALF;f.y=CANVAS_HEIGHT_HALF;c.addChild(f);d=450;f=200;new CTLText(c,CANVAS_WIDTH/
2-d/2,CANVAS_HEIGHT/2-f/2-120,d,f,36,"center",PRIMARY_FONT_COLOUR,PRIMARY_FONT,1,2,2,TEXT_GAMEOVER,!0,!0,!0,!1);d=450;f=200;new CTLText(c,CANVAS_WIDTH/2-d/2,CANVAS_HEIGHT/2-f/2,d,f,36,"center",PRIMARY_FONT_COLOUR,PRIMARY_FONT,1,2,2,TEXT_END_PANEL+": 0",!0,!0,!0,!1);g=new CGfxButton(CANVAS_WIDTH_HALF-170,850,s_oSpriteLibrary.getSprite("but_home"),c);g.addEventListener(ON_MOUSE_UP,this._onExit,this);k=new CGfxButton(CANVAS_WIDTH_HALF+170,850,s_oSpriteLibrary.getSprite("but_restart"),c);k.addEventListener(ON_MOUSE_UP,
this._onRestart,this);new CInterface(m);c.alpha=0;createjs.Tween.get(c).wait(1500).to({alpha:1},2E3,createjs.Ease.cubicOut).call(function(){$(s_oMain).trigger("show_interlevel_ad")})};this.unload=function(){g.unload();k.unload();s_oStage.removeChild(c);s_oEndPanel=null};this._onExit=function(){f.unload();s_oGame.onExit()};this._onRestart=function(){f.unload();s_oGame.restart()};s_oEndPanel=this;var f=this;this._init()}var s_oEndPanel=null;
function CWinPanel(a,c,b,e){var g,k,m,f,d,p,h,r,n;this._init=function(){p=a;h=c;r=b;n=e;var y=CANVAS_HEIGHT_HALF-200,v=CANVAS_HEIGHT_HALF-160,u=CANVAS_HEIGHT_HALF-80,q=CANVAS_HEIGHT_HALF-50;g=new createjs.Container;s_oStage.addChild(g);k=new createjs.Shape;k.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);k.on("mousedown",function(){});m=createBitmap(s_oSpriteLibrary.getSprite("bg_end_panel"));g.addChild(m,k);var z=s_oSpriteLibrary.getSprite("msg_box"),B=createBitmap(z);B.regX=
z.width/2;B.regY=z.height/2;B.x=CANVAS_WIDTH_HALF;B.y=CANVAS_HEIGHT_HALF;g.addChild(B);new CTLText(g,CANVAS_WIDTH/2-250,y-100,500,200,30,"center",PRIMARY_FONT_COLOUR,PRIMARY_FONT,1,2,2,TEXT_CONGRATS,!0,!0,!0,!1);new CTLText(g,CANVAS_WIDTH/2-250,v-100,500,200,30,"center",PRIMARY_FONT_COLOUR,PRIMARY_FONT,1,2,2,TEXT_YOU_MADE+" "+Math.ceil((TIME[p]-h)/100)+" "+TEXT_PTS+"!",!0,!0,!0,!1);new CTLText(g,CANVAS_WIDTH/2-250,u-100,500,200,24,"center",PRIMARY_FONT_COLOUR,PRIMARY_FONT,1,2,2,TEXT_MULTIPLIER+"x"+
SCORE_MULTIPLIER[p],!0,!0,!0,!1);new CTLText(g,CANVAS_WIDTH/2-250,q-100,500,200,24,"center",PRIMARY_FONT_COLOUR,PRIMARY_FONT,1,2,2,TEXT_TOTAL_SCORE+s_iTotalScore,!0,!0,!0,!1);this.addStars();f=new CGfxButton(CANVAS_WIDTH_HALF-170,850,s_oSpriteLibrary.getSprite("but_home"),g);f.addEventListener(ON_MOUSE_UP,this._onExit,this);d=new CGfxButton(CANVAS_WIDTH_HALF+170,850,s_oSpriteLibrary.getSprite("but_next"),g);d.addEventListener(ON_MOUSE_UP,this._onNext,this);new CInterface(p);g.alpha=0;createjs.Tween.get(g).wait(1500).to({alpha:1},
2E3,createjs.Ease.cubicOut).call(function(){$(s_oMain).trigger("show_interlevel_ad")});setVolume("soundtrack",.4)};this.addStars=function(){for(var a=CANVAS_WIDTH_HALF,b=CANVAS_HEIGHT_HALF+100,c=0;3>c;c++){var d={images:[s_oSpriteLibrary.getSprite("star")],frames:{width:70,height:70,regX:35,regY:35},animations:{off:[0],on:[1]}};d=new createjs.SpriteSheet(d);d=createSprite(d,"off",35,35,70,70);d.x=a+[-60,0,60][c];d.y=b-55;n>c&&d.gotoAndPlay("on");var e=Math.random(200)+50,f=Math.random(1E3)+1E3;createjs.Tween.get(d,
{loop:!0}).to({rotation:-1*e,scaleX:.5,scaleY:.5},f,createjs.Ease.quadOut).to({rotation:0,scaleX:1,scaleY:1},f,createjs.Ease.quadOut).to({rotation:e,scaleX:.5,scaleY:.5},f,createjs.Ease.quadOut).to({rotation:0,scaleX:1,scaleY:1},f,createjs.Ease.quadOut);g.addChild(d)}};this.unload=function(){f.unload();d.unload();s_oStage.removeChild(g);s_oWinPanel=null};this._onExit=function(){this.unload();s_oMain.gotoMenu()};this._onNext=function(){this.unload();r+1<MATRIX_SETTINGS[p].length?s_oMain.gotoGame(p,
r+1):(s_oGame.unload(),s_oMain.gotoLevelSelect(p))};s_oWinPanel=this;this._init()}var s_oWinPanel=null;
function CMsgBox(a,c){var b,e;this._init=function(a){e=new createjs.Container;k.addChild(e);a=new createjs.Shape;a.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);a.alpha=.5;a.on("click",function(){});e.addChild(a);a=s_oSpriteLibrary.getSprite("msg_box");var c=createBitmap(a);c.x=.5*CANVAS_WIDTH;c.y=.5*CANVAS_HEIGHT;c.regX=.5*a.width;c.regY=.5*a.height;e.addChild(c);new CTLText(e,CANVAS_WIDTH/2-225,CANVAS_HEIGHT/2-100-190,450,200,36,"center",PRIMARY_FONT_COLOUR,PRIMARY_FONT,1,
2,2,TEXT_ERR_LS,!0,!0,!0,!1);b=new CGfxButton(CANVAS_WIDTH_HALF,840,s_oSpriteLibrary.getSprite("but_yes"),e);b.addEventListener(ON_MOUSE_UP,this._onButOk,this)};this._onButOk=function(){g.unload()};this.unload=function(){b.unload();k.removeChild(e)};var g=this;var k=c;this._init(a)};